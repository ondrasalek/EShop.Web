2022-01-16T08:31:25.2343870+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:25.8553190+01:00  [INF] Executed DbCommand ("76"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T08:31:35.9669290+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:36.8477330+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T08:31:37.5214370+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T08:31:37.5575440+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T08:31:38.0565940+01:00  [INF] Executed DbCommand ("73"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.2067850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.2610970+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.2660370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.4606840+01:00  [INF] Executed DbCommand ("71"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.4662900+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.6079930+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T08:31:38.7289940+01:00  [INF] Executed DbCommand ("76"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.9482970+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:39.9158430+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T08:31:39.9223380+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T08:31:39.9357180+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T08:31:39.9428440+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T08:31:39.9481560+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T08:31:40.2968960+01:00 0HMEOO8U8IURF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:40.4944870+01:00 0HMEOO8U8IURF:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T08:31:40.5368820+01:00 0HMEOO8U8IURF:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T08:31:40.5501400+01:00 0HMEOO8U8IURF:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 265.0666ms (791a596a)
2022-01-16T08:31:40.5790400+01:00 0HMEOO8U8IURF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:40.5830330+01:00 0HMEOO8U8IURF:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:40.6131860+01:00 0HMEOO8U8IURF:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:40.6666830+01:00 0HMEOO8U8IURF:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T08:31:40.9462150+01:00 0HMEOO8U8IURF:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:41.1602890+01:00 0HMEOO8U8IURF:00000003 [INF] Executed ViewResult - view "Login" executed in 504.9817ms. (f66409e9)
2022-01-16T08:31:41.1620650+01:00 0HMEOO8U8IURF:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 547.3835ms (afa2e885)
2022-01-16T08:31:41.1623240+01:00 0HMEOO8U8IURF:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:41.1658590+01:00 0HMEOO8U8IURF:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - - 200 - text/html;+charset=utf-8 586.7513ms (791a596a)
2022-01-16T08:31:41.5025000+01:00 0HMEOO8U8IURH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/login.css - - (ca22a1cb)
2022-01-16T08:31:41.5034000+01:00 0HMEOO8U8IURG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/site.css - - (ca22a1cb)
2022-01-16T08:31:41.5035050+01:00 0HMEOO8U8IURF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - (ca22a1cb)
2022-01-16T08:31:41.5038770+01:00 0HMEOO8U8IURI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - (ca22a1cb)
2022-01-16T08:31:41.5062940+01:00 0HMEOO8U8IURJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - (ca22a1cb)
2022-01-16T08:31:41.5149130+01:00 0HMEOO8U8IURG:00000002 [INF] The file "/css/site.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURF:00000004 [INF] The file "/lib/bootstrap/dist/css/bootstrap.min.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURJ:00000002 [INF] The file "/lib/jquery/dist/jquery.min.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5149130+01:00 0HMEOO8U8IURI:00000002 [INF] The file "/js/vanilla-tilt.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURH:00000002 [INF] The file "/css/login.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - - 304 - application/javascript 12.8331ms (791a596a)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURF:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 14.0577ms (791a596a)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURG:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/site.css - - - 304 - text/css 14.0577ms (791a596a)
2022-01-16T08:31:41.5168560+01:00 0HMEOO8U8IURH:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/login.css - - - 304 - text/css 39.1738ms (791a596a)
2022-01-16T08:31:41.5169490+01:00 0HMEOO8U8IURJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 304 - application/javascript 10.6644ms (791a596a)
2022-01-16T08:31:41.5230520+01:00 0HMEOO8U8IURI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - (ca22a1cb)
2022-01-16T08:31:41.5235140+01:00 0HMEOO8U8IURI:00000003 [INF] The file "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5236040+01:00 0HMEOO8U8IURH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - (ca22a1cb)
2022-01-16T08:31:41.5237970+01:00 0HMEOO8U8IURI:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - application/javascript 0.8183ms (791a596a)
2022-01-16T08:31:41.5239060+01:00 0HMEOO8U8IURH:00000003 [INF] The file "/js/site.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5261780+01:00 0HMEOO8U8IURH:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - - 304 - application/javascript 2.6382ms (791a596a)
2022-01-16T08:31:41.5819640+01:00 0HMEOO8U8IURH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/parallax.png - - (ca22a1cb)
2022-01-16T08:31:41.5823180+01:00 0HMEOO8U8IURH:00000004 [INF] The file "/img/parallax.png" was not modified (f1f8d725)
2022-01-16T08:31:41.5826010+01:00 0HMEOO8U8IURH:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/parallax.png - - - 304 - image/png 0.6685ms (791a596a)
2022-01-16T08:31:43.4488710+01:00 0HMEOO8U8IURH:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T08:31:43.4522640+01:00 0HMEOO8U8IURH:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:43.5242380+01:00 0HMEOO8U8IURH:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:43.6541720+01:00 0HMEOO8U8IURH:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:43.7374650+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("74"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:44.0882860+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T08:31:44.2228030+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T08:31:44.2653620+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:44.3213880+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T08:31:44.3583880+01:00 0HMEOO8U8IURH:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T08:31:44.3812530+01:00 0HMEOO8U8IURH:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T08:31:44.3851270+01:00 0HMEOO8U8IURH:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 860.5953ms (afa2e885)
2022-01-16T08:31:44.3864920+01:00 0HMEOO8U8IURH:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:44.3969900+01:00 0HMEOO8U8IURH:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 947.9293ms (791a596a)
2022-01-16T08:31:44.3999720+01:00 0HMEOO8U8IURH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T08:31:44.4105480+01:00 0HMEOO8U8IURH:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:44.4142490+01:00 0HMEOO8U8IURH:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:44.4218810+01:00 0HMEOO8U8IURH:00000006 [INF] Index viewed (84b92a55)
2022-01-16T08:31:44.4715220+01:00 0HMEOO8U8IURH:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:44.4847930+01:00 0HMEOO8U8IURH:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T08:31:44.5085690+01:00 0HMEOO8U8IURH:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T08:31:44.5511720+01:00 0HMEOO8U8IURH:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T08:31:44.5736990+01:00 0HMEOO8U8IURH:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:44.6006730+01:00 0HMEOO8U8IURH:00000006 [INF] Executed ViewResult - view "Index" executed in 51.6902ms. (f66409e9)
2022-01-16T08:31:44.6009170+01:00 0HMEOO8U8IURH:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 186.4747ms (afa2e885)
2022-01-16T08:31:44.6010640+01:00 0HMEOO8U8IURH:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:44.6016350+01:00 0HMEOO8U8IURH:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 201.6425ms (791a596a)
2022-01-16T08:31:44.6563720+01:00 0HMEOO8U8IURH:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - (ca22a1cb)
2022-01-16T08:31:44.6568640+01:00 0HMEOO8U8IURH:00000007 [INF] The file "/css/shop_homepage.css" was not modified (f1f8d725)
2022-01-16T08:31:44.6575840+01:00 0HMEOO8U8IURH:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - - 304 - text/css 1.2326ms (791a596a)
2022-01-16T08:31:44.6614260+01:00 0HMEOO8U8IURI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/Product.js - - (ca22a1cb)
2022-01-16T08:31:44.6618370+01:00 0HMEOO8U8IURI:00000004 [INF] The file "/js/Product.js" was not modified (f1f8d725)
2022-01-16T08:31:44.6622640+01:00 0HMEOO8U8IURI:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/Product.js - - - 304 - application/javascript 0.8661ms (791a596a)
2022-01-16T08:31:44.6770160+01:00 0HMEOO8U8IURI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.6774230+01:00 0HMEOO8U8IURI:00000005 [INF] The file "/img/product/Rombas9.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.6778500+01:00 0HMEOO8U8IURI:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - - 304 - image/jpeg 0.7820ms (791a596a)
2022-01-16T08:31:44.8001780+01:00 0HMEOO8U8IURG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8005840+01:00 0HMEOO8U8IURG:00000003 [INF] The file "/img/product/Xiaomi Roidmi EVE Plus .jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006380+01:00 0HMEOO8U8IURF:00000005 [INF] The file "/img/product/ETA Raggio.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006380+01:00 0HMEOO8U8IURJ:00000003 [INF] The file "/img/product/Concept VR1000.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006570+01:00 0HMEOO8U8IURI:00000006 [INF] The file "/img/product/Roborock S7 White.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8009170+01:00 0HMEOO8U8IURG:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - - 304 - image/jpeg 0.8563ms (791a596a)
2022-01-16T08:31:44.8009250+01:00 0HMEOO8U8IURJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - - 304 - image/jpeg 0.5723ms (791a596a)
2022-01-16T08:31:44.8009900+01:00 0HMEOO8U8IURF:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - - 304 - image/jpeg 0.6072ms (791a596a)
2022-01-16T08:31:44.8009230+01:00 0HMEOO8U8IURI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - - 304 - image/jpeg 0.6058ms (791a596a)
2022-01-16T08:31:44.8285210+01:00 0HMEOO8U8IURH:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8326300+01:00 0HMEOO8U8IURH:00000008 [INF] The file "/img/product/Roborock tyčový vysavač H7.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8330790+01:00 0HMEOO8U8IURH:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - - 304 - image/jpeg 31.4766ms (791a596a)
2022-01-16T08:31:48.4157690+01:00 0HMEOO8U8IURH:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T08:31:48.4237480+01:00 0HMEOO8U8IURH:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:48.4239950+01:00 0HMEOO8U8IURH:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:48.4262880+01:00 0HMEOO8U8IURH:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:48.4336370+01:00 0HMEOO8U8IURH:00000009 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:48.4350470+01:00 0HMEOO8U8IURH:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:48.4442600+01:00 0HMEOO8U8IURH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:48.5613860+01:00 0HMEOO8U8IURJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T08:31:48.5656580+01:00 0HMEOO8U8IURJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:48.5658140+01:00 0HMEOO8U8IURJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:48.5660050+01:00 0HMEOO8U8IURJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:48.5663360+01:00 0HMEOO8U8IURJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:48.5667080+01:00 0HMEOO8U8IURJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:48.5680970+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:48.6392240+01:00 0HMEOO8U8IURH:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T08:31:48.6392120+01:00 0HMEOO8U8IURJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T08:31:48.6611470+01:00 0HMEOO8U8IURH:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 234.7149ms (afa2e885)
2022-01-16T08:31:48.6611360+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 95.0398ms (afa2e885)
2022-01-16T08:31:48.6612230+01:00 0HMEOO8U8IURH:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:48.6612230+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:48.6618890+01:00 0HMEOO8U8IURJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"fafa2891-da52-5649-7a5d-935779a190d1" (1d7cf8c0)
2022-01-16T08:31:48.6618890+01:00 0HMEOO8U8IURH:00000009 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"945cb815-3ea0-4c6d-489b-3ec14144907b" (1d7cf8c0)
2022-01-16T08:31:48.6630700+01:00 0HMEOO8U8IURH:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 247.5031ms (791a596a)
2022-01-16T08:31:48.6630700+01:00 0HMEOO8U8IURJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 101.7235ms (791a596a)
2022-01-16T08:31:50.6443490+01:00 0HMEOO8U8IURH:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:50.6457490+01:00 0HMEOO8U8IURH:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:50.6459060+01:00 0HMEOO8U8IURH:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:50.6514650+01:00 0HMEOO8U8IURH:0000000A [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:50.7044680+01:00 0HMEOO8U8IURH:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:50.7681260+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("28"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:51.1007620+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("40"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T08:31:51.1312660+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T08:31:59.4613330+01:00 0HMEOO8U8IURH:0000000A [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T08:31:59.4617640+01:00 0HMEOO8U8IURH:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8810.498ms (afa2e885)
2022-01-16T08:31:59.4619850+01:00 0HMEOO8U8IURH:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:59.4645720+01:00 0HMEOO8U8IURH:0000000A [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8820.5649ms (791a596a)
2022-01-16T08:31:59.4692300+01:00 0HMEOO8U8IURH:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T08:31:59.4708500+01:00 0HMEOO8U8IURH:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:59.4709940+01:00 0HMEOO8U8IURH:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:59.4759120+01:00 0HMEOO8U8IURH:0000000B [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:59.4800430+01:00 0HMEOO8U8IURH:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:59.5209400+01:00 0HMEOO8U8IURH:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:59.6547380+01:00 0HMEOO8U8IURH:0000000B [INF] Executed DbCommand ("34"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T08:31:59.6782620+01:00 0HMEOO8U8IURH:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T08:31:59.7006030+01:00 0HMEOO8U8IURH:0000000B [INF] Executed ViewResult - view "Index" executed in 23.611ms. (f66409e9)
2022-01-16T08:31:59.7007700+01:00 0HMEOO8U8IURH:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 224.7383ms (afa2e885)
2022-01-16T08:31:59.7008620+01:00 0HMEOO8U8IURH:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:59.7012240+01:00 0HMEOO8U8IURH:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 232.0709ms (791a596a)
2022-01-16T10:05:31.2866170+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T10:05:32.0729410+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T10:05:32.4969360+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T10:05:32.5073070+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T10:05:32.7766390+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9215050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:32.9716320+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9830780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:32.9906280+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9910140+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:33.0298270+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T10:05:33.0641040+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:33.2057230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:33.4991690+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T10:05:33.4992500+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T10:05:33.4994470+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T10:05:33.4995090+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T10:05:33.4995460+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:51:56.7897630+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:52:15.4541380+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:16.3819850+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:52:16.7358120+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:52:16.7488310+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:52:17.0504190+01:00  [INF] Executed DbCommand ("39"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.1861240+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.2186200+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.2319280+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.2561170+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.2569660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.3018160+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:52:17.3383710+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.4533300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.7925690+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:52:17.7926670+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:52:17.7930360+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:52:17.7931150+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:52:17.7931530+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:52:27.4628830+01:00 0HMEORP4K94DI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T11:52:27.5739410+01:00 0HMEORP4K94DI:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T11:52:27.5901630+01:00 0HMEORP4K94DI:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T11:52:27.6000520+01:00 0HMEORP4K94DI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 302 0 - 143.4370ms (791a596a)
2022-01-16T11:52:27.6093300+01:00 0HMEORP4K94DI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrders - - (ca22a1cb)
2022-01-16T11:52:27.6145730+01:00 0HMEORP4K94DI:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:27.6506660+01:00 0HMEORP4K94DI:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:27.6928260+01:00 0HMEORP4K94DI:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T11:52:27.8880090+01:00 0HMEORP4K94DI:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:28.0253020+01:00 0HMEORP4K94DI:00000003 [INF] Executed ViewResult - view "Login" executed in 333.6099ms. (f66409e9)
2022-01-16T11:52:28.0268010+01:00 0HMEORP4K94DI:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 374.7491ms (afa2e885)
2022-01-16T11:52:28.0269610+01:00 0HMEORP4K94DI:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:28.0310820+01:00 0HMEORP4K94DI:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrders - - - 200 - text/html;+charset=utf-8 421.6941ms (791a596a)
2022-01-16T11:52:28.4054110+01:00 0HMEORP4K94DI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico - - (ca22a1cb)
2022-01-16T11:52:28.4332830+01:00 0HMEORP4K94DI:00000004 [INF] The file "/favicon.ico" was not modified (f1f8d725)
2022-01-16T11:52:28.4362100+01:00 0HMEORP4K94DI:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/favicon.ico - - - 304 - image/x-icon 30.8055ms (791a596a)
2022-01-16T11:52:30.0753520+01:00 0HMEORP4K94DI:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T11:52:30.0796480+01:00 0HMEORP4K94DI:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:30.1129820+01:00 0HMEORP4K94DI:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:30.1914990+01:00 0HMEORP4K94DI:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:30.1956870+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:30.3691150+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T11:52:30.4231730+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T11:52:30.4285600+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:30.4410730+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T11:52:30.4640670+01:00 0HMEORP4K94DI:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T11:52:30.4847680+01:00 0HMEORP4K94DI:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:52:30.4885460+01:00 0HMEORP4K94DI:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 375.4518ms (afa2e885)
2022-01-16T11:52:30.4903600+01:00 0HMEORP4K94DI:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:30.5055730+01:00 0HMEORP4K94DI:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 430.2475ms (791a596a)
2022-01-16T11:52:30.5058970+01:00 0HMEORP4K94DI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:52:30.5136570+01:00 0HMEORP4K94DI:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:30.5162340+01:00 0HMEORP4K94DI:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:30.5190750+01:00 0HMEORP4K94DI:00000006 [INF] Index viewed (84b92a55)
2022-01-16T11:52:30.5892740+01:00 0HMEORP4K94DI:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:30.6056920+01:00 0HMEORP4K94DI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:52:30.6286120+01:00 0HMEORP4K94DI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:52:30.6740750+01:00 0HMEORP4K94DI:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:52:30.7027680+01:00 0HMEORP4K94DI:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:30.7385000+01:00 0HMEORP4K94DI:00000006 [INF] Executed ViewResult - view "Index" executed in 66.6593ms. (f66409e9)
2022-01-16T11:52:30.7386800+01:00 0HMEORP4K94DI:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 222.3556ms (afa2e885)
2022-01-16T11:52:30.7387990+01:00 0HMEORP4K94DI:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:30.7392160+01:00 0HMEORP4K94DI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 233.2219ms (791a596a)
2022-01-16T11:52:33.6630300+01:00 0HMEORP4K94DI:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:52:33.6741510+01:00 0HMEORP4K94DI:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:33.6744020+01:00 0HMEORP4K94DI:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:33.6771310+01:00 0HMEORP4K94DI:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:33.6862170+01:00 0HMEORP4K94DI:00000007 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:33.6884430+01:00 0HMEORP4K94DI:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:33.6990880+01:00 0HMEORP4K94DI:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:33.9525240+01:00 0HMEORP4K94DI:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:52:33.9957240+01:00 0HMEORP4K94DI:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 318.483ms (afa2e885)
2022-01-16T11:52:33.9958650+01:00 0HMEORP4K94DI:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:33.9971180+01:00 0HMEORP4K94DI:00000007 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"08414ea4-b8d9-09a8-4c7c-cdc77dbb87f0" (1d7cf8c0)
2022-01-16T11:52:33.9985930+01:00 0HMEORP4K94DI:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 335.6395ms (791a596a)
2022-01-16T11:52:34.1512310+01:00 0HMEORP4K94DI:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:52:34.1714650+01:00 0HMEORP4K94DI:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:34.1717720+01:00 0HMEORP4K94DI:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:34.1719860+01:00 0HMEORP4K94DI:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:34.1741690+01:00 0HMEORP4K94DI:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:34.1764210+01:00 0HMEORP4K94DI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:34.2502550+01:00 0HMEORP4K94DI:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:52:34.2504970+01:00 0HMEORP4K94DI:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 78.4477ms (afa2e885)
2022-01-16T11:52:34.2505410+01:00 0HMEORP4K94DI:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:34.2508560+01:00 0HMEORP4K94DI:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 99.6819ms (791a596a)
2022-01-16T11:52:35.9747020+01:00 0HMEORP4K94DI:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:52:35.9758350+01:00 0HMEORP4K94DI:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:35.9759280+01:00 0HMEORP4K94DI:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:35.9821440+01:00 0HMEORP4K94DI:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:35.9918140+01:00 0HMEORP4K94DI:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:36.0178000+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:36.4429760+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.5134330+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.5167350+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.6221880+01:00 0HMEORP4K94DI:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 639.9553ms (afa2e885)
2022-01-16T11:52:36.6229580+01:00 0HMEORP4K94DI:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:36.6901520+01:00 0HMEORP4K94DI:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:52:36.7537270+01:00 0HMEORP4K94DI:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 778.9742ms (791a596a)
2022-01-16T11:53:56.6861260+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:54:06.2825640+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:06.8203770+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:54:07.3179560+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:54:07.3305470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:54:07.5519110+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6408790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.6656120+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6757220+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.6814200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6817300+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.7038050+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:54:07.7271320+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.8397310+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:08.0626670+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:54:08.0627550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:54:08.0630360+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:54:08.0633550+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:54:08.0634290+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:54:14.4433770+01:00 0HMEORQ4GUR04:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:54:14.5792770+01:00 0HMEORQ4GUR04:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:14.5811400+01:00 0HMEORQ4GUR04:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:14.6142610+01:00 0HMEORQ4GUR04:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:14.6231190+01:00 0HMEORQ4GUR04:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:14.6617880+01:00 0HMEORQ4GUR04:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:54:14.6739700+01:00 0HMEORQ4GUR04:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 47.9353ms (afa2e885)
2022-01-16T11:54:14.6749150+01:00 0HMEORQ4GUR04:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:14.6863310+01:00 0HMEORQ4GUR04:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 246.9177ms (791a596a)
2022-01-16T11:54:14.6925450+01:00 0HMEORQ4GUR04:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:54:14.6961760+01:00 0HMEORQ4GUR04:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:14.6982790+01:00 0HMEORQ4GUR04:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:14.7012910+01:00 0HMEORQ4GUR04:00000003 [INF] Index viewed (84b92a55)
2022-01-16T11:54:14.7043600+01:00 0HMEORQ4GUR04:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:14.7233220+01:00 0HMEORQ4GUR04:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:54:14.7498030+01:00 0HMEORQ4GUR04:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:54:14.8234000+01:00 0HMEORQ4GUR04:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:54:14.9057550+01:00 0HMEORQ4GUR04:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:15.1248950+01:00 0HMEORQ4GUR04:00000003 [INF] Executed ViewResult - view "Index" executed in 313.073ms. (f66409e9)
2022-01-16T11:54:15.1250380+01:00 0HMEORQ4GUR04:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 426.7079ms (afa2e885)
2022-01-16T11:54:15.1251060+01:00 0HMEORQ4GUR04:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:15.1388270+01:00 0HMEORQ4GUR04:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 446.2515ms (791a596a)
2022-01-16T11:54:18.6449970+01:00 0HMEORQ4GUR04:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:18.6725510+01:00 0HMEORQ4GUR04:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:18.6727260+01:00 0HMEORQ4GUR04:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:18.6923940+01:00 0HMEORQ4GUR04:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:18.7221060+01:00 0HMEORQ4GUR04:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:18.7612040+01:00 0HMEORQ4GUR04:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:18.7738550+01:00 0HMEORQ4GUR04:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:19.0221520+01:00 0HMEORQ4GUR04:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:19.0461360+01:00 0HMEORQ4GUR04:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 353.6392ms (afa2e885)
2022-01-16T11:54:19.0467990+01:00 0HMEORQ4GUR04:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:19.0478650+01:00 0HMEORQ4GUR04:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"e4ea9520-a4f0-9c72-7a80-ef0b3e0ee849" (1d7cf8c0)
2022-01-16T11:54:19.0492810+01:00 0HMEORQ4GUR04:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 404.3661ms (791a596a)
2022-01-16T11:54:19.2675290+01:00 0HMEORQ4GUR04:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:19.2698040+01:00 0HMEORQ4GUR04:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:19.2702720+01:00 0HMEORQ4GUR04:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:19.2706900+01:00 0HMEORQ4GUR04:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:19.2737050+01:00 0HMEORQ4GUR04:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:19.2771210+01:00 0HMEORQ4GUR04:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:19.3613890+01:00 0HMEORQ4GUR04:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:19.3616160+01:00 0HMEORQ4GUR04:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 90.8377ms (afa2e885)
2022-01-16T11:54:19.3616480+01:00 0HMEORQ4GUR04:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:19.3621050+01:00 0HMEORQ4GUR04:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 94.5005ms (791a596a)
2022-01-16T11:54:20.3004960+01:00 0HMEORQ4GUR04:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:20.3021130+01:00 0HMEORQ4GUR04:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:20.3022390+01:00 0HMEORQ4GUR04:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:20.3023980+01:00 0HMEORQ4GUR04:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:20.3034050+01:00 0HMEORQ4GUR04:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:20.3053670+01:00 0HMEORQ4GUR04:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:20.3067930+01:00 0HMEORQ4GUR04:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:20.3070630+01:00 0HMEORQ4GUR04:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.5984ms (afa2e885)
2022-01-16T11:54:20.3071250+01:00 0HMEORQ4GUR04:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:20.3074900+01:00 0HMEORQ4GUR04:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.1388ms (791a596a)
2022-01-16T11:54:22.1576470+01:00 0HMEORQ4GUR04:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:54:22.1587800+01:00 0HMEORQ4GUR04:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:22.1588600+01:00 0HMEORQ4GUR04:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:22.1589770+01:00 0HMEORQ4GUR04:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:22.1666010+01:00 0HMEORQ4GUR04:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:22.2119430+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:22.5472730+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6096830+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6134830+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6799410+01:00 0HMEORQ4GUR04:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 520.9042ms (afa2e885)
2022-01-16T11:54:22.6816950+01:00 0HMEORQ4GUR04:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:22.7391840+01:00 0HMEORQ4GUR04:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:54:22.7848940+01:00 0HMEORQ4GUR04:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 627.3180ms (791a596a)
2022-01-16T11:54:58.3699500+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:55:09.5483320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:11.0188210+01:00  [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:55:11.3723910+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:55:11.3855910+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:55:11.9580550+01:00  [INF] Executed DbCommand ("81"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.1994440+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.2803220+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.3200660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.3387240+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.3394020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.4235340+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:55:12.4565350+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.5564240+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.8341000+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:55:12.8341770+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:55:12.8343590+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:55:12.8343960+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:55:12.8344140+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:55:25.1934680+01:00 0HMEORQOOKUP3:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:25.3570190+01:00 0HMEORQOOKUP3:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:25.3625810+01:00 0HMEORQOOKUP3:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:25.4461400+01:00 0HMEORQOOKUP3:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:25.4970590+01:00 0HMEORQOOKUP3:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:55:25.5038860+01:00 0HMEORQOOKUP3:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:25.5339120+01:00 0HMEORQOOKUP3:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:25.8786380+01:00 0HMEORQOOKUP3:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:25.8891230+01:00 0HMEORQOOKUP4:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:25.9016940+01:00 0HMEORQOOKUP4:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:25.9019390+01:00 0HMEORQOOKUP4:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:25.9024400+01:00 0HMEORQOOKUP4:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:25.9046370+01:00 0HMEORQOOKUP4:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:55:25.9406570+01:00 0HMEORQOOKUP3:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 478.6731ms (afa2e885)
2022-01-16T11:55:25.9418340+01:00 0HMEORQOOKUP3:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:25.9437100+01:00 0HMEORQOOKUP3:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"7548d9ab-2424-bbb2-96bd-a58fdbafc107" (1d7cf8c0)
2022-01-16T11:55:25.9558330+01:00 0HMEORQOOKUP3:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 765.1967ms (791a596a)
2022-01-16T11:55:25.9917220+01:00 0HMEORQOOKUP4:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:25.9976550+01:00 0HMEORQOOKUP4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:25.9992940+01:00 0HMEORQOOKUP4:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:26.0002110+01:00 0HMEORQOOKUP4:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 97.6353ms (afa2e885)
2022-01-16T11:55:26.0004060+01:00 0HMEORQOOKUP4:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:26.0021250+01:00 0HMEORQOOKUP4:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 113.1411ms (791a596a)
2022-01-16T11:55:26.7418800+01:00 0HMEORQOOKUP4:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:26.7669910+01:00 0HMEORQOOKUP4:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:26.7674430+01:00 0HMEORQOOKUP4:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:26.7676800+01:00 0HMEORQOOKUP4:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:26.7703740+01:00 0HMEORQOOKUP4:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:26.7731170+01:00 0HMEORQOOKUP4:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:26.8832340+01:00 0HMEORQOOKUP4:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:26.8835230+01:00 0HMEORQOOKUP4:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 115.7804ms (afa2e885)
2022-01-16T11:55:26.8835960+01:00 0HMEORQOOKUP4:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:26.8839280+01:00 0HMEORQOOKUP4:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 142.1339ms (791a596a)
2022-01-16T11:55:27.0989210+01:00 0HMEORQOOKUP4:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:27.1001190+01:00 0HMEORQOOKUP4:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:27.1002720+01:00 0HMEORQOOKUP4:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:27.1004080+01:00 0HMEORQOOKUP4:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:27.1010380+01:00 0HMEORQOOKUP4:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:27.1032480+01:00 0HMEORQOOKUP4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:27.1053260+01:00 0HMEORQOOKUP4:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:27.1056920+01:00 0HMEORQOOKUP4:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.1873ms (afa2e885)
2022-01-16T11:55:27.1058880+01:00 0HMEORQOOKUP4:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:27.1062710+01:00 0HMEORQOOKUP4:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.3048ms (791a596a)
2022-01-16T11:55:29.3227220+01:00 0HMEORQOOKUP4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:55:29.3243310+01:00 0HMEORQOOKUP4:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:29.3244250+01:00 0HMEORQOOKUP4:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:29.3341510+01:00 0HMEORQOOKUP4:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:29.3430030+01:00 0HMEORQOOKUP4:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:29.3859780+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:29.7511280+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8175810+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8207740+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8785580+01:00 0HMEORQOOKUP4:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 544.3266ms (afa2e885)
2022-01-16T11:55:29.8799810+01:00 0HMEORQOOKUP4:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:29.9266080+01:00 0HMEORQOOKUP4:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:55:29.9854890+01:00 0HMEORQOOKUP4:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 662.8122ms (791a596a)
2022-01-16T11:56:18.6950420+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:56:25.4456020+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:25.8564850+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:56:26.0930680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:56:26.1019470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:56:26.2737610+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.3692630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.3942390+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.4007680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.4061200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.4064120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.4297230+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:56:26.4495990+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.5220900+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.7321180+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:56:26.7322090+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:56:26.7323500+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:56:26.7323780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:56:26.7323940+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:56:31.4777990+01:00 0HMEORRDBTE8G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:56:31.5611850+01:00 0HMEORRDBTE8G:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:31.5625090+01:00 0HMEORRDBTE8G:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:31.5827360+01:00 0HMEORRDBTE8G:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:31.5886160+01:00 0HMEORRDBTE8G:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:31.6156250+01:00 0HMEORRDBTE8G:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:56:31.6233870+01:00 0HMEORRDBTE8G:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 33.1401ms (afa2e885)
2022-01-16T11:56:31.6240490+01:00 0HMEORRDBTE8G:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:31.6307110+01:00 0HMEORRDBTE8G:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 155.7152ms (791a596a)
2022-01-16T11:56:31.6349060+01:00 0HMEORRDBTE8G:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:56:31.6372990+01:00 0HMEORRDBTE8G:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:31.6388190+01:00 0HMEORRDBTE8G:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:31.6404560+01:00 0HMEORRDBTE8G:00000003 [INF] Index viewed (84b92a55)
2022-01-16T11:56:31.6430360+01:00 0HMEORRDBTE8G:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:31.6553470+01:00 0HMEORRDBTE8G:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:56:31.6726610+01:00 0HMEORRDBTE8G:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:56:31.7175790+01:00 0HMEORRDBTE8G:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:56:31.7649680+01:00 0HMEORRDBTE8G:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:31.9326190+01:00 0HMEORRDBTE8G:00000003 [INF] Executed ViewResult - view "Index" executed in 223.2182ms. (f66409e9)
2022-01-16T11:56:31.9327370+01:00 0HMEORRDBTE8G:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 293.8804ms (afa2e885)
2022-01-16T11:56:31.9327870+01:00 0HMEORRDBTE8G:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:31.9375380+01:00 0HMEORRDBTE8G:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 302.6033ms (791a596a)
2022-01-16T11:56:35.1012100+01:00 0HMEORRDBTE8G:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:35.1289190+01:00 0HMEORRDBTE8G:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:35.1290820+01:00 0HMEORRDBTE8G:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:35.1471250+01:00 0HMEORRDBTE8G:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:35.1727120+01:00 0HMEORRDBTE8G:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:35.2094940+01:00 0HMEORRDBTE8G:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:35.2208930+01:00 0HMEORRDBTE8G:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:35.4097320+01:00 0HMEORRDBTE8G:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:35.4259170+01:00 0HMEORRDBTE8G:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 278.7017ms (afa2e885)
2022-01-16T11:56:35.4260670+01:00 0HMEORRDBTE8G:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:35.4268430+01:00 0HMEORRDBTE8G:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cfedf70e-5f23-c3ac-984e-e8df4e682340" (1d7cf8c0)
2022-01-16T11:56:35.4275190+01:00 0HMEORRDBTE8G:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 326.3954ms (791a596a)
2022-01-16T11:56:35.7281240+01:00 0HMEORRDBTE8G:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:35.7293450+01:00 0HMEORRDBTE8G:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:35.7295400+01:00 0HMEORRDBTE8G:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:35.7296780+01:00 0HMEORRDBTE8G:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:35.7320410+01:00 0HMEORRDBTE8G:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:35.7341060+01:00 0HMEORRDBTE8G:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:35.8159340+01:00 0HMEORRDBTE8G:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:35.8163320+01:00 0HMEORRDBTE8G:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.5992ms (afa2e885)
2022-01-16T11:56:35.8164090+01:00 0HMEORRDBTE8G:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:35.8169610+01:00 0HMEORRDBTE8G:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 88.8343ms (791a596a)
2022-01-16T11:56:36.6957280+01:00 0HMEORRDBTE8G:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:36.6966420+01:00 0HMEORRDBTE8G:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:36.6969090+01:00 0HMEORRDBTE8G:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:36.6970790+01:00 0HMEORRDBTE8G:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:36.6979460+01:00 0HMEORRDBTE8G:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:36.6995470+01:00 0HMEORRDBTE8G:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:36.7006270+01:00 0HMEORRDBTE8G:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:36.7008170+01:00 0HMEORRDBTE8G:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.6887ms (afa2e885)
2022-01-16T11:56:36.7008960+01:00 0HMEORRDBTE8G:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:36.7012430+01:00 0HMEORRDBTE8G:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.5543ms (791a596a)
2022-01-16T11:56:36.9130960+01:00 0HMEORRDBTE8G:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:36.9146210+01:00 0HMEORRDBTE8G:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:36.9147130+01:00 0HMEORRDBTE8G:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:36.9148440+01:00 0HMEORRDBTE8G:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:36.9156930+01:00 0HMEORRDBTE8G:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:36.9175100+01:00 0HMEORRDBTE8G:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:36.9188310+01:00 0HMEORRDBTE8G:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:36.9190690+01:00 0HMEORRDBTE8G:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.1206ms (afa2e885)
2022-01-16T11:56:36.9191160+01:00 0HMEORRDBTE8G:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:36.9193670+01:00 0HMEORRDBTE8G:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.2852ms (791a596a)
2022-01-16T11:56:37.5522740+01:00 0HMEORRDBTE8G:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:37.5536030+01:00 0HMEORRDBTE8G:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:37.5536710+01:00 0HMEORRDBTE8G:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:37.5538520+01:00 0HMEORRDBTE8G:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:37.5545660+01:00 0HMEORRDBTE8G:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:37.5568730+01:00 0HMEORRDBTE8G:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:37.5577460+01:00 0HMEORRDBTE8G:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:37.5579790+01:00 0HMEORRDBTE8G:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0507ms (afa2e885)
2022-01-16T11:56:37.5580580+01:00 0HMEORRDBTE8G:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:37.5583410+01:00 0HMEORRDBTE8G:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.0733ms (791a596a)
2022-01-16T11:56:39.6645740+01:00 0HMEORRDBTE8G:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:56:39.6661150+01:00 0HMEORRDBTE8G:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:39.6661940+01:00 0HMEORRDBTE8G:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:39.6663440+01:00 0HMEORRDBTE8G:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:39.6709630+01:00 0HMEORRDBTE8G:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:39.7169520+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:40.0074590+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:56:40.0499100+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:56:47.0258740+01:00 0HMEORRDBTE8G:00000009 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T11:56:47.0297260+01:00 0HMEORRDBTE8G:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7363.7083ms (afa2e885)
2022-01-16T11:56:47.0313780+01:00 0HMEORRDBTE8G:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:47.0415080+01:00 0HMEORRDBTE8G:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7377.2965ms (791a596a)
2022-01-16T11:56:47.0455480+01:00 0HMEORRDBTE8G:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T11:56:47.0469080+01:00 0HMEORRDBTE8G:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:47.0470320+01:00 0HMEORRDBTE8G:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:47.0540130+01:00 0HMEORRDBTE8G:0000000A [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:47.0583620+01:00 0HMEORRDBTE8G:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:47.0616820+01:00 0HMEORRDBTE8G:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:47.2358460+01:00 0HMEORRDBTE8G:0000000A [INF] Executed DbCommand ("9"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T11:56:47.2537680+01:00 0HMEORRDBTE8G:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:56:47.2817060+01:00 0HMEORRDBTE8G:0000000A [INF] Executed ViewResult - view "Index" executed in 30.3087ms. (f66409e9)
2022-01-16T11:56:47.2818220+01:00 0HMEORRDBTE8G:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 227.7504ms (afa2e885)
2022-01-16T11:56:47.2818550+01:00 0HMEORRDBTE8G:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:47.2821130+01:00 0HMEORRDBTE8G:0000000A [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 236.5865ms (791a596a)
2022-01-16T11:56:56.1002950+01:00 0HMEORRDBTE8G:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - (ca22a1cb)
2022-01-16T11:56:56.1021260+01:00 0HMEORRDBTE8G:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:56.1022880+01:00 0HMEORRDBTE8G:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:56.1134230+01:00 0HMEORRDBTE8G:0000000B [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:56.1205070+01:00 0HMEORRDBTE8G:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:56.1604200+01:00 0HMEORRDBTE8G:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T11:56:56.1627590+01:00 0HMEORRDBTE8G:0000000B [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T11:56:56.1760070+01:00 0HMEORRDBTE8G:0000000B [INF] Executed ViewResult - view "Invoice" executed in 14.5155ms. (f66409e9)
2022-01-16T11:56:56.1762220+01:00 0HMEORRDBTE8G:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 62.6871ms (afa2e885)
2022-01-16T11:56:56.1762850+01:00 0HMEORRDBTE8G:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:56.1765350+01:00 0HMEORRDBTE8G:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - - 200 - text/html;+charset=utf-8 76.2488ms (791a596a)
2022-01-16T12:02:12.5401920+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:13.4485250+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:02:13.8520610+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:02:13.8664250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:02:14.1347620+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2388090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.2765220+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2876210+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.2952740+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2958000+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.3334910+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:02:14.3633340+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.4828750+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.7347230+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:02:14.7348110+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:02:14.7350670+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:02:14.7351390+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:02:14.7351800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:02:28.9388240+01:00 0HMEORUNST5RJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - (ca22a1cb)
2022-01-16T12:02:29.0405210+01:00 0HMEORUNST5RJ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:29.0422380+01:00 0HMEORUNST5RJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:29.0841780+01:00 0HMEORUNST5RJ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:29.1120950+01:00 0HMEORUNST5RJ:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:29.3805800+01:00 0HMEORUNST5RJ:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T12:02:29.5618700+01:00 0HMEORUNST5RJ:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T12:02:29.6434660+01:00 0HMEORUNST5RJ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:29.8900320+01:00 0HMEORUNST5RJ:00000002 [INF] Executed ViewResult - view "Invoice" executed in 333.1116ms. (f66409e9)
2022-01-16T12:02:29.8909290+01:00 0HMEORUNST5RJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 805.8245ms (afa2e885)
2022-01-16T12:02:29.8922500+01:00 0HMEORUNST5RJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:29.9021720+01:00 0HMEORUNST5RJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - - 200 - text/html;+charset=utf-8 966.1563ms (791a596a)
2022-01-16T12:02:30.4962230+01:00 0HMEORUNST5RJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:02:30.5014280+01:00 0HMEORUNST5RJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:30.5042830+01:00 0HMEORUNST5RJ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:30.5067280+01:00 0HMEORUNST5RJ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:02:30.5643870+01:00 0HMEORUNST5RJ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:30.5710230+01:00 0HMEORUNST5RJ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:02:30.5878290+01:00 0HMEORUNST5RJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:02:30.5906660+01:00 0HMEORUNST5RJ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:02:30.6123390+01:00 0HMEORUNST5RJ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:30.6308110+01:00 0HMEORUNST5RJ:00000003 [INF] Executed ViewResult - view "Index" executed in 41.7318ms. (f66409e9)
2022-01-16T12:02:30.6310450+01:00 0HMEORUNST5RJ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 126.6311ms (afa2e885)
2022-01-16T12:02:30.6311590+01:00 0HMEORUNST5RJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:30.6316250+01:00 0HMEORUNST5RJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 135.4682ms (791a596a)
2022-01-16T12:02:33.3838250+01:00 0HMEORUNST5RJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:33.4001170+01:00 0HMEORUNST5RJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:33.4005310+01:00 0HMEORUNST5RJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:33.4022960+01:00 0HMEORUNST5RJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:33.4144580+01:00 0HMEORUNST5RJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:33.4152970+01:00 0HMEORUNST5RJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:33.4196160+01:00 0HMEORUNST5RJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:33.6655330+01:00 0HMEORUNST5RJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:33.6870420+01:00 0HMEORUNST5RJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 284.6572ms (afa2e885)
2022-01-16T12:02:33.6872680+01:00 0HMEORUNST5RJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:33.6881940+01:00 0HMEORUNST5RJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"60749125-f075-51c5-5e87-39e04282bad4" (1d7cf8c0)
2022-01-16T12:02:33.6890970+01:00 0HMEORUNST5RJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 305.3825ms (791a596a)
2022-01-16T12:02:34.0947530+01:00 0HMEORUNST5RJ:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:34.0985550+01:00 0HMEORUNST5RJ:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:34.0989930+01:00 0HMEORUNST5RJ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:34.0993350+01:00 0HMEORUNST5RJ:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:34.1012960+01:00 0HMEORUNST5RJ:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:34.1042940+01:00 0HMEORUNST5RJ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:34.1828880+01:00 0HMEORUNST5RJ:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:34.1831570+01:00 0HMEORUNST5RJ:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 83.7622ms (afa2e885)
2022-01-16T12:02:34.1832110+01:00 0HMEORUNST5RJ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:34.1836270+01:00 0HMEORUNST5RJ:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 88.9392ms (791a596a)
2022-01-16T12:02:34.7779210+01:00 0HMEORUNST5RJ:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:34.7793460+01:00 0HMEORUNST5RJ:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:34.7794510+01:00 0HMEORUNST5RJ:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:34.7797640+01:00 0HMEORUNST5RJ:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:34.7818530+01:00 0HMEORUNST5RJ:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:34.7839830+01:00 0HMEORUNST5RJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:34.8000940+01:00 0HMEORUNST5RJ:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:34.8004030+01:00 0HMEORUNST5RJ:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 20.5577ms (afa2e885)
2022-01-16T12:02:34.8004800+01:00 0HMEORUNST5RJ:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:34.8010820+01:00 0HMEORUNST5RJ:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 23.1583ms (791a596a)
2022-01-16T12:02:35.0104090+01:00 0HMEORUNST5RJ:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:35.0120120+01:00 0HMEORUNST5RJ:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:35.0121150+01:00 0HMEORUNST5RJ:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:35.0123440+01:00 0HMEORUNST5RJ:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:35.0129860+01:00 0HMEORUNST5RJ:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:35.0149370+01:00 0HMEORUNST5RJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:35.0161820+01:00 0HMEORUNST5RJ:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:35.0163610+01:00 0HMEORUNST5RJ:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9393ms (afa2e885)
2022-01-16T12:02:35.0163990+01:00 0HMEORUNST5RJ:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:35.0165820+01:00 0HMEORUNST5RJ:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.2405ms (791a596a)
2022-01-16T12:02:35.8100260+01:00 0HMEORUNST5RJ:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:35.8110330+01:00 0HMEORUNST5RJ:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:35.8111560+01:00 0HMEORUNST5RJ:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:35.8112910+01:00 0HMEORUNST5RJ:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:35.8120450+01:00 0HMEORUNST5RJ:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:35.8141740+01:00 0HMEORUNST5RJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:35.8146920+01:00 0HMEORUNST5RJ:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:35.8148840+01:00 0HMEORUNST5RJ:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.5307ms (afa2e885)
2022-01-16T12:02:35.8149300+01:00 0HMEORUNST5RJ:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:35.8151510+01:00 0HMEORUNST5RJ:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.2199ms (791a596a)
2022-01-16T12:02:36.0784090+01:00 0HMEORUNST5RJ:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:36.0801120+01:00 0HMEORUNST5RJ:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:36.0802200+01:00 0HMEORUNST5RJ:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:36.0803640+01:00 0HMEORUNST5RJ:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:36.0811980+01:00 0HMEORUNST5RJ:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:36.0832550+01:00 0HMEORUNST5RJ:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:36.0841270+01:00 0HMEORUNST5RJ:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:36.0843570+01:00 0HMEORUNST5RJ:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9274ms (afa2e885)
2022-01-16T12:02:36.0844270+01:00 0HMEORUNST5RJ:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:36.0846860+01:00 0HMEORUNST5RJ:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.3004ms (791a596a)
2022-01-16T12:02:37.0096520+01:00 0HMEORUNST5RJ:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:37.0106650+01:00 0HMEORUNST5RJ:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:37.0107570+01:00 0HMEORUNST5RJ:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:37.0108690+01:00 0HMEORUNST5RJ:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:37.0114310+01:00 0HMEORUNST5RJ:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:37.0150160+01:00 0HMEORUNST5RJ:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:37.0155290+01:00 0HMEORUNST5RJ:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:37.0159150+01:00 0HMEORUNST5RJ:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8155ms (afa2e885)
2022-01-16T12:02:37.0160010+01:00 0HMEORUNST5RJ:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:37.0162680+01:00 0HMEORUNST5RJ:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6302ms (791a596a)
2022-01-16T12:02:39.0783100+01:00 0HMEORUNST5RJ:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:02:39.0791560+01:00 0HMEORUNST5RJ:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:39.0792340+01:00 0HMEORUNST5RJ:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:39.0880590+01:00 0HMEORUNST5RJ:0000000B [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:39.0971630+01:00 0HMEORUNST5RJ:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:39.1217900+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:39.4001850+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:02:39.4645290+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Double), @p22='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p19, @p20, @p21, @p22);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:02:46.6991010+01:00 0HMEORUNST5RJ:0000000B [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:02:46.7031190+01:00 0HMEORUNST5RJ:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7615.3776ms (afa2e885)
2022-01-16T12:02:46.7048250+01:00 0HMEORUNST5RJ:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:46.7139020+01:00 0HMEORUNST5RJ:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7635.8444ms (791a596a)
2022-01-16T12:02:46.7169230+01:00 0HMEORUNST5RJ:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:02:46.7182230+01:00 0HMEORUNST5RJ:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:46.7183010+01:00 0HMEORUNST5RJ:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:46.7240040+01:00 0HMEORUNST5RJ:0000000C [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:46.7279340+01:00 0HMEORUNST5RJ:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:46.7315500+01:00 0HMEORUNST5RJ:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:46.7660680+01:00 0HMEORUNST5RJ:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:02:46.7728150+01:00 0HMEORUNST5RJ:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:02:46.7874240+01:00 0HMEORUNST5RJ:0000000C [INF] Executed ViewResult - view "Index" executed in 15.6468ms. (f66409e9)
2022-01-16T12:02:46.7875200+01:00 0HMEORUNST5RJ:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 63.4456ms (afa2e885)
2022-01-16T12:02:46.7875680+01:00 0HMEORUNST5RJ:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:46.7877770+01:00 0HMEORUNST5RJ:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 70.8805ms (791a596a)
2022-01-16T12:05:38.5708930+01:00 0HMEORUNST5RL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/95 - - (ca22a1cb)
2022-01-16T12:05:38.5750740+01:00 0HMEORUNST5RL:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:05:38.5752280+01:00 0HMEORUNST5RL:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:05:38.5755650+01:00 0HMEORUNST5RL:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:05:38.5773010+01:00 0HMEORUNST5RL:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:05:38.5830340+01:00 0HMEORUNST5RL:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T12:05:38.5843590+01:00 0HMEORUNST5RL:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T12:05:38.5869690+01:00 0HMEORUNST5RL:00000002 [INF] Executed ViewResult - view "Invoice" executed in 2.7956ms. (f66409e9)
2022-01-16T12:05:38.5870950+01:00 0HMEORUNST5RL:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 11.438ms (afa2e885)
2022-01-16T12:05:38.5871560+01:00 0HMEORUNST5RL:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:05:38.5874280+01:00 0HMEORUNST5RL:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/95 - - - 200 - text/html;+charset=utf-8 16.6450ms (791a596a)
2022-01-16T12:09:46.2834560+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:46.8575660+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:09:47.0743570+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:09:47.0825380+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:09:47.2713750+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3592090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3761400+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3765570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3790960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3792930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3969600+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:09:47.4132260+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.4853230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.6783470+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:09:47.6784190+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:09:47.6787800+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:09:47.6788780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:09:47.6789520+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:09:54.1743390+01:00 0HMEOS2RI1966:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:09:54.2640680+01:00 0HMEOS2RI1966:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:54.2652290+01:00 0HMEOS2RI1966:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:54.2952740+01:00 0HMEOS2RI1966:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:54.3197460+01:00 0HMEOS2RI1966:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:09:54.3248520+01:00 0HMEOS2RI1966:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:54.3438720+01:00 0HMEOS2RI1966:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:54.5509600+01:00 0HMEOS2RI1966:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:09:54.5898880+01:00 0HMEOS2RI1966:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 285.581ms (afa2e885)
2022-01-16T12:09:54.5908730+01:00 0HMEOS2RI1966:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:09:54.5920100+01:00 0HMEOS2RI1966:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4303a585-1ed6-d7f5-78e5-e183228d4c44" (1d7cf8c0)
2022-01-16T12:09:54.5969360+01:00 0HMEOS2RI1966:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 427.6715ms (791a596a)
2022-01-16T12:09:54.7919750+01:00 0HMEOS2RI1966:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:09:54.8026890+01:00 0HMEOS2RI1966:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:54.8028560+01:00 0HMEOS2RI1966:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:54.8032880+01:00 0HMEOS2RI1966:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:54.8424180+01:00 0HMEOS2RI1966:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:54.8453420+01:00 0HMEOS2RI1966:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:54.9051260+01:00 0HMEOS2RI1966:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:09:54.9054690+01:00 0HMEOS2RI1966:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 102.0876ms (afa2e885)
2022-01-16T12:09:54.9055230+01:00 0HMEOS2RI1966:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:09:54.9059610+01:00 0HMEOS2RI1966:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 114.0215ms (791a596a)
2022-01-16T12:09:56.8250740+01:00 0HMEOS2RI1966:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:09:56.8625650+01:00 0HMEOS2RI1966:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:56.8631220+01:00 0HMEOS2RI1966:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:56.8787960+01:00 0HMEOS2RI1966:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:56.8913710+01:00 0HMEOS2RI1966:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:56.9688180+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:57.2875640+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:09:57.3425660+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:09:57.3473290+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:10:03.9007160+01:00 0HMEOS2RI1966:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:10:03.9053680+01:00 0HMEOS2RI1966:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7026.2324ms (afa2e885)
2022-01-16T12:10:03.9074410+01:00 0HMEOS2RI1966:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:10:03.9214100+01:00 0HMEOS2RI1966:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7096.1800ms (791a596a)
2022-01-16T12:10:03.9247850+01:00 0HMEOS2RI1966:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:10:03.9259810+01:00 0HMEOS2RI1966:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:10:03.9260760+01:00 0HMEOS2RI1966:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:10:03.9315670+01:00 0HMEOS2RI1966:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:10:03.9362000+01:00 0HMEOS2RI1966:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:10:03.9392160+01:00 0HMEOS2RI1966:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:10:04.0908550+01:00 0HMEOS2RI1966:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:10:04.1372380+01:00 0HMEOS2RI1966:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:10:04.5839780+01:00 0HMEOS2RI1966:00000005 [INF] Executed ViewResult - view "Index" executed in 463.0453ms. (f66409e9)
2022-01-16T12:10:04.5843480+01:00 0HMEOS2RI1966:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 652.5481ms (afa2e885)
2022-01-16T12:10:04.5845470+01:00 0HMEOS2RI1966:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:10:04.5911170+01:00 0HMEOS2RI1966:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 666.3210ms (791a596a)
2022-01-16T12:11:14.1710320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:14.6161120+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:11:14.8899260+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:11:14.8976680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:11:15.2221310+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.3433630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.3896950+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.4000370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.4085530+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.4089270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.4417710+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:11:15.4654840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.5449370+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.7482570+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:11:15.7483230+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:11:15.7485230+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:11:15.7485710+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:11:15.7485950+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:11:16.1499130+01:00 0HMEOS3L0PBQ2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:11:16.2294490+01:00 0HMEOS3L0PBQ2:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:16.2304790+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:16.2511880+01:00 0HMEOS3L0PBQ2:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:16.2581030+01:00 0HMEOS3L0PBQ2:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:16.2865450+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:11:16.2938470+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 35.4127ms (afa2e885)
2022-01-16T12:11:16.2945000+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:16.3031330+01:00 0HMEOS3L0PBQ2:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 155.8509ms (791a596a)
2022-01-16T12:11:16.3072050+01:00 0HMEOS3L0PBQ2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:11:16.3098300+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:16.3117650+01:00 0HMEOS3L0PBQ2:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:16.3134360+01:00 0HMEOS3L0PBQ2:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:11:16.3155910+01:00 0HMEOS3L0PBQ2:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:16.3279400+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:11:16.3470210+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:11:16.4002410+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:11:16.4520960+01:00 0HMEOS3L0PBQ2:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:16.6045680+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed ViewResult - view "Index" executed in 211.8768ms. (f66409e9)
2022-01-16T12:11:16.6047030+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 292.8403ms (afa2e885)
2022-01-16T12:11:16.6047420+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:16.6093760+01:00 0HMEOS3L0PBQ2:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 302.1108ms (791a596a)
2022-01-16T12:11:21.7889620+01:00 0HMEOS3L0PBQ2:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:11:21.8125380+01:00 0HMEOS3L0PBQ2:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:21.8126870+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:21.8323050+01:00 0HMEOS3L0PBQ2:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:21.8603160+01:00 0HMEOS3L0PBQ2:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:21.8944710+01:00 0HMEOS3L0PBQ2:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:21.9066980+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:22.0904500+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:11:22.1111320+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 278.6783ms (afa2e885)
2022-01-16T12:11:22.1112640+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:22.1119490+01:00 0HMEOS3L0PBQ2:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ffc25e24-6f07-dc77-4c8e-15a295ad0493" (1d7cf8c0)
2022-01-16T12:11:22.1129520+01:00 0HMEOS3L0PBQ2:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 324.0961ms (791a596a)
2022-01-16T12:11:23.4373610+01:00 0HMEOS3L0PBQ2:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:11:23.4393070+01:00 0HMEOS3L0PBQ2:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:23.4396420+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:23.4398560+01:00 0HMEOS3L0PBQ2:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:23.5225890+01:00 0HMEOS3L0PBQ2:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:23.5518400+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:23.8267660+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:11:23.8678070+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:11:29.1399630+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:11:29.1443730+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5704.1986ms (afa2e885)
2022-01-16T12:11:29.1468210+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:29.1583830+01:00 0HMEOS3L0PBQ2:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5720.8230ms (791a596a)
2022-01-16T12:11:29.1623780+01:00 0HMEOS3L0PBQ2:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:11:29.1635450+01:00 0HMEOS3L0PBQ2:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:29.1638790+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:29.1689290+01:00 0HMEOS3L0PBQ2:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:29.1733220+01:00 0HMEOS3L0PBQ2:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:29.1782210+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:29.3431780+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:11:29.3610660+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:11:29.3833200+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed ViewResult - view "Index" executed in 24.6632ms. (f66409e9)
2022-01-16T12:11:29.3834200+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 214.4123ms (afa2e885)
2022-01-16T12:11:29.3836430+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:29.3838630+01:00 0HMEOS3L0PBQ2:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 221.5091ms (791a596a)
2022-01-16T12:22:32.9947970+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:34.1051880+01:00  [INF] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:22:34.9160360+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:22:34.9589140+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:22:35.3549610+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.4673890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.5184590+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.5378250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.5486650+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.5492120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.6032250+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:22:35.6441080+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.8220050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:36.3096780+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:22:36.3097950+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:22:36.3100250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:22:36.3100680+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:22:36.3101280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:22:49.9243230+01:00 0HMEOSA3P2FVI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:22:50.0113400+01:00 0HMEOSA3P2FVI:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:50.0319370+01:00 0HMEOSA3P2FVI:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:50.0350810+01:00 0HMEOSA3P2FVI:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:22:50.0374770+01:00 0HMEOSA3P2FVI:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:50.0516990+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:22:50.0708030+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:22:50.1259670+01:00 0HMEOSA3P2FVI:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:22:50.2131280+01:00 0HMEOSA3P2FVI:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:22:50.4203940+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed ViewResult - view "Index" executed in 293.0176ms. (f66409e9)
2022-01-16T12:22:50.4209280+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 388.457ms (afa2e885)
2022-01-16T12:22:50.4216640+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:50.4301750+01:00 0HMEOSA3P2FVI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 509.8839ms (791a596a)
2022-01-16T12:22:52.5345810+01:00 0HMEOSA3P2FVI:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:52.5543680+01:00 0HMEOSA3P2FVI:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:52.5557740+01:00 0HMEOSA3P2FVI:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:52.5836430+01:00 0HMEOSA3P2FVI:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:52.6214600+01:00 0HMEOSA3P2FVI:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:22:52.7142670+01:00 0HMEOSA3P2FVI:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:52.7348770+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:52.9630800+01:00 0HMEOSA3P2FVI:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:52.9871010+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 403.1836ms (afa2e885)
2022-01-16T12:22:52.9871950+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:52.9879160+01:00 0HMEOSA3P2FVI:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"b5368cd8-f8c7-4f2b-693b-be2a92a87c05" (1d7cf8c0)
2022-01-16T12:22:52.9890790+01:00 0HMEOSA3P2FVI:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 454.5427ms (791a596a)
2022-01-16T12:22:53.1373920+01:00 0HMEOSA3P2FVI:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:53.1635680+01:00 0HMEOSA3P2FVI:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:53.1637050+01:00 0HMEOSA3P2FVI:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:53.1639450+01:00 0HMEOSA3P2FVI:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:53.1661730+01:00 0HMEOSA3P2FVI:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:53.1688200+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:53.2423550+01:00 0HMEOSA3P2FVI:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:53.2428200+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 78.6374ms (afa2e885)
2022-01-16T12:22:53.2429670+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:53.2434260+01:00 0HMEOSA3P2FVI:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 106.0601ms (791a596a)
2022-01-16T12:22:53.3490310+01:00 0HMEOSA3P2FVI:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:53.3517310+01:00 0HMEOSA3P2FVI:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:53.3522700+01:00 0HMEOSA3P2FVI:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:53.3524850+01:00 0HMEOSA3P2FVI:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:53.3545560+01:00 0HMEOSA3P2FVI:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:53.3568880+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:53.3579460+01:00 0HMEOSA3P2FVI:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:53.3581790+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.6151ms (afa2e885)
2022-01-16T12:22:53.3582310+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:53.3587420+01:00 0HMEOSA3P2FVI:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 9.5846ms (791a596a)
2022-01-16T12:22:55.1655470+01:00 0HMEOSA3P2FVI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:22:55.1670020+01:00 0HMEOSA3P2FVI:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:55.1670930+01:00 0HMEOSA3P2FVI:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:55.1755940+01:00 0HMEOSA3P2FVI:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:55.1849730+01:00 0HMEOSA3P2FVI:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:55.2266840+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:55.5669130+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:22:55.6486650+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:22:55.6530620+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:23:03.1580190+01:00 0HMEOSA3P2FVI:00000006 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:23:03.1631150+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7987.1336ms (afa2e885)
2022-01-16T12:23:03.1665430+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:23:03.1808570+01:00 0HMEOSA3P2FVI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8014.9857ms (791a596a)
2022-01-16T12:23:03.1851910+01:00 0HMEOSA3P2FVI:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:23:03.1869330+01:00 0HMEOSA3P2FVI:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:23:03.1870380+01:00 0HMEOSA3P2FVI:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:23:03.1948780+01:00 0HMEOSA3P2FVI:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:23:03.2012170+01:00 0HMEOSA3P2FVI:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:23:03.2054010+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:23:03.7290340+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:23:03.7725730+01:00 0HMEOSA3P2FVI:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:23:03.9924650+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed ViewResult - view "Index" executed in 223.8759ms. (f66409e9)
2022-01-16T12:23:03.9927920+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 797.7662ms (afa2e885)
2022-01-16T12:23:03.9929520+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:23:04.0356020+01:00 0HMEOSA3P2FVI:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 850.3227ms (791a596a)
2022-01-16T12:24:30.9012980+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:31.5923250+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:24:31.9681820+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:24:31.9812350+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:24:32.1726740+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.2595790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.2871800+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.2991580+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.3046930+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.3050610+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.3332800+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:24:32.3559200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.4479330+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.6567230+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:24:32.6568940+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:24:32.6573280+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:24:32.6574050+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:24:32.6574380+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:24:39.5918540+01:00 0HMEOSB3PTPIE:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:24:39.6814950+01:00 0HMEOSB3PTPIE:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:39.6827350+01:00 0HMEOSB3PTPIE:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:39.6991550+01:00 0HMEOSB3PTPID:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:24:39.7064010+01:00 0HMEOSB3PTPID:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:39.7065260+01:00 0HMEOSB3PTPID:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:39.7168040+01:00 0HMEOSB3PTPIE:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:39.7167930+01:00 0HMEOSB3PTPID:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:39.7491980+01:00 0HMEOSB3PTPIE:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:24:39.7491860+01:00 0HMEOSB3PTPID:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:24:39.7524990+01:00 0HMEOSB3PTPIE:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:39.7525090+01:00 0HMEOSB3PTPID:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:39.7741870+01:00 0HMEOSB3PTPID:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:39.7921290+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:40.0497470+01:00 0HMEOSB3PTPID:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:24:40.0497520+01:00 0HMEOSB3PTPIE:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:24:40.0905520+01:00 0HMEOSB3PTPID:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.3781ms (afa2e885)
2022-01-16T12:24:40.0905820+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.4332ms (afa2e885)
2022-01-16T12:24:40.0913990+01:00 0HMEOSB3PTPID:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:40.0914360+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:40.0925920+01:00 0HMEOSB3PTPID:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"addac566-1aa1-f678-0fa9-6457f4208dd8" (1d7cf8c0)
2022-01-16T12:24:40.0925970+01:00 0HMEOSB3PTPIE:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"54372615-808e-f14b-b3e4-9a62ab9fe16c" (1d7cf8c0)
2022-01-16T12:24:40.0996520+01:00 0HMEOSB3PTPID:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 400.0665ms (791a596a)
2022-01-16T12:24:40.0996510+01:00 0HMEOSB3PTPIE:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 512.2067ms (791a596a)
2022-01-16T12:24:42.6839780+01:00 0HMEOSB3PTPIE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:24:42.7056010+01:00 0HMEOSB3PTPIE:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:42.7059530+01:00 0HMEOSB3PTPIE:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:42.7147600+01:00 0HMEOSB3PTPIE:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:42.8204430+01:00 0HMEOSB3PTPIE:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:42.8498530+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:43.1993380+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:24:43.2488860+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:24:49.2498990+01:00 0HMEOSB3PTPIE:00000003 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:24:49.2524920+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6537.4189ms (afa2e885)
2022-01-16T12:24:49.2546560+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:49.2610790+01:00 0HMEOSB3PTPIE:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6576.9690ms (791a596a)
2022-01-16T12:24:49.2635870+01:00 0HMEOSB3PTPIE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:24:49.2645370+01:00 0HMEOSB3PTPIE:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:49.2646150+01:00 0HMEOSB3PTPIE:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:49.2676230+01:00 0HMEOSB3PTPIE:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:49.2704330+01:00 0HMEOSB3PTPIE:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:49.2750740+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:49.4817330+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:24:49.5308900+01:00 0HMEOSB3PTPIE:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:24:49.8387290+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed ViewResult - view "Index" executed in 317.3131ms. (f66409e9)
2022-01-16T12:24:49.8390640+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 571.3373ms (afa2e885)
2022-01-16T12:24:49.8391920+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:49.8478020+01:00 0HMEOSB3PTPIE:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 584.1559ms (791a596a)
2022-01-16T12:26:43.9449140+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:26:44.8296060+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:26:45.1890220+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:26:45.2089830+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:26:45.6700280+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7505200+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.7764720+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7875040+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.7939780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7943020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.8177310+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:26:45.8532320+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.9869640+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:46.2263630+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:26:46.2264450+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:26:46.2266410+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:26:46.2266900+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:26:46.2267230+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:26:46.4252510+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:27:05.5649320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:06.0644570+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:27:06.2823230+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:27:06.2904100+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:27:06.4360480+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5101480+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.5435380+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5516690+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.5823390+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5874790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.6428990+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:27:06.7374790+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.8499530+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:07.2205880+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:27:07.2232650+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:27:07.2272350+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:27:07.2303710+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:27:07.2331800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:27:34.8705350+01:00 0HMEOSCOM3J8H:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:27:34.9468330+01:00 0HMEOSCOM3J8H:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:34.9625360+01:00 0HMEOSCOM3J8H:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:34.9676630+01:00 0HMEOSCOM3J8H:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:27:34.9694940+01:00 0HMEOSCOM3J8H:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:34.9807510+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:27:34.9910300+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:27:35.0248630+01:00 0HMEOSCOM3J8H:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:27:35.0860060+01:00 0HMEOSCOM3J8H:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:27:35.2323010+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed ViewResult - view "Index" executed in 210.2857ms. (f66409e9)
2022-01-16T12:27:35.2332690+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 270.0765ms (afa2e885)
2022-01-16T12:27:35.2337610+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:27:35.2404570+01:00 0HMEOSCOM3J8H:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 371.4330ms (791a596a)
2022-01-16T12:27:37.9149560+01:00 0HMEOSCOM3J8H:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:27:37.9311320+01:00 0HMEOSCOM3J8H:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:27:37.9325950+01:00 0HMEOSCOM3J8H:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:37.9457950+01:00 0HMEOSCOM3J8H:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:37.9750120+01:00 0HMEOSCOM3J8H:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:27:37.9896630+01:00 0HMEOSCOM3J8H:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:37.9968100+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:38.1322960+01:00 0HMEOSCOM3J8H:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:27:38.1428750+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 196.9125ms (afa2e885)
2022-01-16T12:27:38.1429550+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:27:38.1436410+01:00 0HMEOSCOM3J8H:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c3cd3713-f8ab-7677-2e62-6fbf6f0682d6" (1d7cf8c0)
2022-01-16T12:27:38.1446820+01:00 0HMEOSCOM3J8H:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 229.8178ms (791a596a)
2022-01-16T12:27:40.2215190+01:00 0HMEOSCOM3J8H:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:27:40.2381170+01:00 0HMEOSCOM3J8H:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:27:40.2383330+01:00 0HMEOSCOM3J8H:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:40.2443880+01:00 0HMEOSCOM3J8H:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:40.2954630+01:00 0HMEOSCOM3J8H:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:40.3901160+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:40.6699550+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:27:40.6992510+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:28:08.3677000+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 28122.2926ms (afa2e885)
2022-01-16T12:28:08.3694760+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:28:08.3833840+01:00 0HMEOSCOM3J8H:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 139
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:28:08.4167550+01:00 0HMEOSCOM3J8H:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 28194.4841ms (791a596a)
2022-01-16T12:28:29.2154510+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:28:29.7560730+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:28:30.0608070+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:28:30.0678990+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:28:30.2662320+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3480850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3668320+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3675060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3705040+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3710970+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3941940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:28:30.4112260+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.4941430+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.7153360+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:28:30.7154270+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:28:30.7157400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:28:30.7158160+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:28:30.7158900+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:31:48.5699790+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:31:58.3218250+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:31:59.6607680+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:32:00.0462010+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:00.0597840+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:00.3918070+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.4860790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5117820+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.5206930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5271810+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.5275170+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5587170+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:32:00.5950650+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.7676170+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:01.0841870+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:32:01.0842830+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:32:01.0845580+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:32:01.0846450+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:32:01.0847010+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:32:01.4459390+01:00 0HMEOSF84MF7C:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:01.5491720+01:00 0HMEOSF84MF7C:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:01.5703680+01:00 0HMEOSF84MF7C:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:01.5727780+01:00 0HMEOSF84MF7C:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:32:01.5752910+01:00 0HMEOSF84MF7C:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:01.5922430+01:00 0HMEOSF84MF7C:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:01.5943290+01:00 0HMEOSF84MF7B:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:01.5981170+01:00 0HMEOSF84MF7B:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:01.5985660+01:00 0HMEOSF84MF7B:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:01.6000700+01:00 0HMEOSF84MF7B:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:32:01.6180820+01:00 0HMEOSF84MF7C:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:01.6662870+01:00 0HMEOSF84MF7B:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:01.6714890+01:00 0HMEOSF84MF7B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:01.6734330+01:00 0HMEOSF84MF7B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:01.7074270+01:00 0HMEOSF84MF7C:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:01.7074460+01:00 0HMEOSF84MF7B:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:01.8140870+01:00 0HMEOSF84MF7C:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:01.8140870+01:00 0HMEOSF84MF7B:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:02.0104820+01:00 0HMEOSF84MF7C:00000002 [INF] Executed ViewResult - view "Index" executed in 310.0695ms. (f66409e9)
2022-01-16T12:32:02.0105140+01:00 0HMEOSF84MF7B:00000002 [INF] Executed ViewResult - view "Index" executed in 315.1477ms. (f66409e9)
2022-01-16T12:32:02.0111710+01:00 0HMEOSF84MF7C:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 440.1397ms (afa2e885)
2022-01-16T12:32:02.0111610+01:00 0HMEOSF84MF7B:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 412.0757ms (afa2e885)
2022-01-16T12:32:02.0123780+01:00 0HMEOSF84MF7B:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.0124090+01:00 0HMEOSF84MF7C:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.0239950+01:00 0HMEOSF84MF7B:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 429.1811ms (791a596a)
2022-01-16T12:32:02.0251210+01:00 0HMEOSF84MF7C:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 585.1550ms (791a596a)
2022-01-16T12:32:02.3938360+01:00 0HMEOSF84MF7B:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:02.4402470+01:00 0HMEOSF84MF7B:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:02.4408380+01:00 0HMEOSF84MF7B:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:02.4412580+01:00 0HMEOSF84MF7B:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:32:02.4436960+01:00 0HMEOSF84MF7B:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:02.4529540+01:00 0HMEOSF84MF7B:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:02.4618980+01:00 0HMEOSF84MF7B:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:02.4633050+01:00 0HMEOSF84MF7B:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:02.4682260+01:00 0HMEOSF84MF7B:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:02.4746540+01:00 0HMEOSF84MF7B:00000003 [INF] Executed ViewResult - view "Index" executed in 11.8514ms. (f66409e9)
2022-01-16T12:32:02.4748890+01:00 0HMEOSF84MF7B:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 33.9212ms (afa2e885)
2022-01-16T12:32:02.4750140+01:00 0HMEOSF84MF7B:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.4755510+01:00 0HMEOSF84MF7B:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 81.6904ms (791a596a)
2022-01-16T12:32:06.5039130+01:00 0HMEOSF84MF7B:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:32:06.5212250+01:00 0HMEOSF84MF7B:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:06.5223090+01:00 0HMEOSF84MF7B:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:06.5431320+01:00 0HMEOSF84MF7B:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:06.5784020+01:00 0HMEOSF84MF7B:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:06.5799360+01:00 0HMEOSF84MF7B:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:06.5902970+01:00 0HMEOSF84MF7B:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:06.8040040+01:00 0HMEOSF84MF7B:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:32:06.8286490+01:00 0HMEOSF84MF7B:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 285.2867ms (afa2e885)
2022-01-16T12:32:06.8287730+01:00 0HMEOSF84MF7B:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:06.8297250+01:00 0HMEOSF84MF7B:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"299a0285-25e5-c137-9bc1-a98502fe226f" (1d7cf8c0)
2022-01-16T12:32:06.8305990+01:00 0HMEOSF84MF7B:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 326.9740ms (791a596a)
2022-01-16T12:32:07.0857510+01:00 0HMEOSF84MF7B:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:32:07.0908270+01:00 0HMEOSF84MF7B:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:07.0909100+01:00 0HMEOSF84MF7B:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:07.0911250+01:00 0HMEOSF84MF7B:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:07.0923840+01:00 0HMEOSF84MF7B:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:07.0936950+01:00 0HMEOSF84MF7B:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:07.1728140+01:00 0HMEOSF84MF7B:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:32:07.1731810+01:00 0HMEOSF84MF7B:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 81.9619ms (afa2e885)
2022-01-16T12:32:07.1733220+01:00 0HMEOSF84MF7B:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:07.1736520+01:00 0HMEOSF84MF7B:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 87.9441ms (791a596a)
2022-01-16T12:32:08.9481670+01:00 0HMEOSF84MF7B:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:32:08.9501440+01:00 0HMEOSF84MF7B:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:08.9507310+01:00 0HMEOSF84MF7B:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:08.9586420+01:00 0HMEOSF84MF7B:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:08.9692400+01:00 0HMEOSF84MF7B:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:09.0093860+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:09.3501160+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4079140+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4110210+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4982930+01:00 0HMEOSF84MF7B:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 539.4735ms (afa2e885)
2022-01-16T12:32:09.4996660+01:00 0HMEOSF84MF7B:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:09.5402330+01:00 0HMEOSF84MF7B:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:32:09.5923990+01:00 0HMEOSF84MF7B:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 644.2089ms (791a596a)
2022-01-16T12:32:51.8529870+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:33:01.3645450+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:02.1355060+01:00  [INF] Executed DbCommand ("58"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:33:02.7104440+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:02.7232780+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:02.9586340+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.2542240+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.3680980+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.3965280+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.4052730+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.4057570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.4480940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:33:03.4789470+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.5786800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.7992710+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:33:03.7993780+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:33:03.7996060+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:33:03.7996760+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:33:03.7997170+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:33:05.8708270+01:00 0HMEOSFRB1A70:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:05.9851000+01:00 0HMEOSFRB1A70:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:05.9870230+01:00 0HMEOSFRB1A70:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:06.0256300+01:00 0HMEOSFRB1A70:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:06.0357190+01:00 0HMEOSFRB1A70:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:06.0785480+01:00 0HMEOSFRB1A70:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:33:06.0887100+01:00 0HMEOSFRB1A70:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 53.1429ms (afa2e885)
2022-01-16T12:33:06.0898910+01:00 0HMEOSFRB1A70:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:06.0997040+01:00 0HMEOSFRB1A70:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 233.7991ms (791a596a)
2022-01-16T12:33:06.1053970+01:00 0HMEOSFRB1A70:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:33:06.1099810+01:00 0HMEOSFRB1A70:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:06.1120390+01:00 0HMEOSFRB1A70:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:06.1144590+01:00 0HMEOSFRB1A70:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:33:06.1174240+01:00 0HMEOSFRB1A70:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:06.1367110+01:00 0HMEOSFRB1A70:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:06.1615900+01:00 0HMEOSFRB1A70:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:06.2212470+01:00 0HMEOSFRB1A70:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:33:06.2800620+01:00 0HMEOSFRB1A70:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:06.4860010+01:00 0HMEOSFRB1A70:00000003 [INF] Executed ViewResult - view "Index" executed in 272.8542ms. (f66409e9)
2022-01-16T12:33:06.4861370+01:00 0HMEOSFRB1A70:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 373.9982ms (afa2e885)
2022-01-16T12:33:06.4862050+01:00 0HMEOSFRB1A70:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:06.4927280+01:00 0HMEOSFRB1A70:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 387.2438ms (791a596a)
2022-01-16T12:33:09.6580080+01:00 0HMEOSFRB1A70:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:33:09.6820030+01:00 0HMEOSFRB1A70:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:09.6821480+01:00 0HMEOSFRB1A70:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:09.7015870+01:00 0HMEOSFRB1A70:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:09.7304150+01:00 0HMEOSFRB1A70:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:09.7648060+01:00 0HMEOSFRB1A70:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:09.7759620+01:00 0HMEOSFRB1A70:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:09.9740290+01:00 0HMEOSFRB1A70:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:33:09.9957900+01:00 0HMEOSFRB1A70:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 294.0739ms (afa2e885)
2022-01-16T12:33:09.9959000+01:00 0HMEOSFRB1A70:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:09.9965890+01:00 0HMEOSFRB1A70:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d63ebcb7-eeae-c2eb-6c1f-c39985d8b0ff" (1d7cf8c0)
2022-01-16T12:33:09.9974150+01:00 0HMEOSFRB1A70:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 339.4482ms (791a596a)
2022-01-16T12:33:11.3533500+01:00 0HMEOSFRB1A70:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:11.3559450+01:00 0HMEOSFRB1A70:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:11.3562780+01:00 0HMEOSFRB1A70:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:11.3564890+01:00 0HMEOSFRB1A70:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:11.4382530+01:00 0HMEOSFRB1A70:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:11.4684190+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:11.8173650+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:11.8822060+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:11.9448180+01:00 0HMEOSFRB1A70:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 588.202ms (afa2e885)
2022-01-16T12:33:11.9464900+01:00 0HMEOSFRB1A70:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:12.0056200+01:00 0HMEOSFRB1A70:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:33:12.0511460+01:00 0HMEOSFRB1A70:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 697.8906ms (791a596a)
2022-01-16T12:33:29.9114050+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:33:41.0289530+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:42.0944200+01:00  [INF] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:33:42.5195510+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:42.5319700+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:42.7915820+01:00  [INF] Executed DbCommand ("42"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:42.9648290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:42.9982670+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.0108940+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:43.0188820+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.0193000+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:43.0505850+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:33:43.0751000+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.1689060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.5070800+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:33:43.5071850+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:33:43.5073950+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:33:43.5074430+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:33:43.5074740+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:33:45.7245180+01:00 0HMEOSG77BFLM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:45.8174260+01:00 0HMEOSG77BFLM:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:45.8187460+01:00 0HMEOSG77BFLM:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:45.8408700+01:00 0HMEOSG77BFLM:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:45.8462330+01:00 0HMEOSG77BFLM:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:45.8746590+01:00 0HMEOSG77BFLM:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:33:45.8824380+01:00 0HMEOSG77BFLM:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 34.0036ms (afa2e885)
2022-01-16T12:33:45.8832310+01:00 0HMEOSG77BFLM:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:45.8918920+01:00 0HMEOSG77BFLM:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 170.0901ms (791a596a)
2022-01-16T12:33:45.8961820+01:00 0HMEOSG77BFLM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:33:45.8988550+01:00 0HMEOSG77BFLM:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:45.9005670+01:00 0HMEOSG77BFLM:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:45.9021780+01:00 0HMEOSG77BFLM:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:33:45.9042270+01:00 0HMEOSG77BFLM:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:45.9180190+01:00 0HMEOSG77BFLM:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:45.9397400+01:00 0HMEOSG77BFLM:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:46.0036280+01:00 0HMEOSG77BFLM:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:33:46.0734110+01:00 0HMEOSG77BFLM:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:46.2443550+01:00 0HMEOSG77BFLM:00000003 [INF] Executed ViewResult - view "Index" executed in 252.1549ms. (f66409e9)
2022-01-16T12:33:46.2444750+01:00 0HMEOSG77BFLM:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 343.8358ms (afa2e885)
2022-01-16T12:33:46.2445290+01:00 0HMEOSG77BFLM:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:46.2501640+01:00 0HMEOSG77BFLM:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 353.9276ms (791a596a)
2022-01-16T12:33:49.4084920+01:00 0HMEOSG77BFLM:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:33:49.4334840+01:00 0HMEOSG77BFLM:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:49.4336220+01:00 0HMEOSG77BFLM:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:49.4524310+01:00 0HMEOSG77BFLM:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:49.4809550+01:00 0HMEOSG77BFLM:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:49.5141720+01:00 0HMEOSG77BFLM:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:49.5234200+01:00 0HMEOSG77BFLM:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:49.7040240+01:00 0HMEOSG77BFLM:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:33:49.7276780+01:00 0HMEOSG77BFLM:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 275.1146ms (afa2e885)
2022-01-16T12:33:49.7281210+01:00 0HMEOSG77BFLM:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:49.7294300+01:00 0HMEOSG77BFLM:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"2ee81ccc-8d47-1334-4c0b-6d03d879695d" (1d7cf8c0)
2022-01-16T12:33:49.7308590+01:00 0HMEOSG77BFLM:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 322.4753ms (791a596a)
2022-01-16T12:33:51.0549930+01:00 0HMEOSG77BFLM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:51.0567950+01:00 0HMEOSG77BFLM:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:51.0571240+01:00 0HMEOSG77BFLM:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:51.0573300+01:00 0HMEOSG77BFLM:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:51.1383250+01:00 0HMEOSG77BFLM:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:51.1694100+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:51.5257430+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:51.5825830+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:51.6632000+01:00 0HMEOSG77BFLM:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 605.749ms (afa2e885)
2022-01-16T12:33:51.6645960+01:00 0HMEOSG77BFLM:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:51.7167630+01:00 0HMEOSG77BFLM:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:33:51.7938620+01:00 0HMEOSG77BFLM:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 738.8260ms (791a596a)
2022-01-16T13:26:53.1580330+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:27:00.6416900+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:01.0908990+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:27:01.3027330+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:27:01.3138300+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:27:01.4796640+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5575920+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5733840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5738290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5759870+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5761700+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5932940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:27:01.6088900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.6859870+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.9240970+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:27:01.9241720+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:27:01.9243810+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:27:01.9244430+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:27:01.9244810+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:27:10.4193270+01:00 0HMEOTE29G1A7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:10.5102800+01:00 0HMEOTE29G1A7:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T13:27:10.5234040+01:00 0HMEOTE29G1A7:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T13:27:10.5297910+01:00 0HMEOTE29G1A7:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 113.7211ms (791a596a)
2022-01-16T13:27:10.5363950+01:00 0HMEOTE29G1A7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:10.5400060+01:00 0HMEOTE29G1A7:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:10.5717130+01:00 0HMEOTE29G1A7:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:10.6151550+01:00 0HMEOTE29G1A7:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T13:27:10.8255390+01:00 0HMEOTE29G1A7:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:11.0759010+01:00 0HMEOTE29G1A7:00000003 [INF] Executed ViewResult - view "Login" executed in 421.1228ms. (f66409e9)
2022-01-16T13:27:11.0768540+01:00 0HMEOTE29G1A7:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 504.4003ms (afa2e885)
2022-01-16T13:27:11.0776810+01:00 0HMEOTE29G1A7:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:11.0853640+01:00 0HMEOTE29G1A7:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - - 200 - text/html;+charset=utf-8 548.9372ms (791a596a)
2022-01-16T13:27:44.2964790+01:00 0HMEOTE29G1A7:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T13:27:44.3003770+01:00 0HMEOTE29G1A7:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:44.3311920+01:00 0HMEOTE29G1A7:00000004 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:44.3874080+01:00 0HMEOTE29G1A7:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:44.3904230+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:44.5480140+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T13:27:44.5902960+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T13:27:44.5944840+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:44.6050740+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T13:27:44.6228110+01:00 0HMEOTE29G1A7:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T13:27:44.6376850+01:00 0HMEOTE29G1A7:00000004 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:27:44.6408580+01:00 0HMEOTE29G1A7:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 309.5531ms (afa2e885)
2022-01-16T13:27:44.6422580+01:00 0HMEOTE29G1A7:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:44.6538790+01:00 0HMEOTE29G1A7:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 357.5132ms (791a596a)
2022-01-16T13:27:44.6541370+01:00 0HMEOTE29G1A7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:27:44.6588480+01:00 0HMEOTE29G1A7:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:44.6601710+01:00 0HMEOTE29G1A7:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:44.6618860+01:00 0HMEOTE29G1A7:00000005 [INF] Index viewed (84b92a55)
2022-01-16T13:27:44.7043930+01:00 0HMEOTE29G1A7:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:44.7159420+01:00 0HMEOTE29G1A7:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:27:44.7328420+01:00 0HMEOTE29G1A7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:27:44.7696530+01:00 0HMEOTE29G1A7:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:27:44.7932880+01:00 0HMEOTE29G1A7:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:44.8183330+01:00 0HMEOTE29G1A7:00000005 [INF] Executed ViewResult - view "Index" executed in 51.3163ms. (f66409e9)
2022-01-16T13:27:44.8184310+01:00 0HMEOTE29G1A7:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 158.211ms (afa2e885)
2022-01-16T13:27:44.8184900+01:00 0HMEOTE29G1A7:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:44.8188230+01:00 0HMEOTE29G1A7:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 164.6190ms (791a596a)
2022-01-16T13:27:47.3627390+01:00 0HMEOTE29G1A7:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:27:47.3747710+01:00 0HMEOTE29G1A7:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:27:47.3749820+01:00 0HMEOTE29G1A7:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:47.3789800+01:00 0HMEOTE29G1A7:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:47.3864260+01:00 0HMEOTE29G1A7:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:47.3889630+01:00 0HMEOTE29G1A7:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:47.3966280+01:00 0HMEOTE29G1A7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:47.5732130+01:00 0HMEOTE29G1A7:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:27:47.5873650+01:00 0HMEOTE29G1A7:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 208.2802ms (afa2e885)
2022-01-16T13:27:47.5874940+01:00 0HMEOTE29G1A7:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:47.5882480+01:00 0HMEOTE29G1A7:00000006 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1cc2630c-c898-2cba-87a7-0dbb15cc0958" (1d7cf8c0)
2022-01-16T13:27:47.5891690+01:00 0HMEOTE29G1A7:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 226.6118ms (791a596a)
2022-01-16T13:27:49.0323340+01:00 0HMEOTE29G1A7:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:49.0490450+01:00 0HMEOTE29G1A7:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:27:49.0493650+01:00 0HMEOTE29G1A7:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:49.0570030+01:00 0HMEOTE29G1A7:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:49.1343650+01:00 0HMEOTE29G1A7:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:49.1496520+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:49.3924730+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:27:49.4361990+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:27:49.4991910+01:00 0HMEOTE29G1A7:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 442.1196ms (afa2e885)
2022-01-16T13:27:49.4993090+01:00 0HMEOTE29G1A7:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:49.5403500+01:00 0HMEOTE29G1A7:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T13:27:49.5701110+01:00 0HMEOTE29G1A7:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 537.8253ms (791a596a)
2022-01-16T13:28:59.1628910+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:29:05.6761670+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:06.0310220+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:29:06.2377200+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:29:06.2467170+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:29:06.4233050+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5014760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5173070+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5178070+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5206030+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5208020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5392530+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:29:06.5588090+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.6261630+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.8197400+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:29:06.8198000+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:29:06.8199490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:29:06.8199930+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:29:06.8200160+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:29:17.3570000+01:00 0HMEOTF84AM3T:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:29:17.4375910+01:00 0HMEOTF84AM3T:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:17.4386600+01:00 0HMEOTF84AM3T:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:17.4591870+01:00 0HMEOTF84AM3T:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:17.4638520+01:00 0HMEOTF84AM3T:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:17.4918220+01:00 0HMEOTF84AM3T:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:29:17.4985990+01:00 0HMEOTF84AM3T:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 32.8476ms (afa2e885)
2022-01-16T13:29:17.4992470+01:00 0HMEOTF84AM3T:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:17.5061360+01:00 0HMEOTF84AM3T:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 151.7721ms (791a596a)
2022-01-16T13:29:17.5102590+01:00 0HMEOTF84AM3T:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:29:17.5126350+01:00 0HMEOTF84AM3T:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:17.5144600+01:00 0HMEOTF84AM3T:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:17.5159490+01:00 0HMEOTF84AM3T:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:29:17.5177930+01:00 0HMEOTF84AM3T:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:17.5293600+01:00 0HMEOTF84AM3T:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:29:17.5429480+01:00 0HMEOTF84AM3T:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:29:17.5890930+01:00 0HMEOTF84AM3T:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:29:17.6364980+01:00 0HMEOTF84AM3T:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:17.7995190+01:00 0HMEOTF84AM3T:00000003 [INF] Executed ViewResult - view "Index" executed in 217.8985ms. (f66409e9)
2022-01-16T13:29:17.7997320+01:00 0HMEOTF84AM3T:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 285.2192ms (afa2e885)
2022-01-16T13:29:17.7997690+01:00 0HMEOTF84AM3T:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:17.8048420+01:00 0HMEOTF84AM3T:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 294.5087ms (791a596a)
2022-01-16T13:29:20.3876050+01:00 0HMEOTF84AM3T:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:29:20.4154640+01:00 0HMEOTF84AM3T:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:20.4156190+01:00 0HMEOTF84AM3T:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:20.4363290+01:00 0HMEOTF84AM3T:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:20.4644930+01:00 0HMEOTF84AM3T:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:20.5001170+01:00 0HMEOTF84AM3T:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:20.5163010+01:00 0HMEOTF84AM3T:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:20.6825350+01:00 0HMEOTF84AM3T:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:29:20.6972090+01:00 0HMEOTF84AM3T:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 260.7377ms (afa2e885)
2022-01-16T13:29:20.6972930+01:00 0HMEOTF84AM3T:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:20.6980170+01:00 0HMEOTF84AM3T:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"11898b94-f51d-f2d3-5044-e635406660a9" (1d7cf8c0)
2022-01-16T13:29:20.6989430+01:00 0HMEOTF84AM3T:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 311.6450ms (791a596a)
2022-01-16T13:29:20.9371920+01:00 0HMEOTF84AM3T:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:29:20.9394680+01:00 0HMEOTF84AM3T:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:20.9399470+01:00 0HMEOTF84AM3T:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:20.9401860+01:00 0HMEOTF84AM3T:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:20.9431880+01:00 0HMEOTF84AM3T:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:20.9459690+01:00 0HMEOTF84AM3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:21.0123130+01:00 0HMEOTF84AM3T:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:29:21.0125480+01:00 0HMEOTF84AM3T:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 72.2822ms (afa2e885)
2022-01-16T13:29:21.0125990+01:00 0HMEOTF84AM3T:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:21.0130060+01:00 0HMEOTF84AM3T:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 75.8693ms (791a596a)
2022-01-16T13:29:22.8108420+01:00 0HMEOTF84AM3T:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:29:22.8119470+01:00 0HMEOTF84AM3T:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:22.8120120+01:00 0HMEOTF84AM3T:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:22.8121300+01:00 0HMEOTF84AM3T:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:22.8175010+01:00 0HMEOTF84AM3T:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:22.8648380+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:23.1299350+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.1792510+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.1818700+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.2600430+01:00 0HMEOTF84AM3T:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 447.8381ms (afa2e885)
2022-01-16T13:29:23.2612800+01:00 0HMEOTF84AM3T:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:23.2995050+01:00 0HMEOTF84AM3T:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T13:29:23.3288920+01:00 0HMEOTF84AM3T:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 518.0864ms (791a596a)
2022-01-16T13:52:55.0779530+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:53:13.2704830+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:13.7212090+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:53:13.9455800+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:53:13.9549990+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:53:14.0928810+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.1516890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.1756810+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.1833270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.2465180+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.2528800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.3603170+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:53:14.4371970+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.5259000+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.8289790+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:53:14.8318370+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:53:14.8348020+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:53:14.8374500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:53:14.8401760+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:53:31.1411210+01:00 0HMEOTSPCFOIH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:53:31.2274170+01:00 0HMEOTSPCFOIH:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:31.2282920+01:00 0HMEOTSPCFOIH:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:31.2489680+01:00 0HMEOTSPCFOIH:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:31.2548410+01:00 0HMEOTSPCFOIH:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:31.2976740+01:00 0HMEOTSPCFOIH:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:53:31.3024570+01:00 0HMEOTSPCFOIH:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 49.4261ms (afa2e885)
2022-01-16T13:53:31.3027870+01:00 0HMEOTSPCFOIH:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:31.3193280+01:00 0HMEOTSPCFOIH:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 180.1328ms (791a596a)
2022-01-16T13:53:31.3352330+01:00 0HMEOTSPCFOIH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:53:31.3369490+01:00 0HMEOTSPCFOIH:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:31.3382120+01:00 0HMEOTSPCFOIH:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:31.3419280+01:00 0HMEOTSPCFOIH:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:53:31.3434300+01:00 0HMEOTSPCFOIH:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:31.3499190+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:53:31.3587380+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:53:31.3930660+01:00 0HMEOTSPCFOIH:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:53:31.4272700+01:00 0HMEOTSPCFOIH:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:31.5609010+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed ViewResult - view "Index" executed in 175.9255ms. (f66409e9)
2022-01-16T13:53:31.5610150+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 222.7423ms (afa2e885)
2022-01-16T13:53:31.5610680+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:31.5645050+01:00 0HMEOTSPCFOIH:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 229.2049ms (791a596a)
2022-01-16T13:53:36.5477460+01:00 0HMEOTSPCFOIH:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:53:36.5598650+01:00 0HMEOTSPCFOIH:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:36.5601060+01:00 0HMEOTSPCFOIH:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:36.5737950+01:00 0HMEOTSPCFOIH:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:36.6052550+01:00 0HMEOTSPCFOIH:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:36.6203340+01:00 0HMEOTSPCFOIH:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:36.6262220+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:36.7569920+01:00 0HMEOTSPCFOIH:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:53:36.7673300+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 193.3977ms (afa2e885)
2022-01-16T13:53:36.7674390+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:36.7682830+01:00 0HMEOTSPCFOIH:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d5bd0a0a-108b-0ce7-a3b0-779d8eb91545" (1d7cf8c0)
2022-01-16T13:53:36.7693440+01:00 0HMEOTSPCFOIH:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 221.7737ms (791a596a)
2022-01-16T13:53:38.4472780+01:00 0HMEOTSPCFOIH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:53:38.4486830+01:00 0HMEOTSPCFOIH:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:38.4490090+01:00 0HMEOTSPCFOIH:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:38.4492880+01:00 0HMEOTSPCFOIH:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:38.5015250+01:00 0HMEOTSPCFOIH:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:38.5735810+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("53"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:38.8616840+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:53:38.8894110+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:55:21.4063880+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:55:22.1158910+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:55:22.4135870+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:55:22.4243980+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:55:22.6362460+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7203060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.7595440+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7708470+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.7798060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7838680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.8633080+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:55:23.0702820+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:23.2005770+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:23.5623120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:55:23.5654070+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:55:23.5686250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:55:23.5718820+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:55:23.5750870+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:56:17.7599090+01:00 0HMEOTUB0TRIQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:56:17.8531270+01:00 0HMEOTUB0TRIQ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:56:17.8540350+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:56:17.8751930+01:00 0HMEOTUB0TRIQ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:56:17.8831920+01:00 0HMEOTUB0TRIQ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:56:17.9320800+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:56:17.9375070+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 57.4348ms (afa2e885)
2022-01-16T13:56:17.9382030+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:56:17.9485930+01:00 0HMEOTUB0TRIQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 190.6278ms (791a596a)
2022-01-16T13:56:17.9657530+01:00 0HMEOTUB0TRIQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:56:17.9679120+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:56:17.9699460+01:00 0HMEOTUB0TRIQ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:56:17.9737200+01:00 0HMEOTUB0TRIQ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:56:17.9752390+01:00 0HMEOTUB0TRIQ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:56:17.9849020+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:56:17.9934400+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:56:18.0355270+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:56:18.0753430+01:00 0HMEOTUB0TRIQ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:56:18.2512650+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed ViewResult - view "Index" executed in 225.658ms. (f66409e9)
2022-01-16T13:56:18.2513860+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 281.3739ms (afa2e885)
2022-01-16T13:56:18.2514430+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:56:18.2547710+01:00 0HMEOTUB0TRIQ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 288.8401ms (791a596a)
2022-01-16T14:01:19.6424160+01:00 0HMEOTUB0TRIR:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:01:19.6549780+01:00 0HMEOTUB0TRIR:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:01:19.6552150+01:00 0HMEOTUB0TRIR:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:01:19.6680790+01:00 0HMEOTUB0TRIR:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:01:19.6995180+01:00 0HMEOTUB0TRIR:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:01:19.7146320+01:00 0HMEOTUB0TRIR:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:01:19.7364640+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:01:19.8776390+01:00 0HMEOTUB0TRIR:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:01:19.8897390+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 221.3737ms (afa2e885)
2022-01-16T14:01:19.8899240+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:01:19.8905170+01:00 0HMEOTUB0TRIR:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"3a5c1a8c-8daf-f3d4-0fb8-a04ba415db5c" (1d7cf8c0)
2022-01-16T14:01:19.8913070+01:00 0HMEOTUB0TRIR:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 249.0417ms (791a596a)
2022-01-16T14:01:21.4398910+01:00 0HMEOTUB0TRIR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:01:21.4417280+01:00 0HMEOTUB0TRIR:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:01:21.4421680+01:00 0HMEOTUB0TRIR:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:01:21.4424520+01:00 0HMEOTUB0TRIR:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:01:21.5050400+01:00 0HMEOTUB0TRIR:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:01:21.5511620+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:01:21.7339550+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:01:21.7845960+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("25"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:29.6002450+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:30.1200400+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:02:30.3313470+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:02:30.3410940+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:02:30.5170320+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.5871630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.6788680+01:00  [INF] Executed DbCommand ("71"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.6930050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.8352870+01:00  [INF] Executed DbCommand ("64"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.8417450+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.9152050+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:02:31.0534790+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:31.1477050+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:31.5129350+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:02:31.5155640+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:02:31.5396490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:02:31.5429500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:02:31.5457400+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:02:36.7593180+01:00 0HMEOU1RVMR3B:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:02:36.8410450+01:00 0HMEOU1RVMR3B:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:36.8418670+01:00 0HMEOU1RVMR3B:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:36.8603340+01:00 0HMEOU1RVMR3B:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:36.8653130+01:00 0HMEOU1RVMR3B:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:36.9078610+01:00 0HMEOU1RVMR3B:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:02:36.9121230+01:00 0HMEOU1RVMR3B:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 48.0946ms (afa2e885)
2022-01-16T14:02:36.9124710+01:00 0HMEOU1RVMR3B:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:36.9197050+01:00 0HMEOU1RVMR3B:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 161.7284ms (791a596a)
2022-01-16T14:02:36.9337140+01:00 0HMEOU1RVMR3B:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:02:36.9355180+01:00 0HMEOU1RVMR3B:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:36.9372410+01:00 0HMEOU1RVMR3B:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:36.9408540+01:00 0HMEOU1RVMR3B:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:02:36.9423920+01:00 0HMEOU1RVMR3B:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:36.9513770+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:02:36.9604290+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:02:36.9935920+01:00 0HMEOU1RVMR3B:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:02:37.0272310+01:00 0HMEOU1RVMR3B:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:37.1633760+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed ViewResult - view "Index" executed in 175.1148ms. (f66409e9)
2022-01-16T14:02:37.1635010+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 226.1617ms (afa2e885)
2022-01-16T14:02:37.1635560+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:37.1671100+01:00 0HMEOU1RVMR3B:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 233.2894ms (791a596a)
2022-01-16T14:02:43.8758090+01:00 0HMEOU1RVMR3B:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:43.8886020+01:00 0HMEOU1RVMR3B:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:43.8888320+01:00 0HMEOU1RVMR3B:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:43.9017410+01:00 0HMEOU1RVMR3B:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:43.9343110+01:00 0HMEOU1RVMR3B:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:43.9520780+01:00 0HMEOU1RVMR3B:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:43.9595030+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:44.1124900+01:00 0HMEOU1RVMR3B:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:44.1272390+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 225.3215ms (afa2e885)
2022-01-16T14:02:44.1274970+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:44.1281440+01:00 0HMEOU1RVMR3B:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"58aa1030-911f-38fd-b54f-5a52f7acd68e" (1d7cf8c0)
2022-01-16T14:02:44.1290900+01:00 0HMEOU1RVMR3B:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 253.4748ms (791a596a)
2022-01-16T14:02:44.4971480+01:00 0HMEOU1RVMR3B:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:44.4988020+01:00 0HMEOU1RVMR3B:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:44.4991260+01:00 0HMEOU1RVMR3B:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:44.4993880+01:00 0HMEOU1RVMR3B:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:44.5018690+01:00 0HMEOU1RVMR3B:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:44.5045850+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:44.5585310+01:00 0HMEOU1RVMR3B:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:44.5588850+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 59.3969ms (afa2e885)
2022-01-16T14:02:44.5589760+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:44.5598440+01:00 0HMEOU1RVMR3B:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 62.6940ms (791a596a)
2022-01-16T14:02:45.3979280+01:00 0HMEOU1RVMR3B:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:45.3992290+01:00 0HMEOU1RVMR3B:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:45.3993510+01:00 0HMEOU1RVMR3B:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:45.3995430+01:00 0HMEOU1RVMR3B:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:45.4006200+01:00 0HMEOU1RVMR3B:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:45.4028830+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:45.4043560+01:00 0HMEOU1RVMR3B:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:45.4046990+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.0139ms (afa2e885)
2022-01-16T14:02:45.4048110+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:45.4052060+01:00 0HMEOU1RVMR3B:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.2883ms (791a596a)
2022-01-16T14:02:47.4122550+01:00 0HMEOU1RVMR3B:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:02:47.4135190+01:00 0HMEOU1RVMR3B:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:47.4136380+01:00 0HMEOU1RVMR3B:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:47.4137930+01:00 0HMEOU1RVMR3B:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:47.4294050+01:00 0HMEOU1RVMR3B:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:47.5106530+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:47.7909950+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8239240+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8527310+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8595900+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:38.0109070+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:38.4942810+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:04:38.7227040+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:04:38.7338620+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:04:38.9253440+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:38.9978640+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.0236680+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.0309890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.2507090+01:00  [INF] Executed DbCommand ("79"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.2592460+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.3352300+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:04:39.4057720+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.4962760+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.8648810+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:04:39.8678770+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:04:39.8710450+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:04:39.8739940+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:04:39.8769900+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:04:44.4302380+01:00 0HMEOU321IR4O:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:04:44.5210070+01:00 0HMEOU321IR4O:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:44.5218820+01:00 0HMEOU321IR4O:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:44.5393100+01:00 0HMEOU321IR4O:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:44.5444030+01:00 0HMEOU321IR4O:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:44.5875800+01:00 0HMEOU321IR4O:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:04:44.5924630+01:00 0HMEOU321IR4O:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 48.9429ms (afa2e885)
2022-01-16T14:04:44.5928300+01:00 0HMEOU321IR4O:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:44.5997210+01:00 0HMEOU321IR4O:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 171.6970ms (791a596a)
2022-01-16T14:04:44.6148950+01:00 0HMEOU321IR4O:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:04:44.6167640+01:00 0HMEOU321IR4O:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:44.6181070+01:00 0HMEOU321IR4O:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:44.6214320+01:00 0HMEOU321IR4O:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:04:44.6234190+01:00 0HMEOU321IR4O:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:44.6375560+01:00 0HMEOU321IR4O:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:04:44.6477590+01:00 0HMEOU321IR4O:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:04:44.6923930+01:00 0HMEOU321IR4O:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:04:44.7379820+01:00 0HMEOU321IR4O:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:44.8904530+01:00 0HMEOU321IR4O:00000003 [INF] Executed ViewResult - view "Index" executed in 208.0776ms. (f66409e9)
2022-01-16T14:04:44.8906120+01:00 0HMEOU321IR4O:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 272.4388ms (afa2e885)
2022-01-16T14:04:44.8907010+01:00 0HMEOU321IR4O:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:44.8955420+01:00 0HMEOU321IR4O:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 280.5248ms (791a596a)
2022-01-16T14:04:47.5396990+01:00 0HMEOU321IR4O:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:47.5527240+01:00 0HMEOU321IR4O:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:47.5529310+01:00 0HMEOU321IR4O:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:47.5658950+01:00 0HMEOU321IR4O:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:47.5979340+01:00 0HMEOU321IR4O:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:47.6140300+01:00 0HMEOU321IR4O:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:47.6199960+01:00 0HMEOU321IR4O:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:47.7501760+01:00 0HMEOU321IR4O:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:47.7617810+01:00 0HMEOU321IR4O:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 195.7198ms (afa2e885)
2022-01-16T14:04:47.7618900+01:00 0HMEOU321IR4O:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:47.7627750+01:00 0HMEOU321IR4O:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"56a24c37-1518-b18c-2f24-bb35d8e402f0" (1d7cf8c0)
2022-01-16T14:04:47.7639530+01:00 0HMEOU321IR4O:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 224.3092ms (791a596a)
2022-01-16T14:04:48.3894970+01:00 0HMEOU321IR4O:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:48.3914660+01:00 0HMEOU321IR4O:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:48.3920240+01:00 0HMEOU321IR4O:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:48.3924420+01:00 0HMEOU321IR4O:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:48.3955060+01:00 0HMEOU321IR4O:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:48.3984740+01:00 0HMEOU321IR4O:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:48.4548930+01:00 0HMEOU321IR4O:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:48.4554300+01:00 0HMEOU321IR4O:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 62.8281ms (afa2e885)
2022-01-16T14:04:48.4556010+01:00 0HMEOU321IR4O:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:48.4567930+01:00 0HMEOU321IR4O:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 67.3745ms (791a596a)
2022-01-16T14:04:48.5933330+01:00 0HMEOU321IR4O:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:48.5948860+01:00 0HMEOU321IR4O:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:48.5950580+01:00 0HMEOU321IR4O:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:48.5952840+01:00 0HMEOU321IR4O:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:48.5966570+01:00 0HMEOU321IR4O:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:48.5990870+01:00 0HMEOU321IR4O:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:48.6001210+01:00 0HMEOU321IR4O:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:48.6003580+01:00 0HMEOU321IR4O:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.9804ms (afa2e885)
2022-01-16T14:04:48.6004370+01:00 0HMEOU321IR4O:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:48.6007410+01:00 0HMEOU321IR4O:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.4333ms (791a596a)
2022-01-16T14:04:49.4077360+01:00 0HMEOU321IR4O:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:49.4094040+01:00 0HMEOU321IR4O:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:49.4095660+01:00 0HMEOU321IR4O:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:49.4098960+01:00 0HMEOU321IR4O:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:49.4107960+01:00 0HMEOU321IR4O:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:49.4132370+01:00 0HMEOU321IR4O:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:49.4139520+01:00 0HMEOU321IR4O:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:49.4141810+01:00 0HMEOU321IR4O:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.1768ms (afa2e885)
2022-01-16T14:04:49.4143600+01:00 0HMEOU321IR4O:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:49.4147610+01:00 0HMEOU321IR4O:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.1578ms (791a596a)
2022-01-16T14:04:51.3040000+01:00 0HMEOU321IR4O:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:04:51.3062870+01:00 0HMEOU321IR4O:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:51.3064540+01:00 0HMEOU321IR4O:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:51.3068280+01:00 0HMEOU321IR4O:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:51.3110620+01:00 0HMEOU321IR4O:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:51.4246480+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("79"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:51.6691940+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.6990560+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.7022760+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.7308680+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:06:03.3443150+01:00 0HMEOU321IR4O:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 72039.3871ms (afa2e885)
2022-01-16T14:06:03.3462170+01:00 0HMEOU321IR4O:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:03.3795040+01:00 0HMEOU321IR4O:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 91
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:06:03.4043080+01:00 0HMEOU321IR4O:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 72102.4841ms (791a596a)
2022-01-16T14:06:48.5372360+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:49.0034970+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:06:49.2273930+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:06:49.2344840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:06:49.4328790+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.5035250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.5279330+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.5349080+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.6764020+01:00  [INF] Executed DbCommand ("86"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.6823040+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.7868220+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:06:49.8682560+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.9878670+01:00  [INF] Executed DbCommand ("53"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:50.3574140+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:06:50.3601070+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:06:50.3632400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:06:50.3660890+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:06:50.3688200+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:06:56.0279140+01:00 0HMEOU48II22A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:56.1223290+01:00 0HMEOU48II22A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:56.1232300+01:00 0HMEOU48II22A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:56.1462810+01:00 0HMEOU48II22A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:56.1697960+01:00 0HMEOU48II22A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:06:56.1817080+01:00 0HMEOU48II229:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:56.1829210+01:00 0HMEOU48II22A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:56.1855280+01:00 0HMEOU48II229:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:56.1856460+01:00 0HMEOU48II229:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:56.1859570+01:00 0HMEOU48II229:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:56.1870470+01:00 0HMEOU48II229:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:06:56.1955970+01:00 0HMEOU48II22A:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:56.2041290+01:00 0HMEOU48II229:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:56.2513940+01:00 0HMEOU48II229:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:56.4066510+01:00 0HMEOU48II22A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:56.4066510+01:00 0HMEOU48II229:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:56.4360200+01:00 0HMEOU48II22A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 283.5362ms (afa2e885)
2022-01-16T14:06:56.4360040+01:00 0HMEOU48II229:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 244.1429ms (afa2e885)
2022-01-16T14:06:56.4366910+01:00 0HMEOU48II22A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:56.4366910+01:00 0HMEOU48II229:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:56.4384570+01:00 0HMEOU48II229:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4aa23c04-d8bf-0366-fdf0-1c041cf7f902" (1d7cf8c0)
2022-01-16T14:06:56.4385250+01:00 0HMEOU48II22A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d84ba5f7-0962-d959-9274-3bfee6cbc39f" (1d7cf8c0)
2022-01-16T14:06:56.4460820+01:00 0HMEOU48II22A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 421.5936ms (791a596a)
2022-01-16T14:06:56.4460820+01:00 0HMEOU48II229:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 263.4520ms (791a596a)
2022-01-16T14:06:57.1097850+01:00 0HMEOU48II22A:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.1206470+01:00 0HMEOU48II22A:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.1208980+01:00 0HMEOU48II22A:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.1210860+01:00 0HMEOU48II22A:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.1229450+01:00 0HMEOU48II22A:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.1259280+01:00 0HMEOU48II22A:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.1793150+01:00 0HMEOU48II22A:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.1799450+01:00 0HMEOU48II22A:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 58.7244ms (afa2e885)
2022-01-16T14:06:57.1800800+01:00 0HMEOU48II22A:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.1807390+01:00 0HMEOU48II22A:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 70.9257ms (791a596a)
2022-01-16T14:06:57.7582030+01:00 0HMEOU48II22A:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.7595100+01:00 0HMEOU48II22A:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.7596170+01:00 0HMEOU48II22A:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.7598060+01:00 0HMEOU48II22A:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.7606900+01:00 0HMEOU48II22A:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.7641290+01:00 0HMEOU48II22A:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.7653500+01:00 0HMEOU48II22A:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.7656410+01:00 0HMEOU48II22A:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.7241ms (afa2e885)
2022-01-16T14:06:57.7657580+01:00 0HMEOU48II22A:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.7661440+01:00 0HMEOU48II22A:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 8.1550ms (791a596a)
2022-01-16T14:06:57.9224830+01:00 0HMEOU48II22A:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.9238270+01:00 0HMEOU48II22A:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.9240800+01:00 0HMEOU48II22A:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.9242770+01:00 0HMEOU48II22A:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.9255130+01:00 0HMEOU48II22A:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.9278510+01:00 0HMEOU48II22A:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.9287790+01:00 0HMEOU48II22A:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.9292860+01:00 0HMEOU48II22A:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8248ms (afa2e885)
2022-01-16T14:06:57.9294060+01:00 0HMEOU48II22A:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.9298440+01:00 0HMEOU48II22A:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.3289ms (791a596a)
2022-01-16T14:06:59.7635280+01:00 0HMEOU48II22A:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:06:59.7651770+01:00 0HMEOU48II22A:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:59.7653030+01:00 0HMEOU48II22A:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:59.7723040+01:00 0HMEOU48II22A:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:59.7797640+01:00 0HMEOU48II22A:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:59.8695550+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:07:00.1624580+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.1943750+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.1980010+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.2011980+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:14:54.0957500+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:54.6811470+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:14:55.1553210+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:14:55.1789500+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:14:55.5995360+01:00  [INF] Executed DbCommand ("46"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.7558920+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.7975630+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.8138960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.8273680+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.8281490+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.8982740+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:14:55.9447430+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:56.0452900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:56.2618930+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:14:56.2619570+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:14:56.2620890+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:14:56.2621160+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:14:56.2621440+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:14:56.6213020+01:00 0HMEOU8OFPDMJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:14:56.7161230+01:00 0HMEOU8OFPDMJ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:14:56.7176960+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:56.7428130+01:00 0HMEOU8OFPDMJ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:56.7492330+01:00 0HMEOU8OFPDMJ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:56.7802490+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:14:56.7882560+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 37.7509ms (afa2e885)
2022-01-16T14:14:56.7891360+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:14:56.8084880+01:00 0HMEOU8OFPDMJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 191.5911ms (791a596a)
2022-01-16T14:14:56.8132630+01:00 0HMEOU8OFPDMJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:14:56.8159930+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:56.8179540+01:00 0HMEOU8OFPDMJ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:56.8196230+01:00 0HMEOU8OFPDMJ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:14:56.8218650+01:00 0HMEOU8OFPDMJ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:56.8305240+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:14:56.8476590+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:14:56.8939500+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:14:56.9482280+01:00 0HMEOU8OFPDMJ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:57.1533300+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed ViewResult - view "Index" executed in 266.6391ms. (f66409e9)
2022-01-16T14:14:57.1535940+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 335.5241ms (afa2e885)
2022-01-16T14:14:57.1536830+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:14:57.1590680+01:00 0HMEOU8OFPDMJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 345.6650ms (791a596a)
2022-01-16T14:14:59.8727410+01:00 0HMEOU8OFPDMJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:14:59.8987050+01:00 0HMEOU8OFPDMJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:14:59.8989300+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:59.9190830+01:00 0HMEOU8OFPDMJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:59.9481260+01:00 0HMEOU8OFPDMJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:59.9818620+01:00 0HMEOU8OFPDMJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:59.9924650+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.0634640+01:00 0HMEOU8OFPDMK:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:00.0646760+01:00 0HMEOU8OFPDMK:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:00.0649630+01:00 0HMEOU8OFPDMK:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:00.0651090+01:00 0HMEOU8OFPDMK:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:00.0665470+01:00 0HMEOU8OFPDMK:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:15:00.0671490+01:00 0HMEOU8OFPDMK:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:00.0694180+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.1860770+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.1860810+01:00 0HMEOU8OFPDMK:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.2107320+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 145.5391ms (afa2e885)
2022-01-16T14:15:00.2107420+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 291.5208ms (afa2e885)
2022-01-16T14:15:00.2108170+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:00.2108180+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:00.2114930+01:00 0HMEOU8OFPDMJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cd847ff2-705b-b7bc-6d64-aee7f2aec4c6" (1d7cf8c0)
2022-01-16T14:15:00.2114880+01:00 0HMEOU8OFPDMK:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"534b2b88-827f-ca28-149a-460684dd9f18" (1d7cf8c0)
2022-01-16T14:15:00.2125260+01:00 0HMEOU8OFPDMJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 339.9558ms (791a596a)
2022-01-16T14:15:00.2125080+01:00 0HMEOU8OFPDMK:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 149.0070ms (791a596a)
2022-01-16T14:15:00.9069900+01:00 0HMEOU8OFPDMK:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:00.9084560+01:00 0HMEOU8OFPDMK:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:00.9086080+01:00 0HMEOU8OFPDMK:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:00.9093320+01:00 0HMEOU8OFPDMK:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:00.9109890+01:00 0HMEOU8OFPDMK:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:00.9131600+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.9997240+01:00 0HMEOU8OFPDMK:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.9999980+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 90.5642ms (afa2e885)
2022-01-16T14:15:01.0000890+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:01.0004190+01:00 0HMEOU8OFPDMK:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 93.5644ms (791a596a)
2022-01-16T14:15:01.0735080+01:00 0HMEOU8OFPDMK:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:01.0748280+01:00 0HMEOU8OFPDMK:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:01.0749160+01:00 0HMEOU8OFPDMK:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:01.0750780+01:00 0HMEOU8OFPDMK:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:01.0757670+01:00 0HMEOU8OFPDMK:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:01.0778590+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:01.0798120+01:00 0HMEOU8OFPDMK:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:01.0801300+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.982ms (afa2e885)
2022-01-16T14:15:01.0801900+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:01.0806330+01:00 0HMEOU8OFPDMK:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.0771ms (791a596a)
2022-01-16T14:15:03.6546510+01:00 0HMEOU8OFPDMK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:15:03.6555470+01:00 0HMEOU8OFPDMK:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:03.6556450+01:00 0HMEOU8OFPDMK:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:03.6558390+01:00 0HMEOU8OFPDMK:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:03.6603480+01:00 0HMEOU8OFPDMK:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:03.7073290+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:03.9814000+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:04.0229650+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:04.0259010+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:10.9742260+01:00 0HMEOU8OFPDMK:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:15:10.9783690+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7322.5503ms (afa2e885)
2022-01-16T14:15:10.9802650+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:10.9897200+01:00 0HMEOU8OFPDMK:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7335.2002ms (791a596a)
2022-01-16T14:15:10.9931630+01:00 0HMEOU8OFPDMK:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:15:10.9947700+01:00 0HMEOU8OFPDMK:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:10.9948540+01:00 0HMEOU8OFPDMK:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:11.0001770+01:00 0HMEOU8OFPDMK:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:11.0051070+01:00 0HMEOU8OFPDMK:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:11.0084990+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:11.1762890+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:15:11.1941940+01:00 0HMEOU8OFPDMK:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:15:11.2151270+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed ViewResult - view "Index" executed in 22.4839ms. (f66409e9)
2022-01-16T14:15:11.2152090+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 214.9627ms (afa2e885)
2022-01-16T14:15:11.2152550+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:11.2155000+01:00 0HMEOU8OFPDMK:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 222.3799ms (791a596a)
2022-01-16T14:18:37.9326120+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:38.5198110+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:18:38.7885460+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:18:38.7983220+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:18:38.9969900+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.0976230+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1156050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.1160570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1188300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.1191860+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1429340+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:18:39.1660140+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.2618710+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.4521850+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:18:39.4522670+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:18:39.4524420+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:18:39.4524840+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:18:39.4525020+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:18:46.5021580+01:00 0HMEOUAT07P77:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:18:46.5805600+01:00 0HMEOUAT07P77:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:46.5984600+01:00 0HMEOUAT07P77:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:46.6006140+01:00 0HMEOUAT07P77:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:18:46.6025000+01:00 0HMEOUAT07P77:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:46.6144610+01:00 0HMEOUAT07P77:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:18:46.6291120+01:00 0HMEOUAT07P77:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:18:46.6797160+01:00 0HMEOUAT07P77:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:18:46.7707110+01:00 0HMEOUAT07P77:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:46.9601530+01:00 0HMEOUAT07P77:00000002 [INF] Executed ViewResult - view "Index" executed in 278.8325ms. (f66409e9)
2022-01-16T14:18:46.9608000+01:00 0HMEOUAT07P77:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 361.689ms (afa2e885)
2022-01-16T14:18:46.9615970+01:00 0HMEOUAT07P77:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:46.9702210+01:00 0HMEOUAT07P77:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 471.3992ms (791a596a)
2022-01-16T14:18:49.0196300+01:00 0HMEOUAT07P77:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.0399680+01:00 0HMEOUAT07P77:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.0413550+01:00 0HMEOUAT07P77:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.0627810+01:00 0HMEOUAT07P77:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.0920440+01:00 0HMEOUAT07P77:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.1276070+01:00 0HMEOUAT07P77:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.1370950+01:00 0HMEOUAT07P77:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.1467840+01:00 0HMEOUAT07P78:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.1608670+01:00 0HMEOUAT07P78:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.1609650+01:00 0HMEOUAT07P78:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.1611900+01:00 0HMEOUAT07P78:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.1620640+01:00 0HMEOUAT07P78:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.1623970+01:00 0HMEOUAT07P78:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.1644660+01:00 0HMEOUAT07P78:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.3109310+01:00 0HMEOUAT07P79:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.3127360+01:00 0HMEOUAT07P79:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.3130580+01:00 0HMEOUAT07P79:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.3132550+01:00 0HMEOUAT07P79:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.3144130+01:00 0HMEOUAT07P79:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.3147590+01:00 0HMEOUAT07P79:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.3165860+01:00 0HMEOUAT07P79:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.3358170+01:00 0HMEOUAT07P78:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3358170+01:00 0HMEOUAT07P79:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3358200+01:00 0HMEOUAT07P77:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P79:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 46.7748ms (afa2e885)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P78:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 198.8392ms (afa2e885)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P77:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 297.2195ms (afa2e885)
2022-01-16T14:18:49.3603310+01:00 0HMEOUAT07P78:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3603390+01:00 0HMEOUAT07P77:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3604950+01:00 0HMEOUAT07P79:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3613240+01:00 0HMEOUAT07P79:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"45c1363b-c3a3-dfd1-6d35-99d79ccaf71d" (1d7cf8c0)
2022-01-16T14:18:49.3613610+01:00 0HMEOUAT07P78:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"45f7e5c6-d44c-bf66-1a2c-cb5faf24d021" (1d7cf8c0)
2022-01-16T14:18:49.3613240+01:00 0HMEOUAT07P77:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"bf7b65a6-eb41-27a8-73c5-db49ab8ad742" (1d7cf8c0)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P79:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 51.5736ms (791a596a)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P78:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 215.7637ms (791a596a)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P77:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 342.9756ms (791a596a)
2022-01-16T14:18:51.1819240+01:00 0HMEOUAT07P77:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:18:51.1832050+01:00 0HMEOUAT07P77:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:51.1832940+01:00 0HMEOUAT07P77:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:51.1925870+01:00 0HMEOUAT07P77:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:51.2726830+01:00 0HMEOUAT07P77:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:51.3006510+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:51.5981270+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:18:51.6509180+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:18:51.7022680+01:00 0HMEOUAT07P77:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 509.5694ms (afa2e885)
2022-01-16T14:18:51.7035290+01:00 0HMEOUAT07P77:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:51.7405120+01:00 0HMEOUAT07P77:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 89
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:18:51.7729940+01:00 0HMEOUAT07P77:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 591.0969ms (791a596a)
2022-01-16T14:19:09.3643830+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:19:18.0264310+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:18.8745630+01:00  [INF] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:19:19.4632910+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:19.4721120+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:19.7364260+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8474430+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.8809280+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8931560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.8995940+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8999270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.9354960+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:19:19.9829060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:20.2079780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:20.6190890+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:19:20.6192390+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:19:20.6195490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:19:20.6196290+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:19:20.6196800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:19:21.8074450+01:00 0HMEOUB7GTGA6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:19:21.9089310+01:00 0HMEOUB7GTGA6:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:21.9102440+01:00 0HMEOUB7GTGA6:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:21.9379790+01:00 0HMEOUB7GTGA6:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:21.9445900+01:00 0HMEOUB7GTGA6:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:21.9800240+01:00 0HMEOUB7GTGA6:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:19:21.9886180+01:00 0HMEOUB7GTGA6:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 42.3219ms (afa2e885)
2022-01-16T14:19:21.9893760+01:00 0HMEOUB7GTGA6:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:21.9988140+01:00 0HMEOUB7GTGA6:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 194.7344ms (791a596a)
2022-01-16T14:19:22.0036640+01:00 0HMEOUB7GTGA6:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:22.0068210+01:00 0HMEOUB7GTGA6:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:22.0088810+01:00 0HMEOUB7GTGA6:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:22.0108040+01:00 0HMEOUB7GTGA6:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:19:22.0133900+01:00 0HMEOUB7GTGA6:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:22.0281060+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:22.0469640+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:22.0997760+01:00 0HMEOUB7GTGA6:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:22.1574250+01:00 0HMEOUB7GTGA6:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:22.3208540+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed ViewResult - view "Index" executed in 230.1418ms. (f66409e9)
2022-01-16T14:19:22.3209650+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 312.0282ms (afa2e885)
2022-01-16T14:19:22.3210160+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:22.3258270+01:00 0HMEOUB7GTGA6:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 322.1259ms (791a596a)
2022-01-16T14:19:23.5433570+01:00 0HMEOUB7GTGA6:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:23.5628100+01:00 0HMEOUB7GTGA6:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:23.5630730+01:00 0HMEOUB7GTGA6:00000004 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:23.5633320+01:00 0HMEOUB7GTGA6:00000004 [INF] Index viewed (84b92a55)
2022-01-16T14:19:23.6411950+01:00 0HMEOUB7GTGA6:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:23.6459920+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:23.6484260+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:23.6493640+01:00 0HMEOUB7GTGA6:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:23.6529520+01:00 0HMEOUB7GTGA6:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:23.6585670+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed ViewResult - view "Index" executed in 9.3611ms. (f66409e9)
2022-01-16T14:19:23.6587420+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 95.6136ms (afa2e885)
2022-01-16T14:19:23.6588580+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:23.6591650+01:00 0HMEOUB7GTGA6:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 115.8969ms (791a596a)
2022-01-16T14:19:24.9173140+01:00 0HMEOUB7GTGA6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:24.9187610+01:00 0HMEOUB7GTGA6:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:24.9190780+01:00 0HMEOUB7GTGA6:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:24.9196100+01:00 0HMEOUB7GTGA6:00000005 [INF] Index viewed (84b92a55)
2022-01-16T14:19:24.9201810+01:00 0HMEOUB7GTGA6:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:24.9221500+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:24.9243640+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:24.9249820+01:00 0HMEOUB7GTGA6:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:24.9268630+01:00 0HMEOUB7GTGA6:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:24.9288140+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed ViewResult - view "Index" executed in 3.8317ms. (f66409e9)
2022-01-16T14:19:24.9289500+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.7848ms (afa2e885)
2022-01-16T14:19:24.9292120+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:24.9296090+01:00 0HMEOUB7GTGA6:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 12.3582ms (791a596a)
2022-01-16T14:19:26.7535720+01:00 0HMEOUB7GTGA6:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:19:26.7610850+01:00 0HMEOUB7GTGA6:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:26.7613110+01:00 0HMEOUB7GTGA6:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:26.7802840+01:00 0HMEOUB7GTGA6:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:26.8159440+01:00 0HMEOUB7GTGA6:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:26.8173560+01:00 0HMEOUB7GTGA6:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:26.8282620+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:27.0607680+01:00 0HMEOUB7GTGA6:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:19:27.0878560+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 307.3961ms (afa2e885)
2022-01-16T14:19:27.0879600+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:27.0886540+01:00 0HMEOUB7GTGA6:00000006 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"0d7b3f2d-46ba-ec74-d9d3-18e1699beb63" (1d7cf8c0)
2022-01-16T14:19:27.0894540+01:00 0HMEOUB7GTGA6:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 335.9033ms (791a596a)
2022-01-16T14:19:27.6249720+01:00 0HMEOUB7GTGA6:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:19:27.6273600+01:00 0HMEOUB7GTGA6:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:27.6277580+01:00 0HMEOUB7GTGA6:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:27.6279490+01:00 0HMEOUB7GTGA6:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:27.6311050+01:00 0HMEOUB7GTGA6:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:27.6337040+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:27.7158540+01:00 0HMEOUB7GTGA6:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:19:27.7161220+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 88.0651ms (afa2e885)
2022-01-16T14:19:27.7161920+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:27.7166030+01:00 0HMEOUB7GTGA6:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 91.6996ms (791a596a)
2022-01-16T14:19:30.2629620+01:00 0HMEOUB7GTGA6:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:19:30.2647190+01:00 0HMEOUB7GTGA6:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:30.2648070+01:00 0HMEOUB7GTGA6:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:30.2650110+01:00 0HMEOUB7GTGA6:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:30.2700000+01:00 0HMEOUB7GTGA6:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:30.3168600+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:30.6151090+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.6670390+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.6702240+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.7360790+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 470.9879ms (afa2e885)
2022-01-16T14:19:30.7382500+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:30.7957030+01:00 0HMEOUB7GTGA6:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:19:30.8400040+01:00 0HMEOUB7GTGA6:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 577.0656ms (791a596a)
2022-01-16T14:20:18.8996190+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:20:38.5004680+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:20:39.6497360+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:20:39.9833910+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:20:39.9989840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:20:40.3373570+01:00  [INF] Executed DbCommand ("48"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.4529570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.5542690+01:00  [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.5680500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.7023200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.7059560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.7850320+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:20:40.8672280+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.9776400+01:00  [INF] Executed DbCommand ("49"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:41.4022860+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:20:41.4051810+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:20:41.4084760+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:20:41.4114940+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:20:41.4147280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:22:11.4052550+01:00 0HMEOUCPBKS0A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:22:11.5872290+01:00 0HMEOUCPBKS0A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:22:11.5889140+01:00 0HMEOUCPBKS0A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:22:11.6328820+01:00 0HMEOUCPBKS0A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:22:11.6793470+01:00 0HMEOUCPBKS0A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:22:11.6989680+01:00 0HMEOUCPBKS0A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:22:11.7126410+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:22:11.8883480+01:00 0HMEOUCPBKS0A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:22:11.9096060+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 272.6645ms (afa2e885)
2022-01-16T14:22:11.9101170+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:22:11.9109790+01:00 0HMEOUCPBKS0A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c0cf7ad0-52fe-0aee-3ed0-037ac63a5ff1" (1d7cf8c0)
2022-01-16T14:22:11.9157520+01:00 0HMEOUCPBKS0A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 514.8097ms (791a596a)
2022-01-16T14:22:13.1457570+01:00 0HMEOUCPBKS0A:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:22:13.1537410+01:00 0HMEOUCPBKS0A:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:22:13.1539500+01:00 0HMEOUCPBKS0A:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:22:13.1595820+01:00 0HMEOUCPBKS0A:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:22:13.2215480+01:00 0HMEOUCPBKS0A:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:22:13.3192520+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("53"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:22:13.6374260+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:22:13.6910650+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:22:58.9951630+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 45831.788ms (afa2e885)
2022-01-16T14:22:58.9971950+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:22:59.0713420+01:00 0HMEOUCPBKS0A:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:22:59.0998340+01:00 0HMEOUCPBKS0A:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 45950.3394ms (791a596a)
2022-01-16T14:23:00.2302060+01:00 0HMEOUCPBKS0A:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:23:00.2422490+01:00 0HMEOUCPBKS0A:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:23:00.2426090+01:00 0HMEOUCPBKS0A:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:23:00.2428810+01:00 0HMEOUCPBKS0A:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:23:00.2440880+01:00 0HMEOUCPBKS0A:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:23:00.3966360+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("62"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:23:00.4466330+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:23:00.4850140+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("35"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:34:56.7961470+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:34:57.3265000+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:34:57.5705340+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:34:57.5778340+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:34:57.7275030+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.7858810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:57.8570080+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.8689800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:57.9365490+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.9406510+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:58.0218750+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:34:58.0692780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:58.2700050+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:58.6271420+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:34:58.6297510+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:34:58.6329350+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:34:58.6355780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:34:58.6384260+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:35:06.3100900+01:00 0HMEOUK10FH64:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:35:06.3947450+01:00 0HMEOUK10FH64:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:06.3956210+01:00 0HMEOUK10FH64:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:06.4123890+01:00 0HMEOUK10FH64:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:06.4186180+01:00 0HMEOUK10FH64:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:06.4621030+01:00 0HMEOUK10FH64:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:35:06.4670140+01:00 0HMEOUK10FH64:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 50.2492ms (afa2e885)
2022-01-16T14:35:06.4673650+01:00 0HMEOUK10FH64:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:06.4822500+01:00 0HMEOUK10FH64:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 173.8144ms (791a596a)
2022-01-16T14:35:06.4965230+01:00 0HMEOUK10FH64:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:35:06.4982510+01:00 0HMEOUK10FH64:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:06.4994780+01:00 0HMEOUK10FH64:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:06.5028070+01:00 0HMEOUK10FH64:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:35:06.5042740+01:00 0HMEOUK10FH64:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:06.5105610+01:00 0HMEOUK10FH64:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:35:06.5203440+01:00 0HMEOUK10FH64:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:35:06.5617030+01:00 0HMEOUK10FH64:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:35:06.6064430+01:00 0HMEOUK10FH64:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:06.7608530+01:00 0HMEOUK10FH64:00000003 [INF] Executed ViewResult - view "Index" executed in 206.3538ms. (f66409e9)
2022-01-16T14:35:06.7609740+01:00 0HMEOUK10FH64:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 261.4423ms (afa2e885)
2022-01-16T14:35:06.7610380+01:00 0HMEOUK10FH64:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:06.7647700+01:00 0HMEOUK10FH64:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 268.1786ms (791a596a)
2022-01-16T14:35:12.6331670+01:00 0HMEOUK10FH64:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:35:12.6471860+01:00 0HMEOUK10FH64:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:12.6473710+01:00 0HMEOUK10FH64:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:12.6606900+01:00 0HMEOUK10FH64:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:12.6917400+01:00 0HMEOUK10FH64:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:12.7070930+01:00 0HMEOUK10FH64:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:12.7135630+01:00 0HMEOUK10FH64:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:35:12.8539150+01:00 0HMEOUK10FH64:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:35:12.8659510+01:00 0HMEOUK10FH64:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 205.1169ms (afa2e885)
2022-01-16T14:35:12.8660910+01:00 0HMEOUK10FH64:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:12.8665720+01:00 0HMEOUK10FH64:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"94b560d2-80fa-df60-8979-07ef2c1b460c" (1d7cf8c0)
2022-01-16T14:35:12.8675410+01:00 0HMEOUK10FH64:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 234.6711ms (791a596a)
2022-01-16T14:35:14.2587870+01:00 0HMEOUK10FH64:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:35:14.2612530+01:00 0HMEOUK10FH64:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:14.2618030+01:00 0HMEOUK10FH64:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:14.2621900+01:00 0HMEOUK10FH64:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:14.3190770+01:00 0HMEOUK10FH64:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:14.3889980+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:35:14.6876360+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:35:14.7164400+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:01.7604080+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:02.3933020+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:37:02.6100520+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:37:02.6188510+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:37:02.8492120+01:00  [INF] Executed DbCommand ("77"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:02.9669600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.0203120+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.0347780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.1030140+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.1084720+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.2036660+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:37:03.2567090+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.3444780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.7041090+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:37:03.7295340+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:37:03.7324780+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:37:03.7351460+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:37:03.7380050+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:37:06.4071300+01:00 0HMEOUL4P7RHF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:37:06.5038080+01:00 0HMEOUL4P7RHF:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:06.5048280+01:00 0HMEOUL4P7RHF:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:06.5259350+01:00 0HMEOUL4P7RHF:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:06.5317900+01:00 0HMEOUL4P7RHF:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:06.5835360+01:00 0HMEOUL4P7RHF:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:37:06.5884240+01:00 0HMEOUL4P7RHF:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 58.3017ms (afa2e885)
2022-01-16T14:37:06.5888420+01:00 0HMEOUL4P7RHF:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:06.5971470+01:00 0HMEOUL4P7RHF:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 192.8990ms (791a596a)
2022-01-16T14:37:06.6128420+01:00 0HMEOUL4P7RHF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:37:06.6148870+01:00 0HMEOUL4P7RHF:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:06.6166130+01:00 0HMEOUL4P7RHF:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:06.6203410+01:00 0HMEOUL4P7RHF:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:37:06.6222710+01:00 0HMEOUL4P7RHF:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:06.6347540+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:37:06.6451130+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:37:06.6838760+01:00 0HMEOUL4P7RHF:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:37:06.7240130+01:00 0HMEOUL4P7RHF:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:06.8823700+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed ViewResult - view "Index" executed in 205.12ms. (f66409e9)
2022-01-16T14:37:06.8825520+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 265.861ms (afa2e885)
2022-01-16T14:37:06.8826450+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:06.8883950+01:00 0HMEOUL4P7RHF:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 275.4146ms (791a596a)
2022-01-16T14:37:10.2203530+01:00 0HMEOUL4P7RHF:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:10.2339810+01:00 0HMEOUL4P7RHF:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:10.2341460+01:00 0HMEOUL4P7RHF:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:10.2482910+01:00 0HMEOUL4P7RHF:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:10.2805240+01:00 0HMEOUL4P7RHF:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:10.2968290+01:00 0HMEOUL4P7RHF:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:10.3022410+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:10.4505870+01:00 0HMEOUL4P7RHF:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:10.4642180+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 215.7752ms (afa2e885)
2022-01-16T14:37:10.4643260+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:10.4648500+01:00 0HMEOUL4P7RHF:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"3f1c74c6-1416-1f2f-f5f8-511922018151" (1d7cf8c0)
2022-01-16T14:37:10.4660490+01:00 0HMEOUL4P7RHF:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 245.8651ms (791a596a)
2022-01-16T14:37:10.8312030+01:00 0HMEOUL4P7RHF:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:10.8335580+01:00 0HMEOUL4P7RHF:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:10.8339390+01:00 0HMEOUL4P7RHF:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:10.8342340+01:00 0HMEOUL4P7RHF:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:10.8370330+01:00 0HMEOUL4P7RHF:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:10.8397930+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:10.8935360+01:00 0HMEOUL4P7RHF:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:10.8939370+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 59.5951ms (afa2e885)
2022-01-16T14:37:10.8940410+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:10.8950850+01:00 0HMEOUL4P7RHF:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 63.8710ms (791a596a)
2022-01-16T14:37:11.0150210+01:00 0HMEOUL4P7RHF:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:11.0169220+01:00 0HMEOUL4P7RHF:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:11.0171020+01:00 0HMEOUL4P7RHF:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:11.0175070+01:00 0HMEOUL4P7RHF:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:11.0186630+01:00 0HMEOUL4P7RHF:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:11.0209380+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:11.0221800+01:00 0HMEOUL4P7RHF:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:11.0224590+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8308ms (afa2e885)
2022-01-16T14:37:11.0225300+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:11.0229330+01:00 0HMEOUL4P7RHF:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.9447ms (791a596a)
2022-01-16T14:37:12.9845540+01:00 0HMEOUL4P7RHF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:37:12.9864140+01:00 0HMEOUL4P7RHF:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:12.9865800+01:00 0HMEOUL4P7RHF:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:12.9867720+01:00 0HMEOUL4P7RHF:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:12.9908300+01:00 0HMEOUL4P7RHF:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:13.0533270+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("28"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:13.2972390+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:13.3292460+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:13.3325520+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:28.8154940+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 15828.9635ms (afa2e885)
2022-01-16T14:37:28.8173300+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:28.8411600+01:00 0HMEOUL4P7RHF:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 82
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:37:28.8684930+01:00 0HMEOUL4P7RHF:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 15884.4498ms (791a596a)
2022-01-16T14:39:24.7008250+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:25.2469860+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:39:25.6452070+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:39:25.6592030+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:39:25.8550340+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:25.9218900+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:25.9511080+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:25.9596300+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:26.0767660+01:00  [INF] Executed DbCommand ("66"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.0820660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:26.1519870+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:39:26.2098590+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.3526010+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.7332030+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:39:26.7367680+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:39:26.7411580+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:39:26.7450560+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:39:26.7486370+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:39:31.0382790+01:00 0HMEOUMFT3S81:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:39:31.1206960+01:00 0HMEOUMFT3S81:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:31.1215390+01:00 0HMEOUMFT3S81:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:31.1400060+01:00 0HMEOUMFT3S81:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:31.1459100+01:00 0HMEOUMFT3S81:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:31.1905020+01:00 0HMEOUMFT3S81:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:39:31.1953720+01:00 0HMEOUMFT3S81:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 50.9882ms (afa2e885)
2022-01-16T14:39:31.1957340+01:00 0HMEOUMFT3S81:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:31.2032570+01:00 0HMEOUMFT3S81:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 166.0816ms (791a596a)
2022-01-16T14:39:31.2184830+01:00 0HMEOUMFT3S81:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:39:31.2202480+01:00 0HMEOUMFT3S81:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:31.2216140+01:00 0HMEOUMFT3S81:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:31.2248990+01:00 0HMEOUMFT3S81:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:39:31.2264570+01:00 0HMEOUMFT3S81:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:31.2366620+01:00 0HMEOUMFT3S81:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:39:31.2457600+01:00 0HMEOUMFT3S81:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:39:31.2770160+01:00 0HMEOUMFT3S81:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:39:31.3114580+01:00 0HMEOUMFT3S81:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:31.4410170+01:00 0HMEOUMFT3S81:00000003 [INF] Executed ViewResult - view "Index" executed in 169.1824ms. (f66409e9)
2022-01-16T14:39:31.4411270+01:00 0HMEOUMFT3S81:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 219.4551ms (afa2e885)
2022-01-16T14:39:31.4411810+01:00 0HMEOUMFT3S81:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:31.4447340+01:00 0HMEOUMFT3S81:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 226.1933ms (791a596a)
2022-01-16T14:39:33.6750990+01:00 0HMEOUMFT3S81:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:33.6872190+01:00 0HMEOUMFT3S81:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:33.6873880+01:00 0HMEOUMFT3S81:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:33.7012020+01:00 0HMEOUMFT3S81:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:33.7352030+01:00 0HMEOUMFT3S81:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:33.7512200+01:00 0HMEOUMFT3S81:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:33.7574850+01:00 0HMEOUMFT3S81:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:33.7979820+01:00 0HMEOUMFT3S82:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:33.7990980+01:00 0HMEOUMFT3S82:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:33.7992470+01:00 0HMEOUMFT3S82:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:33.7994170+01:00 0HMEOUMFT3S82:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:33.8005620+01:00 0HMEOUMFT3S82:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:33.8010030+01:00 0HMEOUMFT3S82:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:33.8027350+01:00 0HMEOUMFT3S82:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:33.8939630+01:00 0HMEOUMFT3S81:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:33.8939660+01:00 0HMEOUMFT3S82:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:33.9060750+01:00 0HMEOUMFT3S82:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 106.5487ms (afa2e885)
2022-01-16T14:39:33.9060750+01:00 0HMEOUMFT3S81:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 204.6849ms (afa2e885)
2022-01-16T14:39:33.9061790+01:00 0HMEOUMFT3S82:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:33.9061900+01:00 0HMEOUMFT3S81:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:33.9067870+01:00 0HMEOUMFT3S82:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"5a70082c-bac0-1127-715d-e16e39ed6d24" (1d7cf8c0)
2022-01-16T14:39:33.9068150+01:00 0HMEOUMFT3S81:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"b9d11d93-cbcb-91c8-887b-59c4c6eee86c" (1d7cf8c0)
2022-01-16T14:39:33.9079320+01:00 0HMEOUMFT3S82:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 109.9221ms (791a596a)
2022-01-16T14:39:33.9079320+01:00 0HMEOUMFT3S81:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 232.8730ms (791a596a)
2022-01-16T14:39:34.3298780+01:00 0HMEOUMFT3S82:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:34.3313650+01:00 0HMEOUMFT3S82:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:34.3316080+01:00 0HMEOUMFT3S82:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:34.3319810+01:00 0HMEOUMFT3S82:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:34.3338990+01:00 0HMEOUMFT3S82:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:34.3372350+01:00 0HMEOUMFT3S82:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:34.3923880+01:00 0HMEOUMFT3S82:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:34.3927540+01:00 0HMEOUMFT3S82:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 60.6585ms (afa2e885)
2022-01-16T14:39:34.3928300+01:00 0HMEOUMFT3S82:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:34.3934740+01:00 0HMEOUMFT3S82:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 63.7580ms (791a596a)
2022-01-16T14:39:34.9328100+01:00 0HMEOUMFT3S82:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:34.9341170+01:00 0HMEOUMFT3S82:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:34.9342510+01:00 0HMEOUMFT3S82:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:34.9344620+01:00 0HMEOUMFT3S82:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:34.9356170+01:00 0HMEOUMFT3S82:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:34.9378000+01:00 0HMEOUMFT3S82:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:34.9385940+01:00 0HMEOUMFT3S82:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:34.9388870+01:00 0HMEOUMFT3S82:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.3278ms (afa2e885)
2022-01-16T14:39:34.9389710+01:00 0HMEOUMFT3S82:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:34.9393160+01:00 0HMEOUMFT3S82:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.5236ms (791a596a)
2022-01-16T14:39:37.0318920+01:00 0HMEOUMFT3S82:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:39:37.0334910+01:00 0HMEOUMFT3S82:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:37.0336650+01:00 0HMEOUMFT3S82:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:37.0340290+01:00 0HMEOUMFT3S82:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:37.0382750+01:00 0HMEOUMFT3S82:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:37.1772350+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("55"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:37.4756250+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.5079900+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.5111450+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.6736890+01:00 0HMEOUMFT3S82:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 639.505ms (afa2e885)
2022-01-16T14:39:37.6743590+01:00 0HMEOUMFT3S82:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:37.7381690+01:00 0HMEOUMFT3S82:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 27
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:39:37.7678210+01:00 0HMEOUMFT3S82:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 736.0503ms (791a596a)
2022-01-16T14:45:52.8450960+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:53.6062410+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:45:53.8947840+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:45:53.9031890+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:45:54.1211030+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2461880+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2701900+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2706930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2736180+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2738440+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2974980+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:45:54.3193700+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.3984640+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.6174180+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:45:54.6175510+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:45:54.6177250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:45:54.6177720+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:45:54.6178160+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:45:56.1360570+01:00 0HMEOUQ2LLV59:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:45:56.2154800+01:00 0HMEOUQ2LLV59:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:56.2166110+01:00 0HMEOUQ2LLV59:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:56.2385360+01:00 0HMEOUQ2LLV59:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:56.2444750+01:00 0HMEOUQ2LLV59:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:56.2738530+01:00 0HMEOUQ2LLV59:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:45:56.2823010+01:00 0HMEOUQ2LLV59:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 35.5376ms (afa2e885)
2022-01-16T14:45:56.2831770+01:00 0HMEOUQ2LLV59:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:56.2920970+01:00 0HMEOUQ2LLV59:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 158.5727ms (791a596a)
2022-01-16T14:45:56.2965690+01:00 0HMEOUQ2LLV59:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:45:56.2995390+01:00 0HMEOUQ2LLV59:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:56.3014760+01:00 0HMEOUQ2LLV59:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:56.3038740+01:00 0HMEOUQ2LLV59:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:45:56.3073070+01:00 0HMEOUQ2LLV59:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:56.3221170+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:45:56.3399150+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:45:56.3892560+01:00 0HMEOUQ2LLV59:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:45:56.4491790+01:00 0HMEOUQ2LLV59:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:56.6047040+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed ViewResult - view "Index" executed in 224.665ms. (f66409e9)
2022-01-16T14:45:56.6048100+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 303.2772ms (afa2e885)
2022-01-16T14:45:56.6048590+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:56.6098630+01:00 0HMEOUQ2LLV59:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 313.2000ms (791a596a)
2022-01-16T14:45:58.6689820+01:00 0HMEOUQ2LLV59:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:45:58.6946650+01:00 0HMEOUQ2LLV59:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:58.6947980+01:00 0HMEOUQ2LLV59:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:58.7144840+01:00 0HMEOUQ2LLV59:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:58.7434590+01:00 0HMEOUQ2LLV59:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:58.7803210+01:00 0HMEOUQ2LLV59:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:58.7923280+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:58.8220530+01:00 0HMEOUQ2LLV5A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:45:58.8239140+01:00 0HMEOUQ2LLV5A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:58.8241890+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:58.8243320+01:00 0HMEOUQ2LLV5A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:58.8260230+01:00 0HMEOUQ2LLV5A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:58.8263650+01:00 0HMEOUQ2LLV5A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:58.8283620+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:58.9785300+01:00 0HMEOUQ2LLV59:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:45:58.9785300+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:45:58.9966270+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 172.201ms (afa2e885)
2022-01-16T14:45:58.9966270+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 282.0226ms (afa2e885)
2022-01-16T14:45:58.9967140+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:58.9967280+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:58.9974270+01:00 0HMEOUQ2LLV5A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"f4319ada-46c1-8d06-c5fa-483d7d0ade33" (1d7cf8c0)
2022-01-16T14:45:58.9974380+01:00 0HMEOUQ2LLV59:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"abb049c5-5c70-a13d-e211-abbf1ce7cb4b" (1d7cf8c0)
2022-01-16T14:45:58.9983570+01:00 0HMEOUQ2LLV5A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 176.3047ms (791a596a)
2022-01-16T14:45:58.9983690+01:00 0HMEOUQ2LLV59:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 329.4389ms (791a596a)
2022-01-16T14:46:00.4961240+01:00 0HMEOUQ2LLV59:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:46:00.4973840+01:00 0HMEOUQ2LLV59:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:46:00.4974830+01:00 0HMEOUQ2LLV59:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:46:00.4979240+01:00 0HMEOUQ2LLV59:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:46:00.5811400+01:00 0HMEOUQ2LLV59:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:46:00.6116780+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:46:00.9190260+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:46:00.9667940+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:46:01.1464520+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:46:09.1496420+01:00 0HMEOUQ2LLV59:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:46:09.1546330+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8656.8313ms (afa2e885)
2022-01-16T14:46:09.1565260+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:46:09.1697680+01:00 0HMEOUQ2LLV59:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8673.8640ms (791a596a)
2022-01-16T14:46:09.1734550+01:00 0HMEOUQ2LLV59:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:46:09.1755880+01:00 0HMEOUQ2LLV59:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:46:09.1758020+01:00 0HMEOUQ2LLV59:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:46:09.1845200+01:00 0HMEOUQ2LLV59:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:46:09.1886710+01:00 0HMEOUQ2LLV59:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:46:09.1931820+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:46:09.2238850+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:46:09.2395760+01:00 0HMEOUQ2LLV59:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:46:09.2691660+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed ViewResult - view "Index" executed in 32.3519ms. (f66409e9)
2022-01-16T14:46:09.2693450+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 84.7372ms (afa2e885)
2022-01-16T14:46:09.2693970+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:46:09.2696470+01:00 0HMEOUQ2LLV59:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 96.2887ms (791a596a)
2022-01-16T14:49:37.2730470+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:38.0977720+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:49:38.6054560+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:49:38.6152210+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:49:38.8849620+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:38.9974710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.0336400+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.0528050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.0661620+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.0669420+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.1303710+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:49:39.1762060+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.2715690+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.6054610+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:49:39.6055700+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:49:39.6058450+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:49:39.6059270+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:49:39.6060070+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:49:43.0667510+01:00 0HMEOUS69RMGC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:49:43.1398160+01:00 0HMEOUS69RMGC:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:43.1590410+01:00 0HMEOUS69RMGC:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:43.1613960+01:00 0HMEOUS69RMGC:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:49:43.1634370+01:00 0HMEOUS69RMGC:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:43.1766560+01:00 0HMEOUS69RMGC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:49:43.1972520+01:00 0HMEOUS69RMGC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:49:43.3063760+01:00 0HMEOUS69RMGC:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:49:43.4689430+01:00 0HMEOUS69RMGC:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:49:43.8425010+01:00 0HMEOUS69RMGC:00000002 [INF] Executed ViewResult - view "Index" executed in 530.5153ms. (f66409e9)
2022-01-16T14:49:43.8438310+01:00 0HMEOUS69RMGC:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 683.7886ms (afa2e885)
2022-01-16T14:49:43.8513650+01:00 0HMEOUS69RMGC:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:43.8759090+01:00 0HMEOUS69RMGC:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 811.2915ms (791a596a)
2022-01-16T14:49:46.1444290+01:00 0HMEOUS69RMGC:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:46.1633230+01:00 0HMEOUS69RMGC:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:46.1647620+01:00 0HMEOUS69RMGC:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:46.1849430+01:00 0HMEOUS69RMGC:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:46.2123380+01:00 0HMEOUS69RMGC:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:49:46.2512310+01:00 0HMEOUS69RMGC:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:46.2647600+01:00 0HMEOUS69RMGC:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:46.5229010+01:00 0HMEOUS69RMGC:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:46.5489550+01:00 0HMEOUS69RMGC:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.8947ms (afa2e885)
2022-01-16T14:49:46.5490760+01:00 0HMEOUS69RMGC:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:46.5504650+01:00 0HMEOUS69RMGC:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"773d7b36-fbab-6417-09d3-20a58680a782" (1d7cf8c0)
2022-01-16T14:49:46.5518040+01:00 0HMEOUS69RMGC:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 407.5568ms (791a596a)
2022-01-16T14:49:46.6946910+01:00 0HMEOUS69RMGC:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:46.7215040+01:00 0HMEOUS69RMGC:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:46.7217150+01:00 0HMEOUS69RMGC:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:46.7221230+01:00 0HMEOUS69RMGC:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:46.7239420+01:00 0HMEOUS69RMGC:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:46.7269010+01:00 0HMEOUS69RMGC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:46.7981750+01:00 0HMEOUS69RMGC:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:46.7984210+01:00 0HMEOUS69RMGC:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 76.2103ms (afa2e885)
2022-01-16T14:49:46.7984650+01:00 0HMEOUS69RMGC:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:46.7987760+01:00 0HMEOUS69RMGC:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 104.1294ms (791a596a)
2022-01-16T14:49:47.7705150+01:00 0HMEOUS69RMGC:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:47.7731850+01:00 0HMEOUS69RMGC:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:47.7735960+01:00 0HMEOUS69RMGC:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:47.7737880+01:00 0HMEOUS69RMGC:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:47.7759990+01:00 0HMEOUS69RMGC:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:47.7780950+01:00 0HMEOUS69RMGC:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:47.7798820+01:00 0HMEOUS69RMGC:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:47.7802270+01:00 0HMEOUS69RMGC:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 6.2815ms (afa2e885)
2022-01-16T14:49:47.7803470+01:00 0HMEOUS69RMGC:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:47.7808080+01:00 0HMEOUS69RMGC:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 10.4226ms (791a596a)
2022-01-16T14:49:48.1360420+01:00 0HMEOUS69RMGC:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:48.1371570+01:00 0HMEOUS69RMGC:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:48.1372600+01:00 0HMEOUS69RMGC:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:48.1374050+01:00 0HMEOUS69RMGC:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:48.1385240+01:00 0HMEOUS69RMGC:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:48.1411500+01:00 0HMEOUS69RMGC:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:48.1428630+01:00 0HMEOUS69RMGC:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:48.1432820+01:00 0HMEOUS69RMGC:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.8001ms (afa2e885)
2022-01-16T14:49:48.1434260+01:00 0HMEOUS69RMGC:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:48.1437540+01:00 0HMEOUS69RMGC:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.7096ms (791a596a)
2022-01-16T14:49:48.7856530+01:00 0HMEOUS69RMGC:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:48.7868910+01:00 0HMEOUS69RMGC:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:48.7869670+01:00 0HMEOUS69RMGC:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:48.7871230+01:00 0HMEOUS69RMGC:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:48.7877280+01:00 0HMEOUS69RMGC:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:48.7896250+01:00 0HMEOUS69RMGC:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:48.7904490+01:00 0HMEOUS69RMGC:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:48.7907250+01:00 0HMEOUS69RMGC:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.5208ms (afa2e885)
2022-01-16T14:49:48.7907900+01:00 0HMEOUS69RMGC:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:48.7911290+01:00 0HMEOUS69RMGC:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.4441ms (791a596a)
2022-01-16T14:49:51.7849570+01:00 0HMEOUS69RMGC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:49:51.7888160+01:00 0HMEOUS69RMGC:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:51.7890320+01:00 0HMEOUS69RMGC:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:51.8056550+01:00 0HMEOUS69RMGC:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:51.8767620+01:00 0HMEOUS69RMGC:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:51.9358990+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:52.2693610+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:49:52.3172670+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:49:52.5742590+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:49:59.3246450+01:00 0HMEOUS69RMGC:00000008 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:49:59.3297090+01:00 0HMEOUS69RMGC:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7524.1539ms (afa2e885)
2022-01-16T14:49:59.3319040+01:00 0HMEOUS69RMGC:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:59.3443970+01:00 0HMEOUS69RMGC:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7559.6346ms (791a596a)
2022-01-16T14:49:59.3477720+01:00 0HMEOUS69RMGC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:49:59.3490180+01:00 0HMEOUS69RMGC:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:59.3491200+01:00 0HMEOUS69RMGC:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:59.3543710+01:00 0HMEOUS69RMGC:00000009 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:59.3585280+01:00 0HMEOUS69RMGC:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:59.3623660+01:00 0HMEOUS69RMGC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:59.3900100+01:00 0HMEOUS69RMGC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:49:59.4025190+01:00 0HMEOUS69RMGC:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:49:59.4307860+01:00 0HMEOUS69RMGC:00000009 [INF] Executed ViewResult - view "Index" executed in 31.4311ms. (f66409e9)
2022-01-16T14:49:59.4309090+01:00 0HMEOUS69RMGC:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 76.4461ms (afa2e885)
2022-01-16T14:49:59.4309610+01:00 0HMEOUS69RMGC:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:59.4312280+01:00 0HMEOUS69RMGC:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.4890ms (791a596a)
2022-01-16T14:54:34.0370520+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:34.6579690+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:54:34.9186210+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:54:34.9277460+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:54:35.1061560+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.1819060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2073140+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.2164310+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2220910+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.2223500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2402310+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:54:35.2579650+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.3252920+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.5289260+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:54:35.5289830+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:54:35.5291550+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:54:35.5291840+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:54:35.5291990+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:54:40.8868600+01:00 0HMEOUUV2346U:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:54:40.9563720+01:00 0HMEOUUV2346U:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:40.9750560+01:00 0HMEOUUV2346U:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:40.9779010+01:00 0HMEOUUV2346U:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:54:40.9807840+01:00 0HMEOUUV2346U:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:40.9936310+01:00 0HMEOUUV2346U:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:54:41.0101780+01:00 0HMEOUUV2346U:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:54:41.0521970+01:00 0HMEOUUV2346U:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:54:41.1239690+01:00 0HMEOUUV2346U:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:41.3137240+01:00 0HMEOUUV2346U:00000002 [INF] Executed ViewResult - view "Index" executed in 259.4271ms. (f66409e9)
2022-01-16T14:54:41.3144690+01:00 0HMEOUUV2346U:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 338.5966ms (afa2e885)
2022-01-16T14:54:41.3152540+01:00 0HMEOUUV2346U:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:41.3238850+01:00 0HMEOUUV2346U:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 439.7101ms (791a596a)
2022-01-16T14:54:43.7693500+01:00 0HMEOUUV2346U:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:43.7898580+01:00 0HMEOUUV2346U:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:43.7912410+01:00 0HMEOUUV2346U:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:43.8105780+01:00 0HMEOUUV2346U:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:43.8385350+01:00 0HMEOUUV2346U:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:43.8741320+01:00 0HMEOUUV2346U:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:43.8844680+01:00 0HMEOUUV2346U:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:43.9330550+01:00 0HMEOUUV2346T:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:43.9458900+01:00 0HMEOUUV2346T:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:43.9461940+01:00 0HMEOUUV2346T:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:43.9463360+01:00 0HMEOUUV2346T:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:43.9474280+01:00 0HMEOUUV2346T:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:43.9477960+01:00 0HMEOUUV2346T:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:43.9496170+01:00 0HMEOUUV2346T:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:44.0428880+01:00 0HMEOUUV2346T:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.0428870+01:00 0HMEOUUV2346U:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.0582490+01:00 0HMEOUUV2346T:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 111.8353ms (afa2e885)
2022-01-16T14:54:44.0582490+01:00 0HMEOUUV2346U:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 247.5584ms (afa2e885)
2022-01-16T14:54:44.0583380+01:00 0HMEOUUV2346T:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.0583540+01:00 0HMEOUUV2346U:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.0588810+01:00 0HMEOUUV2346T:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4d586436-9b3d-6e5b-3ce7-4c1d02a0adf8" (1d7cf8c0)
2022-01-16T14:54:44.0588810+01:00 0HMEOUUV2346U:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cd96c653-dd67-2e09-103f-241fad2401ef" (1d7cf8c0)
2022-01-16T14:54:44.0597280+01:00 0HMEOUUV2346T:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 126.6369ms (791a596a)
2022-01-16T14:54:44.0597320+01:00 0HMEOUUV2346U:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 290.4551ms (791a596a)
2022-01-16T14:54:44.7780540+01:00 0HMEOUUV2346T:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:44.7804850+01:00 0HMEOUUV2346T:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:44.7809740+01:00 0HMEOUUV2346T:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:44.7811960+01:00 0HMEOUUV2346T:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:44.7842850+01:00 0HMEOUUV2346T:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:44.7866790+01:00 0HMEOUUV2346T:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:44.8679550+01:00 0HMEOUUV2346T:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.8681990+01:00 0HMEOUUV2346T:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.9288ms (afa2e885)
2022-01-16T14:54:44.8682390+01:00 0HMEOUUV2346T:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.8684810+01:00 0HMEOUUV2346T:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 90.5468ms (791a596a)
2022-01-16T14:54:46.8343680+01:00 0HMEOUUV2346T:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:54:46.8358080+01:00 0HMEOUUV2346T:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:46.8360070+01:00 0HMEOUUV2346T:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:46.8443500+01:00 0HMEOUUV2346T:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:46.8559720+01:00 0HMEOUUV2346T:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:46.8947080+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:47.1721350+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.2225460+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.2249010+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.3784980+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:54:52.4844620+01:00 0HMEOUUV2346T:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:54:52.4883020+01:00 0HMEOUUV2346T:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5644.0086ms (afa2e885)
2022-01-16T14:54:52.4898740+01:00 0HMEOUUV2346T:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:52.4991930+01:00 0HMEOUUV2346T:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5664.9437ms (791a596a)
2022-01-16T14:54:52.5024280+01:00 0HMEOUUV2346T:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:54:52.5034350+01:00 0HMEOUUV2346T:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:52.5035180+01:00 0HMEOUUV2346T:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:52.5090790+01:00 0HMEOUUV2346T:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:52.5140140+01:00 0HMEOUUV2346T:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:52.5172910+01:00 0HMEOUUV2346T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:52.5500530+01:00 0HMEOUUV2346T:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:54:52.5605300+01:00 0HMEOUUV2346T:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:54:52.5836750+01:00 0HMEOUUV2346T:00000005 [INF] Executed ViewResult - view "Index" executed in 24.6373ms. (f66409e9)
2022-01-16T14:54:52.5837600+01:00 0HMEOUUV2346T:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 74.6111ms (afa2e885)
2022-01-16T14:54:52.5838110+01:00 0HMEOUUV2346T:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:52.5841460+01:00 0HMEOUUV2346T:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 81.6686ms (791a596a)
2022-01-16T14:54:58.2902160+01:00 0HMEOUUV2346T:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:54:58.2917510+01:00 0HMEOUUV2346T:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:58.2918480+01:00 0HMEOUUV2346T:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:58.3002830+01:00 0HMEOUUV2346T:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:58.3073140+01:00 0HMEOUUV2346T:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 6.9081ms (afa2e885)
2022-01-16T14:54:58.3075380+01:00 0HMEOUUV2346T:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:58.3520810+01:00 0HMEOUUV2346T:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:54:58.3864910+01:00 0HMEOUUV2346T:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 96.3108ms (791a596a)
2022-01-16T14:56:32.6948600+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:56:33.3034130+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:56:33.6067730+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:56:33.6148180+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:56:33.8186230+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9212760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9521250+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9625710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9683970+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9686960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9978230+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:56:34.0223720+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:34.1027100+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:34.3125480+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:56:34.3126630+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:56:34.3128430+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:56:34.3128800+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:56:34.3129080+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:57:05.1051230+01:00 0HMEOV09HNTQQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:05.1883020+01:00 0HMEOV09HNTQQ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:05.1892830+01:00 0HMEOV09HNTQQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:05.2168920+01:00 0HMEOV09HNTQQ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:05.2447120+01:00 0HMEOV09HNTQQ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 19.9837ms (afa2e885)
2022-01-16T14:57:05.2458300+01:00 0HMEOV09HNTQQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:05.2715190+01:00 0HMEOV09HNTQQ:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:05.3103770+01:00 0HMEOV09HNTQQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 208.8582ms (791a596a)
2022-01-16T14:57:06.3878070+01:00 0HMEOV09HNTQQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:06.3960620+01:00 0HMEOV09HNTQQ:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:06.3961920+01:00 0HMEOV09HNTQQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:06.3965030+01:00 0HMEOV09HNTQQ:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:06.3980100+01:00 0HMEOV09HNTQQ:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.413ms (afa2e885)
2022-01-16T14:57:06.3982130+01:00 0HMEOV09HNTQQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:06.3999370+01:00 0HMEOV09HNTQQ:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:06.4081930+01:00 0HMEOV09HNTQQ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 20.3914ms (791a596a)
2022-01-16T14:57:07.5666670+01:00 0HMEOV09HNTQQ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.5883820+01:00 0HMEOV09HNTQQ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.5887470+01:00 0HMEOV09HNTQQ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.5889530+01:00 0HMEOV09HNTQQ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.5900410+01:00 0HMEOV09HNTQQ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 0.9817ms (afa2e885)
2022-01-16T14:57:07.5903240+01:00 0HMEOV09HNTQQ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.5917580+01:00 0HMEOV09HNTQQ:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.5966670+01:00 0HMEOV09HNTQQ:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 29.9611ms (791a596a)
2022-01-16T14:57:07.7633430+01:00 0HMEOV09HNTQQ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.7648930+01:00 0HMEOV09HNTQQ:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.7649970+01:00 0HMEOV09HNTQQ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.7651700+01:00 0HMEOV09HNTQQ:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.7663990+01:00 0HMEOV09HNTQQ:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.1208ms (afa2e885)
2022-01-16T14:57:07.7667250+01:00 0HMEOV09HNTQQ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.7688740+01:00 0HMEOV09HNTQQ:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.7749110+01:00 0HMEOV09HNTQQ:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 11.5070ms (791a596a)
2022-01-16T14:57:07.9445450+01:00 0HMEOV09HNTQQ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.9464640+01:00 0HMEOV09HNTQQ:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.9466400+01:00 0HMEOV09HNTQQ:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.9468480+01:00 0HMEOV09HNTQQ:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.9486060+01:00 0HMEOV09HNTQQ:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.5869ms (afa2e885)
2022-01-16T14:57:07.9488610+01:00 0HMEOV09HNTQQ:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.9507150+01:00 0HMEOV09HNTQQ:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.9557770+01:00 0HMEOV09HNTQQ:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 11.3353ms (791a596a)
2022-01-16T14:57:35.2690340+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:57:42.1741980+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:42.6446550+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:57:43.0392220+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:57:43.0492910+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:57:43.2465550+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3326160+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3494000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3498590+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3525690+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3527690+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3725180+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:57:43.3904960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.4914800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.7722590+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:57:43.7723400+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:57:43.7725400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:57:43.7726280+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:57:43.7726810+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:57:44.2693780+01:00 0HMEOV0LMU9F7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:44.3505390+01:00 0HMEOV0LMU9F7:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:44.3517160+01:00 0HMEOV0LMU9F7:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:44.3832580+01:00 0HMEOV0LMU9F7:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:44.4012940+01:00 0HMEOV0LMU9F7:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:44.5785670+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:44.6801260+01:00 0HMEOV0LMU9F7:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:44.7346270+01:00 0HMEOV0LMU9F7:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:44.9309000+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed ViewResult - view "Invoice" executed in 249.386ms. (f66409e9)
2022-01-16T14:57:44.9317150+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 547.6245ms (afa2e885)
2022-01-16T14:57:44.9328810+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:44.9440600+01:00 0HMEOV0LMU9F7:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 677.1466ms (791a596a)
2022-01-16T14:57:46.5813090+01:00 0HMEOV0LMU9F7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:46.5900840+01:00 0HMEOV0LMU9F7:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:46.5902400+01:00 0HMEOV0LMU9F7:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:46.5908940+01:00 0HMEOV0LMU9F7:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:46.6432940+01:00 0HMEOV0LMU9F7:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:46.6477900+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:46.6488440+01:00 0HMEOV0LMU9F7:00000003 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:46.6508290+01:00 0HMEOV0LMU9F7:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:46.6524450+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed ViewResult - view "Invoice" executed in 3.7014ms. (f66409e9)
2022-01-16T14:57:46.6525150+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 61.5526ms (afa2e885)
2022-01-16T14:57:46.6526590+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:46.6529410+01:00 0HMEOV0LMU9F7:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 71.6934ms (791a596a)
2022-01-16T14:57:48.7971390+01:00 0HMEOV0LMU9F7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/120 - - (ca22a1cb)
2022-01-16T14:57:48.8223370+01:00 0HMEOV0LMU9F7:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:48.8226960+01:00 0HMEOV0LMU9F7:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:48.8228540+01:00 0HMEOV0LMU9F7:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:48.8233840+01:00 0HMEOV0LMU9F7:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:48.8267630+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:48.8277540+01:00 0HMEOV0LMU9F7:00000004 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:48.8296710+01:00 0HMEOV0LMU9F7:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:48.8316170+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed ViewResult - view "Invoice" executed in 3.8981ms. (f66409e9)
2022-01-16T14:57:48.8317520+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 8.8175ms (afa2e885)
2022-01-16T14:57:48.8318430+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:48.8321080+01:00 0HMEOV0LMU9F7:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/120 - - - 200 - text/html;+charset=utf-8 35.0350ms (791a596a)
2022-01-16T14:57:52.3448110+01:00 0HMEOV0LMU9F7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:52.3463200+01:00 0HMEOV0LMU9F7:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:52.3464370+01:00 0HMEOV0LMU9F7:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:52.3470920+01:00 0HMEOV0LMU9F7:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:52.3479980+01:00 0HMEOV0LMU9F7:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:52.3510790+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:52.3517790+01:00 0HMEOV0LMU9F7:00000005 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:52.3525570+01:00 0HMEOV0LMU9F7:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:52.3535560+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed ViewResult - view "Invoice" executed in 1.8127ms. (f66409e9)
2022-01-16T14:57:52.3536260+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 6.4673ms (afa2e885)
2022-01-16T14:57:52.3536720+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:52.3539620+01:00 0HMEOV0LMU9F7:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 9.1589ms (791a596a)
2022-01-16T14:57:59.2817510+01:00 0HMEOV0LMU9F7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:57:59.2830920+01:00 0HMEOV0LMU9F7:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:59.2863270+01:00 0HMEOV0LMU9F7:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:59.2883190+01:00 0HMEOV0LMU9F7:00000006 [INF] Index viewed (84b92a55)
2022-01-16T14:57:59.2895330+01:00 0HMEOV0LMU9F7:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:59.2965860+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:57:59.3169130+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:57:59.3217770+01:00 0HMEOV0LMU9F7:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:57:59.3417830+01:00 0HMEOV0LMU9F7:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:59.3546700+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed ViewResult - view "Index" executed in 36.4241ms. (f66409e9)
2022-01-16T14:57:59.3547590+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 68.36ms (afa2e885)
2022-01-16T14:57:59.3548180+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:59.3549920+01:00 0HMEOV0LMU9F7:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 73.2762ms (791a596a)
2022-01-16T14:58:02.0532970+01:00 0HMEOV0LMU9F7:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:02.0545090+01:00 0HMEOV0LMU9F7:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:02.0545980+01:00 0HMEOV0LMU9F7:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:02.0572470+01:00 0HMEOV0LMU9F7:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:02.0752100+01:00 0HMEOV0LMU9F7:00000007 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:58:02.0765720+01:00 0HMEOV0LMU9F7:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:02.0835550+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:02.2892620+01:00 0HMEOV0LMU9F7:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:02.3049380+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 247.5999ms (afa2e885)
2022-01-16T14:58:02.3049940+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:02.3055130+01:00 0HMEOV0LMU9F7:00000007 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"82457dd7-5163-4187-6b86-8bced71d04df" (1d7cf8c0)
2022-01-16T14:58:02.3062170+01:00 0HMEOV0LMU9F7:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 253.1345ms (791a596a)
2022-01-16T14:58:02.8008580+01:00 0HMEOV0LMU9F7:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:02.8040640+01:00 0HMEOV0LMU9F7:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:02.8042040+01:00 0HMEOV0LMU9F7:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:02.8043850+01:00 0HMEOV0LMU9F7:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:02.8062710+01:00 0HMEOV0LMU9F7:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:02.8080160+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:02.8960150+01:00 0HMEOV0LMU9F7:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:02.8962360+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 91.7497ms (afa2e885)
2022-01-16T14:58:02.8962740+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:02.8966430+01:00 0HMEOV0LMU9F7:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 95.8523ms (791a596a)
2022-01-16T14:58:03.7689470+01:00 0HMEOV0LMU9F7:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:03.7705560+01:00 0HMEOV0LMU9F7:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:03.7706620+01:00 0HMEOV0LMU9F7:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:03.7708000+01:00 0HMEOV0LMU9F7:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:03.7731190+01:00 0HMEOV0LMU9F7:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:03.7752690+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:03.7762970+01:00 0HMEOV0LMU9F7:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:03.7765050+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.6486ms (afa2e885)
2022-01-16T14:58:03.7765500+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:03.7767830+01:00 0HMEOV0LMU9F7:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.8661ms (791a596a)
2022-01-16T14:58:04.1849140+01:00 0HMEOV0LMU9F7:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:04.1862210+01:00 0HMEOV0LMU9F7:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:04.1863150+01:00 0HMEOV0LMU9F7:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:04.1864450+01:00 0HMEOV0LMU9F7:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:04.1871100+01:00 0HMEOV0LMU9F7:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:04.1893620+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:04.1901220+01:00 0HMEOV0LMU9F7:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:04.1904270+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9147ms (afa2e885)
2022-01-16T14:58:04.1905430+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:04.1908040+01:00 0HMEOV0LMU9F7:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.9213ms (791a596a)
2022-01-16T14:58:04.9124040+01:00 0HMEOV0LMU9F7:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:04.9133290+01:00 0HMEOV0LMU9F7:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:04.9134070+01:00 0HMEOV0LMU9F7:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:04.9135220+01:00 0HMEOV0LMU9F7:0000000B [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:04.9140750+01:00 0HMEOV0LMU9F7:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:04.9163150+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:04.9170710+01:00 0HMEOV0LMU9F7:0000000B [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:04.9172950+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.7157ms (afa2e885)
2022-01-16T14:58:04.9173430+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:04.9176000+01:00 0HMEOV0LMU9F7:0000000B [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.1669ms (791a596a)
2022-01-16T14:58:07.5673230+01:00 0HMEOV0LMU9F7:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:58:07.5682580+01:00 0HMEOV0LMU9F7:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:07.5683540+01:00 0HMEOV0LMU9F7:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:07.5741800+01:00 0HMEOV0LMU9F7:0000000C [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:07.5847810+01:00 0HMEOV0LMU9F7:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:07.6096250+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:07.8127560+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:58:07.8472830+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:58:07.8909460+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:58:13.8259020+01:00 0HMEOV0LMU9F7:0000000C [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:58:13.8303620+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6256.1584ms (afa2e885)
2022-01-16T14:58:13.8322500+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:13.8415510+01:00 0HMEOV0LMU9F7:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6274.3312ms (791a596a)
2022-01-16T14:58:13.8451370+01:00 0HMEOV0LMU9F7:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:58:13.8470820+01:00 0HMEOV0LMU9F7:0000000D [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:13.8471640+01:00 0HMEOV0LMU9F7:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:13.8529050+01:00 0HMEOV0LMU9F7:0000000D [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:13.8574960+01:00 0HMEOV0LMU9F7:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:13.8614750+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:13.8928060+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:58:13.9006730+01:00 0HMEOV0LMU9F7:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:58:13.9150790+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed ViewResult - view "Index" executed in 15.5541ms. (f66409e9)
2022-01-16T14:58:13.9151980+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 62.209ms (afa2e885)
2022-01-16T14:58:13.9152400+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:13.9155110+01:00 0HMEOV0LMU9F7:0000000D [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 70.6499ms (791a596a)
2022-01-16T14:58:23.2266180+01:00 0HMEOV0LMU9F7:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/122 - - (ca22a1cb)
2022-01-16T14:58:23.2279430+01:00 0HMEOV0LMU9F7:0000000E [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:23.2280720+01:00 0HMEOV0LMU9F7:0000000E [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:23.2283300+01:00 0HMEOV0LMU9F7:0000000E [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:23.2300400+01:00 0HMEOV0LMU9F7:0000000E [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:23.2344060+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:58:23.2351670+01:00 0HMEOV0LMU9F7:0000000E [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:58:23.2371850+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed ViewResult - view "Invoice" executed in 2.0443ms. (f66409e9)
2022-01-16T14:58:23.2373980+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 8.929ms (afa2e885)
2022-01-16T14:58:23.2374880+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:23.2379760+01:00 0HMEOV0LMU9F7:0000000E [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/122 - - - 200 - text/html;+charset=utf-8 11.1483ms (791a596a)
2022-01-16T14:58:43.2569530+01:00 0HMEOV0LMU9F7:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:58:43.2577930+01:00 0HMEOV0LMU9F7:0000000F [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:43.2579950+01:00 0HMEOV0LMU9F7:0000000F [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:43.2584760+01:00 0HMEOV0LMU9F7:0000000F [INF] Index viewed (84b92a55)
2022-01-16T14:58:43.2593160+01:00 0HMEOV0LMU9F7:0000000F [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:43.2612150+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:58:43.2643310+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:58:43.2648150+01:00 0HMEOV0LMU9F7:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:58:43.2676660+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed ViewResult - view "Index" executed in 2.8827ms. (f66409e9)
2022-01-16T14:58:43.2677810+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.6958ms (afa2e885)
2022-01-16T14:58:43.2680740+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:43.2683410+01:00 0HMEOV0LMU9F7:0000000F [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 11.3953ms (791a596a)
2022-01-16T15:00:38.9933900+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:00:39.7019910+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:00:39.9518240+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:00:39.9611410+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:00:40.1843510+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:00:40.2853730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:00:40.3064270+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:00:40.3069030+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:00:40.3096890+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:00:40.3100880+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:00:40.3325180+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:00:40.3533220+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:00:40.4511010+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:00:40.6649120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:00:40.6650050+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:00:40.6651820+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:00:40.6652350+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:00:40.6652600+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:01:06.5251780+01:00 0HMEOV2HVOFHN:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:01:06.6144290+01:00 0HMEOV2HVOFHN:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:06.6159440+01:00 0HMEOV2HVOFHN:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:06.6478760+01:00 0HMEOV2HVOFHN:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:06.6775400+01:00 0HMEOV2HVOFHN:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:01:06.6814620+01:00 0HMEOV2HVOFHN:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:06.7013490+01:00 0HMEOV2HVOFHN:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:06.9034690+01:00 0HMEOV2HVOFHN:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:01:06.9367250+01:00 0HMEOV2HVOFHN:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 279.7904ms (afa2e885)
2022-01-16T15:01:06.9375920+01:00 0HMEOV2HVOFHN:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:06.9388680+01:00 0HMEOV2HVOFHN:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"eaba3c6d-97d1-1914-ffaf-e228459ffeec" (1d7cf8c0)
2022-01-16T15:01:06.9445110+01:00 0HMEOV2HVOFHN:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 422.0718ms (791a596a)
2022-01-16T15:01:07.1215580+01:00 0HMEOV2HVOFHN:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:01:07.1333870+01:00 0HMEOV2HVOFHN:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:07.1335560+01:00 0HMEOV2HVOFHN:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:07.1338850+01:00 0HMEOV2HVOFHN:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:07.1871140+01:00 0HMEOV2HVOFHN:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:07.1902270+01:00 0HMEOV2HVOFHN:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:07.2480900+01:00 0HMEOV2HVOFHN:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:01:07.2484130+01:00 0HMEOV2HVOFHN:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 114.4484ms (afa2e885)
2022-01-16T15:01:07.2484540+01:00 0HMEOV2HVOFHN:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:07.2488620+01:00 0HMEOV2HVOFHN:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 127.3823ms (791a596a)
2022-01-16T15:01:08.6955960+01:00 0HMEOV2HVOFHN:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:01:08.7164430+01:00 0HMEOV2HVOFHN:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:08.7167520+01:00 0HMEOV2HVOFHN:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:08.7169550+01:00 0HMEOV2HVOFHN:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:08.7186890+01:00 0HMEOV2HVOFHN:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:08.7211570+01:00 0HMEOV2HVOFHN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:08.7226430+01:00 0HMEOV2HVOFHN:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:01:08.7229020+01:00 0HMEOV2HVOFHN:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.8413ms (afa2e885)
2022-01-16T15:01:08.7229730+01:00 0HMEOV2HVOFHN:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:08.7235960+01:00 0HMEOV2HVOFHN:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 28.0114ms (791a596a)
2022-01-16T15:01:09.2633790+01:00 0HMEOV2HVOFHN:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:01:09.2652600+01:00 0HMEOV2HVOFHN:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:09.2653990+01:00 0HMEOV2HVOFHN:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:09.2657270+01:00 0HMEOV2HVOFHN:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:09.2671680+01:00 0HMEOV2HVOFHN:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:09.2696950+01:00 0HMEOV2HVOFHN:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:09.2714230+01:00 0HMEOV2HVOFHN:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:01:09.2716920+01:00 0HMEOV2HVOFHN:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.7094ms (afa2e885)
2022-01-16T15:01:09.2717430+01:00 0HMEOV2HVOFHN:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:09.2720470+01:00 0HMEOV2HVOFHN:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 8.7113ms (791a596a)
2022-01-16T15:01:11.1857440+01:00 0HMEOV2HVOFHN:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T15:01:11.1869180+01:00 0HMEOV2HVOFHN:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:11.1870090+01:00 0HMEOV2HVOFHN:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:11.1972970+01:00 0HMEOV2HVOFHN:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:11.2082780+01:00 0HMEOV2HVOFHN:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:11.2500150+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:11.5266280+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:01:11.5816530+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:01:11.7554610+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:01:16.7234820+01:00 0HMEOV2HVOFHN:00000006 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T15:01:16.7266600+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5529.3676ms (afa2e885)
2022-01-16T15:01:16.7289830+01:00 0HMEOV2HVOFHN:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:16.7368690+01:00 0HMEOV2HVOFHN:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5551.2466ms (791a596a)
2022-01-16T15:01:16.7395360+01:00 0HMEOV2HVOFHN:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T15:01:16.7404420+01:00 0HMEOV2HVOFHN:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:16.7404940+01:00 0HMEOV2HVOFHN:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:16.7440250+01:00 0HMEOV2HVOFHN:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:16.7463290+01:00 0HMEOV2HVOFHN:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:16.7485180+01:00 0HMEOV2HVOFHN:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:01:16.7710960+01:00 0HMEOV2HVOFHN:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T15:01:16.8008420+01:00 0HMEOV2HVOFHN:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:01:17.0102920+01:00 0HMEOV2HVOFHN:00000007 [INF] Executed ViewResult - view "Index" executed in 217.0265ms. (f66409e9)
2022-01-16T15:01:17.0104130+01:00 0HMEOV2HVOFHN:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 266.3217ms (afa2e885)
2022-01-16T15:01:17.0104600+01:00 0HMEOV2HVOFHN:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:17.0145590+01:00 0HMEOV2HVOFHN:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 275.0149ms (791a596a)
2022-01-16T15:01:22.4871820+01:00 0HMEOV2HVOFHN:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/123 - - (ca22a1cb)
2022-01-16T15:01:22.4891990+01:00 0HMEOV2HVOFHN:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:01:22.4894170+01:00 0HMEOV2HVOFHN:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:01:22.4968640+01:00 0HMEOV2HVOFHN:00000008 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:01:22.5020810+01:00 0HMEOV2HVOFHN:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:01:22.5286010+01:00 0HMEOV2HVOFHN:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:01:22.5316390+01:00 0HMEOV2HVOFHN:00000008 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T15:01:22.5459510+01:00 0HMEOV2HVOFHN:00000008 [INF] Executed ViewResult - view "Invoice" executed in 15.7143ms. (f66409e9)
2022-01-16T15:01:22.5460900+01:00 0HMEOV2HVOFHN:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 49.1349ms (afa2e885)
2022-01-16T15:01:22.5461280+01:00 0HMEOV2HVOFHN:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:01:22.5464530+01:00 0HMEOV2HVOFHN:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/123 - - - 200 - text/html;+charset=utf-8 59.6540ms (791a596a)
2022-01-16T15:05:02.2709830+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:02.7038740+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:05:02.9370540+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:05:02.9448840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:05:03.1216350+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:03.1990480+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:05:03.2240290+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:03.2337080+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:05:03.2384910+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:03.2387530+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:05:03.2604970+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:05:03.2810370+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:03.3602280+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:03.5506190+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:05:03.5506800+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:05:03.5508120+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:05:03.5508520+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:05:03.5508710+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:05:28.5608270+01:00 0HMEOV4PFIMC5:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T15:05:28.6314710+01:00 0HMEOV4PFIMC5:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:28.6491310+01:00 0HMEOV4PFIMC5:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:28.6511380+01:00 0HMEOV4PFIMC5:00000002 [INF] Index viewed (84b92a55)
2022-01-16T15:05:28.6529250+01:00 0HMEOV4PFIMC5:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:28.6640270+01:00 0HMEOV4PFIMC5:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:05:28.6800070+01:00 0HMEOV4PFIMC5:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:05:28.7223370+01:00 0HMEOV4PFIMC5:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:05:28.7919630+01:00 0HMEOV4PFIMC5:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:05:28.9910220+01:00 0HMEOV4PFIMC5:00000002 [INF] Executed ViewResult - view "Index" executed in 265.8458ms. (f66409e9)
2022-01-16T15:05:28.9917310+01:00 0HMEOV4PFIMC5:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 341.93ms (afa2e885)
2022-01-16T15:05:28.9927210+01:00 0HMEOV4PFIMC5:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:28.9997360+01:00 0HMEOV4PFIMC5:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 443.2366ms (791a596a)
2022-01-16T15:05:32.0973660+01:00 0HMEOV4PFIMC5:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:32.1175450+01:00 0HMEOV4PFIMC5:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:32.1187430+01:00 0HMEOV4PFIMC5:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:32.1379570+01:00 0HMEOV4PFIMC5:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:32.1684450+01:00 0HMEOV4PFIMC5:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:05:32.2009410+01:00 0HMEOV4PFIMC5:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:32.2103920+01:00 0HMEOV4PFIMC5:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:32.3680410+01:00 0HMEOV4PFIMC5:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:32.3840680+01:00 0HMEOV4PFIMC5:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 245.9711ms (afa2e885)
2022-01-16T15:05:32.3841620+01:00 0HMEOV4PFIMC5:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:32.3849800+01:00 0HMEOV4PFIMC5:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"0819b9be-1cd2-053d-ed9c-69d3ba7e8ace" (1d7cf8c0)
2022-01-16T15:05:32.3859160+01:00 0HMEOV4PFIMC5:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 288.7112ms (791a596a)
2022-01-16T15:05:33.3060970+01:00 0HMEOV4PFIMC5:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:33.3318000+01:00 0HMEOV4PFIMC5:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:33.3319700+01:00 0HMEOV4PFIMC5:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:33.3321550+01:00 0HMEOV4PFIMC5:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:33.3340540+01:00 0HMEOV4PFIMC5:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:33.3368930+01:00 0HMEOV4PFIMC5:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:33.4113140+01:00 0HMEOV4PFIMC5:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:33.4116720+01:00 0HMEOV4PFIMC5:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 79.4495ms (afa2e885)
2022-01-16T15:05:33.4117630+01:00 0HMEOV4PFIMC5:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:33.4122290+01:00 0HMEOV4PFIMC5:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 106.2168ms (791a596a)
2022-01-16T15:05:33.4649620+01:00 0HMEOV4PFIMC5:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:33.4674010+01:00 0HMEOV4PFIMC5:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:33.4679410+01:00 0HMEOV4PFIMC5:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:33.4681400+01:00 0HMEOV4PFIMC5:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:33.4701390+01:00 0HMEOV4PFIMC5:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:33.4721610+01:00 0HMEOV4PFIMC5:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:33.4734320+01:00 0HMEOV4PFIMC5:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:33.4736890+01:00 0HMEOV4PFIMC5:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.4706ms (afa2e885)
2022-01-16T15:05:33.4737560+01:00 0HMEOV4PFIMC5:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:33.4741490+01:00 0HMEOV4PFIMC5:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 9.2194ms (791a596a)
2022-01-16T15:05:34.2305130+01:00 0HMEOV4PFIMC5:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:34.2321840+01:00 0HMEOV4PFIMC5:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:34.2323270+01:00 0HMEOV4PFIMC5:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:34.2327080+01:00 0HMEOV4PFIMC5:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:34.2336090+01:00 0HMEOV4PFIMC5:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:34.2364440+01:00 0HMEOV4PFIMC5:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:34.2373580+01:00 0HMEOV4PFIMC5:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:34.2375840+01:00 0HMEOV4PFIMC5:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.7937ms (afa2e885)
2022-01-16T15:05:34.2376410+01:00 0HMEOV4PFIMC5:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:34.2378780+01:00 0HMEOV4PFIMC5:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.4070ms (791a596a)
2022-01-16T15:05:34.8790820+01:00 0HMEOV4PFIMC5:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:34.8801440+01:00 0HMEOV4PFIMC5:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:34.8802230+01:00 0HMEOV4PFIMC5:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:34.8804440+01:00 0HMEOV4PFIMC5:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:34.8813990+01:00 0HMEOV4PFIMC5:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:34.8843270+01:00 0HMEOV4PFIMC5:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:34.8850070+01:00 0HMEOV4PFIMC5:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:34.8852150+01:00 0HMEOV4PFIMC5:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.6929ms (afa2e885)
2022-01-16T15:05:34.8852880+01:00 0HMEOV4PFIMC5:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:34.8856820+01:00 0HMEOV4PFIMC5:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6891ms (791a596a)
2022-01-16T15:05:35.6132340+01:00 0HMEOV4PFIMC5:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:35.6143790+01:00 0HMEOV4PFIMC5:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:35.6144640+01:00 0HMEOV4PFIMC5:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:35.6145790+01:00 0HMEOV4PFIMC5:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:35.6150910+01:00 0HMEOV4PFIMC5:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:35.6168110+01:00 0HMEOV4PFIMC5:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:35.6174380+01:00 0HMEOV4PFIMC5:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:35.6176160+01:00 0HMEOV4PFIMC5:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 2.9997ms (afa2e885)
2022-01-16T15:05:35.6176620+01:00 0HMEOV4PFIMC5:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:35.6178830+01:00 0HMEOV4PFIMC5:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 4.6332ms (791a596a)
2022-01-16T15:05:36.9390220+01:00 0HMEOV4PFIMC5:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:36.9405610+01:00 0HMEOV4PFIMC5:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:36.9406670+01:00 0HMEOV4PFIMC5:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:36.9408120+01:00 0HMEOV4PFIMC5:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:36.9415780+01:00 0HMEOV4PFIMC5:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:36.9437830+01:00 0HMEOV4PFIMC5:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:36.9445590+01:00 0HMEOV4PFIMC5:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:36.9449240+01:00 0HMEOV4PFIMC5:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0036ms (afa2e885)
2022-01-16T15:05:36.9450690+01:00 0HMEOV4PFIMC5:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:36.9456580+01:00 0HMEOV4PFIMC5:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.5001ms (791a596a)
2022-01-16T15:05:38.7977260+01:00 0HMEOV4PFIMC5:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:38.7993350+01:00 0HMEOV4PFIMC5:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:38.7994340+01:00 0HMEOV4PFIMC5:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:38.7995860+01:00 0HMEOV4PFIMC5:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:38.8004470+01:00 0HMEOV4PFIMC5:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:38.8029810+01:00 0HMEOV4PFIMC5:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:38.8039360+01:00 0HMEOV4PFIMC5:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:38.8041850+01:00 0HMEOV4PFIMC5:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.5134ms (afa2e885)
2022-01-16T15:05:38.8043470+01:00 0HMEOV4PFIMC5:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:38.8047470+01:00 0HMEOV4PFIMC5:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.0701ms (791a596a)
2022-01-16T15:05:39.6162740+01:00 0HMEOV4PFIMC5:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:39.6174370+01:00 0HMEOV4PFIMC5:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:39.6178080+01:00 0HMEOV4PFIMC5:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:39.6179650+01:00 0HMEOV4PFIMC5:0000000B [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:39.6186720+01:00 0HMEOV4PFIMC5:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:39.6207920+01:00 0HMEOV4PFIMC5:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:39.6215620+01:00 0HMEOV4PFIMC5:0000000B [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:39.6220260+01:00 0HMEOV4PFIMC5:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.7739ms (afa2e885)
2022-01-16T15:05:39.6221340+01:00 0HMEOV4PFIMC5:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:39.6226130+01:00 0HMEOV4PFIMC5:0000000B [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.3123ms (791a596a)
2022-01-16T15:05:40.2200850+01:00 0HMEOV4PFIMC5:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:40.2213670+01:00 0HMEOV4PFIMC5:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:40.2214590+01:00 0HMEOV4PFIMC5:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:40.2216670+01:00 0HMEOV4PFIMC5:0000000C [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:40.2224890+01:00 0HMEOV4PFIMC5:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:40.2252210+01:00 0HMEOV4PFIMC5:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:40.2258500+01:00 0HMEOV4PFIMC5:0000000C [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:40.2262140+01:00 0HMEOV4PFIMC5:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.4556ms (afa2e885)
2022-01-16T15:05:40.2263300+01:00 0HMEOV4PFIMC5:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:40.2267720+01:00 0HMEOV4PFIMC5:0000000C [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6277ms (791a596a)
2022-01-16T15:05:40.3882410+01:00 0HMEOV4PFIMC5:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:05:40.3895320+01:00 0HMEOV4PFIMC5:0000000D [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:40.3896370+01:00 0HMEOV4PFIMC5:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:40.3897720+01:00 0HMEOV4PFIMC5:0000000D [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:40.3904920+01:00 0HMEOV4PFIMC5:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:40.3927940+01:00 0HMEOV4PFIMC5:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:40.3936810+01:00 0HMEOV4PFIMC5:0000000D [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:05:40.3939170+01:00 0HMEOV4PFIMC5:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0716ms (afa2e885)
2022-01-16T15:05:40.3939870+01:00 0HMEOV4PFIMC5:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:40.3942290+01:00 0HMEOV4PFIMC5:0000000D [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.0276ms (791a596a)
2022-01-16T15:05:43.4532190+01:00 0HMEOV4PFIMC5:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T15:05:43.4544290+01:00 0HMEOV4PFIMC5:0000000E [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:43.4545340+01:00 0HMEOV4PFIMC5:0000000E [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:43.4618660+01:00 0HMEOV4PFIMC5:0000000E [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:43.4731990+01:00 0HMEOV4PFIMC5:0000000E [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:43.5159200+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:43.7761170+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:05:43.8241190+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Double), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Double), @p26='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p19, @p20, @p21, @p22);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p23, @p24, @p25, @p26);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:05:43.9977290+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:05:50.3675620+01:00 0HMEOV4PFIMC5:0000000E [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T15:05:50.3724310+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6910.5742ms (afa2e885)
2022-01-16T15:05:50.3752600+01:00 0HMEOV4PFIMC5:0000000E [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:50.3896400+01:00 0HMEOV4PFIMC5:0000000E [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6936.1137ms (791a596a)
2022-01-16T15:05:50.3932590+01:00 0HMEOV4PFIMC5:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T15:05:50.3943280+01:00 0HMEOV4PFIMC5:0000000F [INF] Authorization was successful. (0d575a54)
2022-01-16T15:05:50.3943990+01:00 0HMEOV4PFIMC5:0000000F [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:05:50.3994410+01:00 0HMEOV4PFIMC5:0000000F [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:05:50.4041220+01:00 0HMEOV4PFIMC5:0000000F [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:05:50.4073390+01:00 0HMEOV4PFIMC5:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:05:50.4377140+01:00 0HMEOV4PFIMC5:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T15:05:50.4520970+01:00 0HMEOV4PFIMC5:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:05:50.4780120+01:00 0HMEOV4PFIMC5:0000000F [INF] Executed ViewResult - view "Index" executed in 28.1929ms. (f66409e9)
2022-01-16T15:05:50.4781490+01:00 0HMEOV4PFIMC5:0000000F [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 78.6347ms (afa2e885)
2022-01-16T15:05:50.4781940+01:00 0HMEOV4PFIMC5:0000000F [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:05:50.4786430+01:00 0HMEOV4PFIMC5:0000000F [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 85.5521ms (791a596a)
2022-01-16T15:06:02.4941560+01:00 0HMEOV4PFIMC5:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/124 - - (ca22a1cb)
2022-01-16T15:06:02.4972720+01:00 0HMEOV4PFIMC5:00000010 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:06:02.4974420+01:00 0HMEOV4PFIMC5:00000010 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:06:02.5046120+01:00 0HMEOV4PFIMC5:00000010 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:06:02.5103040+01:00 0HMEOV4PFIMC5:00000010 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:06:02.5385840+01:00 0HMEOV4PFIMC5:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:06:02.5413470+01:00 0HMEOV4PFIMC5:00000010 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T15:06:02.5545940+01:00 0HMEOV4PFIMC5:00000010 [INF] Executed ViewResult - view "Invoice" executed in 14.9644ms. (f66409e9)
2022-01-16T15:06:02.5546810+01:00 0HMEOV4PFIMC5:00000010 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 49.983ms (afa2e885)
2022-01-16T15:06:02.5547260+01:00 0HMEOV4PFIMC5:00000010 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:06:02.5549890+01:00 0HMEOV4PFIMC5:00000010 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/124 - - - 200 - text/html;+charset=utf-8 60.9458ms (791a596a)
2022-01-16T15:10:11.5775660+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:10:12.1455800+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:10:12.4833110+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:10:12.4937320+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:10:12.7624410+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:10:12.8600770+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:10:12.8913750+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:10:12.9043270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:10:12.9101800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:10:12.9104730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:10:12.9373330+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:10:12.9582230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:10:13.0463300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:10:13.2844590+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:10:13.2845550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:10:13.2847480+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:10:13.2847950+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:10:13.2848280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:17:30.3023330+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T15:17:38.9389190+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:17:39.5860760+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:17:39.8212060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:17:39.8290830+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:17:40.0684480+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:40.1744650+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:17:40.2051050+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:40.2181280+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:17:40.2244150+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:40.2248520+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:17:40.2556390+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:17:40.2830540+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:40.3925980+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:40.6894320+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:17:40.6895130+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:17:40.6896910+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:17:40.6897200+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:17:40.6897350+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:17:56.0448420+01:00 0HMEOVBURBEKI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T15:17:56.1181330+01:00 0HMEOVBURBEKI:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:17:56.1360310+01:00 0HMEOVBURBEKI:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:17:56.1387160+01:00 0HMEOVBURBEKI:00000002 [INF] Index viewed (84b92a55)
2022-01-16T15:17:56.1405970+01:00 0HMEOVBURBEKI:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:17:56.1541120+01:00 0HMEOVBURBEKI:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:17:56.1698130+01:00 0HMEOVBURBEKI:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:17:56.2178100+01:00 0HMEOVBURBEKI:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:17:56.2982680+01:00 0HMEOVBURBEKI:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:17:56.4709110+01:00 0HMEOVBURBEKI:00000002 [INF] Executed ViewResult - view "Index" executed in 252.923ms. (f66409e9)
2022-01-16T15:17:56.4717040+01:00 0HMEOVBURBEKI:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 334.664ms (afa2e885)
2022-01-16T15:17:56.4726790+01:00 0HMEOVBURBEKI:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:17:56.4801850+01:00 0HMEOVBURBEKI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 437.4829ms (791a596a)
2022-01-16T15:17:59.0819540+01:00 0HMEOVBURBEKI:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:17:59.1024320+01:00 0HMEOVBURBEKI:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:17:59.1036870+01:00 0HMEOVBURBEKI:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:17:59.1255260+01:00 0HMEOVBURBEKI:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:17:59.1549400+01:00 0HMEOVBURBEKI:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:17:59.1911320+01:00 0HMEOVBURBEKI:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:17:59.2028520+01:00 0HMEOVBURBEKI:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:59.3833170+01:00 0HMEOVBURBEKI:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:17:59.4008140+01:00 0HMEOVBURBEKI:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 275.1513ms (afa2e885)
2022-01-16T15:17:59.4009030+01:00 0HMEOVBURBEKI:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:17:59.4017150+01:00 0HMEOVBURBEKI:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"f604810c-f8fc-77c6-8b09-82c2ff57faa1" (1d7cf8c0)
2022-01-16T15:17:59.4031790+01:00 0HMEOVBURBEKI:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 321.3015ms (791a596a)
2022-01-16T15:17:59.7518370+01:00 0HMEOVBURBEKI:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:17:59.7683060+01:00 0HMEOVBURBEKI:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:17:59.7684060+01:00 0HMEOVBURBEKI:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:17:59.7685360+01:00 0HMEOVBURBEKI:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:17:59.7700390+01:00 0HMEOVBURBEKI:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:17:59.7723560+01:00 0HMEOVBURBEKI:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:17:59.8318220+01:00 0HMEOVBURBEKI:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:17:59.8320580+01:00 0HMEOVBURBEKI:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 63.4621ms (afa2e885)
2022-01-16T15:17:59.8320920+01:00 0HMEOVBURBEKI:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:17:59.8323940+01:00 0HMEOVBURBEKI:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 80.6085ms (791a596a)
2022-01-16T15:18:01.6627800+01:00 0HMEOVBURBEKI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T15:18:01.6647870+01:00 0HMEOVBURBEKI:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:18:01.6651810+01:00 0HMEOVBURBEKI:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:18:01.6738320+01:00 0HMEOVBURBEKI:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:18:01.6855760+01:00 0HMEOVBURBEKI:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:18:01.7235650+01:00 0HMEOVBURBEKI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:18:02.0105090+01:00 0HMEOVBURBEKI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:18:02.0605290+01:00 0HMEOVBURBEKI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:18:02.0644020+01:00 0HMEOVBURBEKI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:18:02.2604250+01:00 0HMEOVBURBEKI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:18:09.9527380+01:00 0HMEOVBURBEKI:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8278.4399ms (afa2e885)
2022-01-16T15:18:09.9544130+01:00 0HMEOVBURBEKI:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:18:10.0059740+01:00 0HMEOVBURBEKI:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Adding/removing of document parts is not allowed in evaluation mode.
   at   .()
   at GroupDocs.Watermark.Common.RemoveOnlyListBase`1.RemoveAt(Int32 index)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(MemoryStream file, Int32 id, User currentUser) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 149
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 113
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T15:18:10.0898760+01:00 0HMEOVBURBEKI:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 8426.7374ms (791a596a)
2022-01-16T15:21:04.4819540+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:21:04.8389930+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:21:05.0563980+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:21:05.0642360+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:21:05.2407320+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:21:05.3204080+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:21:05.3468460+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:21:05.3575370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:21:05.3661190+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:21:05.3664260+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:21:05.3908730+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:21:05.4098080+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:21:05.4774530+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:21:05.6841560+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:21:05.6842460+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:21:05.6844510+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:21:05.6845190+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:21:05.6845990+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:21:53.8777060+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T15:22:02.7699370+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:03.6448930+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T15:22:04.1885640+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:22:04.2061080+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:22:04.5213790+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:04.6431420+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:22:04.6776650+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:04.6887110+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:22:04.6959310+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:04.6963730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T15:22:04.7293250+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T15:22:04.7524150+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:04.8617820+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:05.0866680+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T15:22:05.0867370+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T15:22:05.0869470+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T15:22:05.0869960+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T15:22:05.0870250+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T15:22:08.2798140+01:00 0HMEOVEA0QORO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T15:22:08.3540730+01:00 0HMEOVEA0QORO:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:22:08.3721570+01:00 0HMEOVEA0QORO:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:22:08.3743070+01:00 0HMEOVEA0QORO:00000002 [INF] Index viewed (84b92a55)
2022-01-16T15:22:08.3762100+01:00 0HMEOVEA0QORO:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:08.3882540+01:00 0HMEOVEA0QORO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T15:22:08.4081670+01:00 0HMEOVEA0QORO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T15:22:08.4555280+01:00 0HMEOVEA0QORO:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:22:08.5389270+01:00 0HMEOVEA0QORO:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:22:08.7291660+01:00 0HMEOVEA0QORO:00000002 [INF] Executed ViewResult - view "Index" executed in 270.6001ms. (f66409e9)
2022-01-16T15:22:08.7297350+01:00 0HMEOVEA0QORO:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 357.0001ms (afa2e885)
2022-01-16T15:22:08.7306090+01:00 0HMEOVEA0QORO:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:22:08.7391840+01:00 0HMEOVEA0QORO:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 461.8336ms (791a596a)
2022-01-16T15:22:10.9168070+01:00 0HMEOVEA0QORO:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:22:10.9362310+01:00 0HMEOVEA0QORO:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:22:10.9380410+01:00 0HMEOVEA0QORO:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:22:10.9584350+01:00 0HMEOVEA0QORO:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:22:10.9907460+01:00 0HMEOVEA0QORO:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T15:22:11.0285070+01:00 0HMEOVEA0QORO:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:11.0405070+01:00 0HMEOVEA0QORO:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:11.2436120+01:00 0HMEOVEA0QORO:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:22:11.2650940+01:00 0HMEOVEA0QORO:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 306.5078ms (afa2e885)
2022-01-16T15:22:11.2652000+01:00 0HMEOVEA0QORO:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:22:11.2658780+01:00 0HMEOVEA0QORO:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"db1b6513-4170-4483-2b9a-3ef2390c4365" (1d7cf8c0)
2022-01-16T15:22:11.2668080+01:00 0HMEOVEA0QORO:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 350.0931ms (791a596a)
2022-01-16T15:22:11.7562860+01:00 0HMEOVEA0QORO:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T15:22:11.7814650+01:00 0HMEOVEA0QORO:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:22:11.7816570+01:00 0HMEOVEA0QORO:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:22:11.7818890+01:00 0HMEOVEA0QORO:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:22:11.7841100+01:00 0HMEOVEA0QORO:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:11.7868440+01:00 0HMEOVEA0QORO:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:11.8568880+01:00 0HMEOVEA0QORO:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T15:22:11.8571380+01:00 0HMEOVEA0QORO:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 75.1736ms (afa2e885)
2022-01-16T15:22:11.8571770+01:00 0HMEOVEA0QORO:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:22:11.8574880+01:00 0HMEOVEA0QORO:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 101.3468ms (791a596a)
2022-01-16T15:22:13.6433620+01:00 0HMEOVEA0QORO:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T15:22:13.6455870+01:00 0HMEOVEA0QORO:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:22:13.6459980+01:00 0HMEOVEA0QORO:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:22:13.6543130+01:00 0HMEOVEA0QORO:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:22:13.6669050+01:00 0HMEOVEA0QORO:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:13.7054240+01:00 0HMEOVEA0QORO:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:13.9989890+01:00 0HMEOVEA0QORO:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:22:14.0637140+01:00 0HMEOVEA0QORO:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:22:14.0680320+01:00 0HMEOVEA0QORO:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T15:22:14.3023770+01:00 0HMEOVEA0QORO:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T15:22:25.2802640+01:00 0HMEOVEA0QORO:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T15:22:25.2873280+01:00 0HMEOVEA0QORO:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11633.1354ms (afa2e885)
2022-01-16T15:22:25.2899360+01:00 0HMEOVEA0QORO:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:22:25.3024760+01:00 0HMEOVEA0QORO:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 11659.3573ms (791a596a)
2022-01-16T15:22:25.3059010+01:00 0HMEOVEA0QORO:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T15:22:25.3067720+01:00 0HMEOVEA0QORO:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T15:22:25.3068390+01:00 0HMEOVEA0QORO:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T15:22:25.3124630+01:00 0HMEOVEA0QORO:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T15:22:25.3164170+01:00 0HMEOVEA0QORO:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T15:22:25.3204780+01:00 0HMEOVEA0QORO:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T15:22:25.3540260+01:00 0HMEOVEA0QORO:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T15:22:25.3660080+01:00 0HMEOVEA0QORO:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T15:22:25.3928710+01:00 0HMEOVEA0QORO:00000006 [INF] Executed ViewResult - view "Index" executed in 29.8719ms. (f66409e9)
2022-01-16T15:22:25.3929740+01:00 0HMEOVEA0QORO:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 80.4399ms (afa2e885)
2022-01-16T15:22:25.3930720+01:00 0HMEOVEA0QORO:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T15:22:25.3933080+01:00 0HMEOVEA0QORO:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 87.4408ms (791a596a)
2022-01-16T16:35:48.6251310+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:35:48.9835220+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:35:49.1754570+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:35:49.1826290+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:35:49.3434380+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:35:49.4195090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:35:49.4351030+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:35:49.4356090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:35:49.4381280+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:35:49.4383210+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:35:49.4557180+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:35:49.4714940+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:35:49.5338860+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:35:49.7123140+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:35:49.7124240+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:35:49.7126000+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:35:49.7126440+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:35:49.7126610+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:36:00.0700350+01:00 0HMEP0NIPM4NE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:36:00.1332270+01:00 0HMEP0NIPM4NE:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:00.1501440+01:00 0HMEP0NIPM4NE:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:00.1532050+01:00 0HMEP0NIPM4NE:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:36:00.1553610+01:00 0HMEP0NIPM4NE:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:00.1666850+01:00 0HMEP0NIPM4NE:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:36:00.1830360+01:00 0HMEP0NIPM4NE:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:36:00.2257700+01:00 0HMEP0NIPM4NE:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:36:00.2967870+01:00 0HMEP0NIPM4NE:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:00.4565660+01:00 0HMEP0NIPM4NE:00000002 [INF] Executed ViewResult - view "Index" executed in 227.8804ms. (f66409e9)
2022-01-16T16:36:00.4574240+01:00 0HMEP0NIPM4NE:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 306.5579ms (afa2e885)
2022-01-16T16:36:00.4587720+01:00 0HMEP0NIPM4NE:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:00.4659360+01:00 0HMEP0NIPM4NE:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 398.4151ms (791a596a)
2022-01-16T16:36:03.4991780+01:00 0HMEP0NIPM4NE:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:36:03.5110170+01:00 0HMEP0NIPM4NE:00000003 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T16:36:03.5221610+01:00 0HMEP0NIPM4NE:00000003 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T16:36:03.5226900+01:00 0HMEP0NIPM4NE:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 401 0 - 23.5149ms (791a596a)
2022-01-16T16:36:05.0112110+01:00 0HMEP0NIPM4NE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/Privacy - - (ca22a1cb)
2022-01-16T16:36:05.0158500+01:00 0HMEP0NIPM4NE:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:05.0189700+01:00 0HMEP0NIPM4NE:00000004 [INF] Route matched with "{action = \"Privacy\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Privacy()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:05.0248680+01:00 0HMEP0NIPM4NE:00000004 [INF] Executing ViewResult, running view "Privacy". (c83d0e25)
2022-01-16T16:36:05.0353550+01:00 0HMEP0NIPM4NE:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:05.0365510+01:00 0HMEP0NIPM4NE:00000004 [INF] Executed ViewResult - view "Privacy" executed in 13.5213ms. (f66409e9)
2022-01-16T16:36:05.0368420+01:00 0HMEP0NIPM4NE:00000004 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)" in 17.767ms (afa2e885)
2022-01-16T16:36:05.0368900+01:00 0HMEP0NIPM4NE:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:05.0371520+01:00 0HMEP0NIPM4NE:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Home/Privacy - - - 200 - text/html;+charset=utf-8 25.9414ms (791a596a)
2022-01-16T16:36:06.2996420+01:00 0HMEP0NIPM4NE:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - (ca22a1cb)
2022-01-16T16:36:06.3004420+01:00 0HMEP0NIPM4NE:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:06.3035830+01:00 0HMEP0NIPM4NE:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:06.3107390+01:00 0HMEP0NIPM4NE:00000005 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T16:36:06.3811230+01:00 0HMEP0NIPM4NE:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:06.3859880+01:00 0HMEP0NIPM4NE:00000005 [INF] Executed ViewResult - view "Login" executed in 77.097ms. (f66409e9)
2022-01-16T16:36:06.3861750+01:00 0HMEP0NIPM4NE:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 82.4926ms (afa2e885)
2022-01-16T16:36:06.3863930+01:00 0HMEP0NIPM4NE:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:06.3869100+01:00 0HMEP0NIPM4NE:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - - 200 - text/html;+charset=utf-8 87.1982ms (791a596a)
2022-01-16T16:36:12.6741600+01:00 0HMEP0NIPM4NE:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T16:36:12.6767330+01:00 0HMEP0NIPM4NE:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:12.7036640+01:00 0HMEP0NIPM4NE:00000006 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:12.7859110+01:00 0HMEP0NIPM4NE:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:12.7894700+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:12.9090570+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T16:36:12.9488750+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T16:36:12.9528050+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:12.9641350+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T16:36:12.9804790+01:00 0HMEP0NIPM4NE:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T16:36:12.9923750+01:00 0HMEP0NIPM4NE:00000006 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T16:36:12.9958470+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 292.0072ms (afa2e885)
2022-01-16T16:36:12.9974320+01:00 0HMEP0NIPM4NE:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:13.0031910+01:00 0HMEP0NIPM4NE:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 329.0355ms (791a596a)
2022-01-16T16:36:13.0061190+01:00 0HMEP0NIPM4NE:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:36:13.0098520+01:00 0HMEP0NIPM4NE:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:13.0099780+01:00 0HMEP0NIPM4NE:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:13.0100580+01:00 0HMEP0NIPM4NE:00000007 [INF] Index viewed (84b92a55)
2022-01-16T16:36:13.0102910+01:00 0HMEP0NIPM4NE:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:13.0112980+01:00 0HMEP0NIPM4NE:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:36:13.0121320+01:00 0HMEP0NIPM4NE:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:36:13.0125310+01:00 0HMEP0NIPM4NE:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:36:13.0129720+01:00 0HMEP0NIPM4NE:00000007 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:13.0193050+01:00 0HMEP0NIPM4NE:00000007 [INF] Executed ViewResult - view "Index" executed in 6.7784ms. (f66409e9)
2022-01-16T16:36:13.0193660+01:00 0HMEP0NIPM4NE:00000007 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.3617ms (afa2e885)
2022-01-16T16:36:13.0194100+01:00 0HMEP0NIPM4NE:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:13.0195330+01:00 0HMEP0NIPM4NE:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 13.4313ms (791a596a)
2022-01-16T16:36:15.3981590+01:00 0HMEP0NIPM4NE:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:36:15.4108100+01:00 0HMEP0NIPM4NE:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:36:15.4110130+01:00 0HMEP0NIPM4NE:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:15.4157150+01:00 0HMEP0NIPM4NE:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:15.4231880+01:00 0HMEP0NIPM4NE:00000008 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:15.4270090+01:00 0HMEP0NIPM4NE:00000008 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T16:36:15.4272500+01:00 0HMEP0NIPM4NE:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11.4565ms (afa2e885)
2022-01-16T16:36:15.4273030+01:00 0HMEP0NIPM4NE:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:15.4274990+01:00 0HMEP0NIPM4NE:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 29.3914ms (791a596a)
2022-01-16T16:36:15.4309640+01:00 0HMEP0NIPM4NE:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:36:15.4441530+01:00 0HMEP0NIPM4NE:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:15.4443230+01:00 0HMEP0NIPM4NE:00000009 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:15.4444380+01:00 0HMEP0NIPM4NE:00000009 [INF] Index viewed (84b92a55)
2022-01-16T16:36:15.4448270+01:00 0HMEP0NIPM4NE:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:15.4465550+01:00 0HMEP0NIPM4NE:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:36:15.4479460+01:00 0HMEP0NIPM4NE:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:36:15.4482910+01:00 0HMEP0NIPM4NE:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:36:15.4495460+01:00 0HMEP0NIPM4NE:00000009 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:15.4507190+01:00 0HMEP0NIPM4NE:00000009 [INF] Executed ViewResult - view "Index" executed in 2.4409ms. (f66409e9)
2022-01-16T16:36:15.4508200+01:00 0HMEP0NIPM4NE:00000009 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 6.4337ms (afa2e885)
2022-01-16T16:36:15.4508910+01:00 0HMEP0NIPM4NE:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:15.4511660+01:00 0HMEP0NIPM4NE:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 20.1261ms (791a596a)
2022-01-16T16:36:20.1485030+01:00 0HMEP0NIPM4NE:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:36:20.1507860+01:00 0HMEP0NIPM4NE:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T16:36:20.1511860+01:00 0HMEP0NIPM4NE:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:20.1534280+01:00 0HMEP0NIPM4NE:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:20.1570650+01:00 0HMEP0NIPM4NE:0000000A [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:36:20.1582080+01:00 0HMEP0NIPM4NE:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:20.1657610+01:00 0HMEP0NIPM4NE:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:20.3283630+01:00 0HMEP0NIPM4NE:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:36:20.3407840+01:00 0HMEP0NIPM4NE:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 187.2639ms (afa2e885)
2022-01-16T16:36:20.3408410+01:00 0HMEP0NIPM4NE:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:20.3413070+01:00 0HMEP0NIPM4NE:0000000A [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1707d6a1-b014-626d-ac3b-07daddce21a0" (1d7cf8c0)
2022-01-16T16:36:20.3420200+01:00 0HMEP0NIPM4NE:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 193.5950ms (791a596a)
2022-01-16T16:36:21.1593740+01:00 0HMEP0NIPM4NE:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:36:21.1603860+01:00 0HMEP0NIPM4NE:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T16:36:21.1604830+01:00 0HMEP0NIPM4NE:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:21.1606070+01:00 0HMEP0NIPM4NE:0000000B [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:21.1619220+01:00 0HMEP0NIPM4NE:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:21.1636210+01:00 0HMEP0NIPM4NE:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:21.2438520+01:00 0HMEP0NIPM4NE:0000000B [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:36:21.2440950+01:00 0HMEP0NIPM4NE:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 83.4382ms (afa2e885)
2022-01-16T16:36:21.2441550+01:00 0HMEP0NIPM4NE:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:21.2445130+01:00 0HMEP0NIPM4NE:0000000B [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 85.1686ms (791a596a)
2022-01-16T16:36:22.9351390+01:00 0HMEP0NIPM4NE:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:36:22.9363990+01:00 0HMEP0NIPM4NE:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T16:36:22.9368090+01:00 0HMEP0NIPM4NE:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:22.9369400+01:00 0HMEP0NIPM4NE:0000000C [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:22.9445770+01:00 0HMEP0NIPM4NE:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:22.9717690+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:23.2248390+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:36:23.2685490+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:36:23.2711190+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:36:23.3826290+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:36:31.2999820+01:00 0HMEP0NIPM4NE:0000000C [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:36:31.3004690+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8363.543ms (afa2e885)
2022-01-16T16:36:31.3005710+01:00 0HMEP0NIPM4NE:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:31.3054240+01:00 0HMEP0NIPM4NE:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8370.4240ms (791a596a)
2022-01-16T16:36:31.3096090+01:00 0HMEP0NIPM4NE:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:36:31.3125060+01:00 0HMEP0NIPM4NE:0000000D [INF] Authorization was successful. (0d575a54)
2022-01-16T16:36:31.3126350+01:00 0HMEP0NIPM4NE:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:36:31.3194960+01:00 0HMEP0NIPM4NE:0000000D [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:36:31.3246730+01:00 0HMEP0NIPM4NE:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:36:31.3285320+01:00 0HMEP0NIPM4NE:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:36:31.3592160+01:00 0HMEP0NIPM4NE:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:36:31.3727110+01:00 0HMEP0NIPM4NE:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:36:31.3928540+01:00 0HMEP0NIPM4NE:0000000D [INF] Executed ViewResult - view "Index" executed in 21.8292ms. (f66409e9)
2022-01-16T16:36:31.3930000+01:00 0HMEP0NIPM4NE:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 73.3936ms (afa2e885)
2022-01-16T16:36:31.3930710+01:00 0HMEP0NIPM4NE:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:36:31.3933220+01:00 0HMEP0NIPM4NE:0000000D [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.7806ms (791a596a)
2022-01-16T16:38:15.8907630+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:16.2421560+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:38:16.4464340+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:38:16.4553250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:38:16.6326800+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:16.7063780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:38:16.7265690+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:16.7321490+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:38:16.7366290+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:16.7368780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:38:16.7560850+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:38:16.7729540+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:16.8377830+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:17.0362700+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:38:17.0364190+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:38:17.0367320+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:38:17.0368400+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:38:17.0368960+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:38:33.3406860+01:00 0HMEP0P0FD71Q:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:38:33.4098010+01:00 0HMEP0P0FD71Q:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:38:33.4275700+01:00 0HMEP0P0FD71Q:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:38:33.4301630+01:00 0HMEP0P0FD71Q:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:38:33.4322270+01:00 0HMEP0P0FD71Q:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:33.4448690+01:00 0HMEP0P0FD71Q:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:38:33.4615290+01:00 0HMEP0P0FD71Q:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:38:33.5064470+01:00 0HMEP0P0FD71Q:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:38:33.5854090+01:00 0HMEP0P0FD71Q:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:38:33.7548920+01:00 0HMEP0P0FD71Q:00000002 [INF] Executed ViewResult - view "Index" executed in 248.3555ms. (f66409e9)
2022-01-16T16:38:33.7556090+01:00 0HMEP0P0FD71Q:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 327.426ms (afa2e885)
2022-01-16T16:38:33.7564860+01:00 0HMEP0P0FD71Q:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:38:33.7632420+01:00 0HMEP0P0FD71Q:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 425.3292ms (791a596a)
2022-01-16T16:38:35.9831260+01:00 0HMEP0P0FD71Q:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:38:36.0041540+01:00 0HMEP0P0FD71Q:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:38:36.0052310+01:00 0HMEP0P0FD71Q:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:38:36.0250570+01:00 0HMEP0P0FD71Q:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:38:36.0555160+01:00 0HMEP0P0FD71Q:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:38:36.0930970+01:00 0HMEP0P0FD71Q:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:36.1049780+01:00 0HMEP0P0FD71Q:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:36.2696010+01:00 0HMEP0P0FD71Q:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:38:36.2845740+01:00 0HMEP0P0FD71Q:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 259.383ms (afa2e885)
2022-01-16T16:38:36.2846470+01:00 0HMEP0P0FD71Q:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:38:36.2853160+01:00 0HMEP0P0FD71Q:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"882bf756-0e9c-8535-b8f5-b07ec4a70f28" (1d7cf8c0)
2022-01-16T16:38:36.2861930+01:00 0HMEP0P0FD71Q:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 303.1592ms (791a596a)
2022-01-16T16:38:36.5989770+01:00 0HMEP0P0FD71Q:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:38:36.6132870+01:00 0HMEP0P0FD71Q:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:38:36.6133840+01:00 0HMEP0P0FD71Q:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:38:36.6135050+01:00 0HMEP0P0FD71Q:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:38:36.6148630+01:00 0HMEP0P0FD71Q:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:36.6168390+01:00 0HMEP0P0FD71Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:36.6746190+01:00 0HMEP0P0FD71Q:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:38:36.6748930+01:00 0HMEP0P0FD71Q:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 61.3322ms (afa2e885)
2022-01-16T16:38:36.6749410+01:00 0HMEP0P0FD71Q:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:38:36.6753590+01:00 0HMEP0P0FD71Q:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 76.3809ms (791a596a)
2022-01-16T16:38:38.4754780+01:00 0HMEP0P0FD71Q:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:38:38.4779370+01:00 0HMEP0P0FD71Q:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:38:38.4783260+01:00 0HMEP0P0FD71Q:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:38:38.4844240+01:00 0HMEP0P0FD71Q:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:38:38.4980510+01:00 0HMEP0P0FD71Q:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:38.5360070+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:38.8011870+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:38:38.8478630+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:38:38.8502590+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:38:39.0011790+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:38:46.2296940+01:00 0HMEP0P0FD71Q:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:38:46.2335050+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7749.1747ms (afa2e885)
2022-01-16T16:38:46.2358160+01:00 0HMEP0P0FD71Q:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:38:46.2461450+01:00 0HMEP0P0FD71Q:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7770.8716ms (791a596a)
2022-01-16T16:38:46.2494250+01:00 0HMEP0P0FD71Q:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:38:46.2503590+01:00 0HMEP0P0FD71Q:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:38:46.2504280+01:00 0HMEP0P0FD71Q:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:38:46.2563210+01:00 0HMEP0P0FD71Q:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:38:46.2616250+01:00 0HMEP0P0FD71Q:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:38:46.2651080+01:00 0HMEP0P0FD71Q:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:38:46.2961090+01:00 0HMEP0P0FD71Q:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:38:46.3092520+01:00 0HMEP0P0FD71Q:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:38:46.3323980+01:00 0HMEP0P0FD71Q:00000006 [INF] Executed ViewResult - view "Index" executed in 26.1315ms. (f66409e9)
2022-01-16T16:38:46.3324830+01:00 0HMEP0P0FD71Q:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 76.0848ms (afa2e885)
2022-01-16T16:38:46.3325720+01:00 0HMEP0P0FD71Q:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:38:46.3327980+01:00 0HMEP0P0FD71Q:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.4207ms (791a596a)
2022-01-16T16:40:57.2615000+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:40:57.5906280+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:40:57.7885770+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:40:57.7954260+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:40:57.9642760+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:40:58.0411670+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:40:58.0572970+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:40:58.0578250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:40:58.0601970+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:40:58.0603680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:40:58.0769710+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:40:58.0919780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:40:58.1535540+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:40:58.3318900+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:40:58.3319550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:40:58.3320750+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:40:58.3321010+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:40:58.3321270+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:41:05.8884270+01:00 0HMEP0QDU6O0Q:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:41:05.9563230+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:41:05.9738170+01:00 0HMEP0QDU6O0Q:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:41:05.9762950+01:00 0HMEP0QDU6O0Q:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:41:05.9785210+01:00 0HMEP0QDU6O0Q:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:41:05.9897080+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:41:06.0047120+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:41:06.0465370+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:41:06.1138540+01:00 0HMEP0QDU6O0Q:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:41:06.3422700+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executed ViewResult - view "Index" executed in 293.2484ms. (f66409e9)
2022-01-16T16:41:06.3432250+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 368.6834ms (afa2e885)
2022-01-16T16:41:06.3442320+01:00 0HMEP0QDU6O0Q:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:41:06.3510600+01:00 0HMEP0QDU6O0Q:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 465.2510ms (791a596a)
2022-01-16T16:41:08.8646010+01:00 0HMEP0QDU6O0Q:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:41:08.8850010+01:00 0HMEP0QDU6O0Q:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:41:08.8860400+01:00 0HMEP0QDU6O0Q:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:41:08.9081180+01:00 0HMEP0QDU6O0Q:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:41:08.9367330+01:00 0HMEP0QDU6O0Q:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:41:08.9746160+01:00 0HMEP0QDU6O0Q:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:41:08.9854470+01:00 0HMEP0QDU6O0Q:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:41:09.1493790+01:00 0HMEP0QDU6O0Q:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:41:09.1637130+01:00 0HMEP0QDU6O0Q:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 255.4776ms (afa2e885)
2022-01-16T16:41:09.1639370+01:00 0HMEP0QDU6O0Q:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:41:09.1648380+01:00 0HMEP0QDU6O0Q:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ef92f8ec-8bd9-b818-afb9-bf7811833346" (1d7cf8c0)
2022-01-16T16:41:09.1658680+01:00 0HMEP0QDU6O0Q:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 301.3190ms (791a596a)
2022-01-16T16:41:09.3498250+01:00 0HMEP0QDU6O0Q:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:41:09.3645360+01:00 0HMEP0QDU6O0Q:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:41:09.3646300+01:00 0HMEP0QDU6O0Q:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:41:09.3647970+01:00 0HMEP0QDU6O0Q:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:41:09.3662130+01:00 0HMEP0QDU6O0Q:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:41:09.3680020+01:00 0HMEP0QDU6O0Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:41:09.4251930+01:00 0HMEP0QDU6O0Q:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:41:09.4254220+01:00 0HMEP0QDU6O0Q:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 60.5635ms (afa2e885)
2022-01-16T16:41:09.4254960+01:00 0HMEP0QDU6O0Q:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:41:09.4258090+01:00 0HMEP0QDU6O0Q:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 75.9986ms (791a596a)
2022-01-16T16:41:11.5030510+01:00 0HMEP0QDU6O0Q:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:41:11.5054850+01:00 0HMEP0QDU6O0Q:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:41:11.5058470+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:41:11.5126840+01:00 0HMEP0QDU6O0Q:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:41:11.5257470+01:00 0HMEP0QDU6O0Q:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:41:11.5640420+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:41:11.8267650+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:41:11.8749090+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:41:11.8784070+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:41:12.0275740+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:41:20.0776720+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:41:20.0823110+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8569.7466ms (afa2e885)
2022-01-16T16:41:20.0843080+01:00 0HMEP0QDU6O0Q:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:41:20.0939220+01:00 0HMEP0QDU6O0Q:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8591.1337ms (791a596a)
2022-01-16T16:41:20.0985180+01:00 0HMEP0QDU6O0Q:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:41:20.0995230+01:00 0HMEP0QDU6O0Q:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:41:20.0996220+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:41:20.1052590+01:00 0HMEP0QDU6O0Q:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:41:20.1092710+01:00 0HMEP0QDU6O0Q:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:41:20.1125700+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:41:20.1460260+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:41:20.1575040+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:41:20.1860920+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executed ViewResult - view "Index" executed in 31.2612ms. (f66409e9)
2022-01-16T16:41:20.1862470+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 80.9112ms (afa2e885)
2022-01-16T16:41:20.1862950+01:00 0HMEP0QDU6O0Q:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:41:20.1865940+01:00 0HMEP0QDU6O0Q:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 88.1126ms (791a596a)
2022-01-16T16:42:14.1478720+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:14.5070530+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:42:14.7042160+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:42:14.7133220+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:42:14.8702780+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:14.9398890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:42:14.9605900+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:14.9692070+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:42:14.9737270+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:14.9740380+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:42:14.9922290+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:42:15.0084370+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:15.0695790+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:15.2492980+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:42:15.2494230+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:42:15.2495640+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:42:15.2495990+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:42:15.2496380+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:42:17.6700400+01:00 0HMEP0R3APBE3:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:42:17.7520570+01:00 0HMEP0R3APBE3:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:17.7531690+01:00 0HMEP0R3APBE3:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:17.7746620+01:00 0HMEP0R3APBE3:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:17.7827160+01:00 0HMEP0R3APBE3:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:17.8198030+01:00 0HMEP0R3APBE3:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:17.9979460+01:00 0HMEP0R3APBE3:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:42:18.1298780+01:00 0HMEP0R3APBE3:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:42:18.2649640+01:00 0HMEP0R3APBE3:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:42:18.4089160+01:00 0HMEP0R3APBE3:00000002 [INF] Executed ViewResult - view "Index" executed in 277.5536ms. (f66409e9)
2022-01-16T16:42:18.4127040+01:00 0HMEP0R3APBE3:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 637.2595ms (afa2e885)
2022-01-16T16:42:18.4162340+01:00 0HMEP0R3APBE3:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:18.4363100+01:00 0HMEP0R3APBE3:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 769.0286ms (791a596a)
2022-01-16T16:42:20.1564630+01:00 0HMEP0R3APBE3:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:42:20.1647040+01:00 0HMEP0R3APBE3:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:20.1648350+01:00 0HMEP0R3APBE3:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:20.1706620+01:00 0HMEP0R3APBE3:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:20.1768680+01:00 0HMEP0R3APBE3:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:42:20.1820020+01:00 0HMEP0R3APBE3:00000003 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T16:42:20.1822510+01:00 0HMEP0R3APBE3:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11.412ms (afa2e885)
2022-01-16T16:42:20.1823080+01:00 0HMEP0R3APBE3:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:20.1937930+01:00 0HMEP0R3APBE3:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 26.3437ms (791a596a)
2022-01-16T16:42:20.1942440+01:00 0HMEP0R3APBE3:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:42:20.2094300+01:00 0HMEP0R3APBE3:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:20.2110950+01:00 0HMEP0R3APBE3:00000004 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:20.2124950+01:00 0HMEP0R3APBE3:00000004 [INF] Index viewed (84b92a55)
2022-01-16T16:42:20.2464730+01:00 0HMEP0R3APBE3:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:20.2558120+01:00 0HMEP0R3APBE3:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:42:20.2662590+01:00 0HMEP0R3APBE3:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:42:20.2680110+01:00 0HMEP0R3APBE3:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:42:20.2792110+01:00 0HMEP0R3APBE3:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:42:20.2882980+01:00 0HMEP0R3APBE3:00000004 [INF] Executed ViewResult - view "Index" executed in 21.3275ms. (f66409e9)
2022-01-16T16:42:20.2883680+01:00 0HMEP0R3APBE3:00000004 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 77.2006ms (afa2e885)
2022-01-16T16:42:20.2884010+01:00 0HMEP0R3APBE3:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:20.2885500+01:00 0HMEP0R3APBE3:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 94.3330ms (791a596a)
2022-01-16T16:42:22.8821450+01:00 0HMEP0R3APBE3:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:42:22.8863510+01:00 0HMEP0R3APBE3:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:22.8867920+01:00 0HMEP0R3APBE3:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:22.9067680+01:00 0HMEP0R3APBE3:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:22.9442180+01:00 0HMEP0R3APBE3:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:42:22.9451460+01:00 0HMEP0R3APBE3:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:22.9503870+01:00 0HMEP0R3APBE3:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:23.1034990+01:00 0HMEP0R3APBE3:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:42:23.1166130+01:00 0HMEP0R3APBE3:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 209.736ms (afa2e885)
2022-01-16T16:42:23.1166790+01:00 0HMEP0R3APBE3:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:23.1171080+01:00 0HMEP0R3APBE3:00000005 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"2c2f47bf-8dbf-b987-84de-7d70f6b41db6" (1d7cf8c0)
2022-01-16T16:42:23.1177180+01:00 0HMEP0R3APBE3:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 235.6362ms (791a596a)
2022-01-16T16:42:23.6249530+01:00 0HMEP0R3APBE3:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:42:23.6263190+01:00 0HMEP0R3APBE3:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:23.6264270+01:00 0HMEP0R3APBE3:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:23.6265990+01:00 0HMEP0R3APBE3:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:23.6284670+01:00 0HMEP0R3APBE3:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:23.6310520+01:00 0HMEP0R3APBE3:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:23.7127750+01:00 0HMEP0R3APBE3:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:42:23.7130120+01:00 0HMEP0R3APBE3:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.3692ms (afa2e885)
2022-01-16T16:42:23.7130430+01:00 0HMEP0R3APBE3:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:23.7133750+01:00 0HMEP0R3APBE3:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 88.4678ms (791a596a)
2022-01-16T16:42:25.3240970+01:00 0HMEP0R3APBE3:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:42:25.3251720+01:00 0HMEP0R3APBE3:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:25.3253240+01:00 0HMEP0R3APBE3:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:25.3255610+01:00 0HMEP0R3APBE3:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:25.3275160+01:00 0HMEP0R3APBE3:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:25.3313580+01:00 0HMEP0R3APBE3:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:25.5634190+01:00 0HMEP0R3APBE3:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:42:25.6042070+01:00 0HMEP0R3APBE3:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:42:25.6064470+01:00 0HMEP0R3APBE3:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:42:25.6490310+01:00 0HMEP0R3APBE3:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:42:34.6671390+01:00 0HMEP0R3APBE3:00000007 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:42:34.6674620+01:00 0HMEP0R3APBE3:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9342.046ms (afa2e885)
2022-01-16T16:42:34.6675350+01:00 0HMEP0R3APBE3:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:34.6683000+01:00 0HMEP0R3APBE3:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9344.4369ms (791a596a)
2022-01-16T16:42:34.6739700+01:00 0HMEP0R3APBE3:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:42:34.6752740+01:00 0HMEP0R3APBE3:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:42:34.6753700+01:00 0HMEP0R3APBE3:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:42:34.6755580+01:00 0HMEP0R3APBE3:00000008 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:42:34.6763490+01:00 0HMEP0R3APBE3:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:42:34.6813390+01:00 0HMEP0R3APBE3:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:42:34.6865460+01:00 0HMEP0R3APBE3:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:42:34.6965340+01:00 0HMEP0R3APBE3:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:42:34.7071810+01:00 0HMEP0R3APBE3:00000008 [INF] Executed ViewResult - view "Index" executed in 10.8159ms. (f66409e9)
2022-01-16T16:42:34.7073500+01:00 0HMEP0R3APBE3:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 31.7255ms (afa2e885)
2022-01-16T16:42:34.7074680+01:00 0HMEP0R3APBE3:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:42:34.7079290+01:00 0HMEP0R3APBE3:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 34.0233ms (791a596a)
2022-01-16T16:43:38.6911810+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:43:39.0778910+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:43:39.2996010+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:43:39.3070860+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:43:39.4693000+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:39.5456400+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:43:39.5674980+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:39.5737270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:43:39.5781010+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:39.5783250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:43:39.5976380+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:43:39.6135550+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:39.6882220+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:39.8735530+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:43:39.8736260+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:43:39.8738060+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:43:39.8738390+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:43:39.8738560+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:43:58.3866430+01:00 0HMEP0S1BA0TC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:43:58.4668100+01:00 0HMEP0S1BA0TC:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:43:58.4679930+01:00 0HMEP0S1BA0TC:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:43:58.4883340+01:00 0HMEP0S1BA0TC:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:43:58.4989480+01:00 0HMEP0S1BA0TC:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:43:58.5356330+01:00 0HMEP0S1BA0TC:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:43:58.7189640+01:00 0HMEP0S1BA0TC:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:43:58.8711000+01:00 0HMEP0S1BA0TC:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:43:59.0289050+01:00 0HMEP0S1BA0TC:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:43:59.1916160+01:00 0HMEP0S1BA0TC:00000002 [INF] Executed ViewResult - view "Index" executed in 315.0093ms. (f66409e9)
2022-01-16T16:43:59.1974890+01:00 0HMEP0S1BA0TC:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 708.2879ms (afa2e885)
2022-01-16T16:43:59.2012340+01:00 0HMEP0S1BA0TC:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:43:59.2327030+01:00 0HMEP0S1BA0TC:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 849.1198ms (791a596a)
2022-01-16T16:44:00.8407360+01:00 0HMEP0S1BA0TC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:44:00.8448120+01:00 0HMEP0S1BA0TC:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:44:00.8478450+01:00 0HMEP0S1BA0TC:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:44:00.8505770+01:00 0HMEP0S1BA0TC:00000003 [INF] Index viewed (84b92a55)
2022-01-16T16:44:00.9056970+01:00 0HMEP0S1BA0TC:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:44:00.9132540+01:00 0HMEP0S1BA0TC:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:44:00.9265240+01:00 0HMEP0S1BA0TC:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:44:00.9283780+01:00 0HMEP0S1BA0TC:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:44:00.9409860+01:00 0HMEP0S1BA0TC:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:44:00.9516110+01:00 0HMEP0S1BA0TC:00000003 [INF] Executed ViewResult - view "Index" executed in 24.2236ms. (f66409e9)
2022-01-16T16:44:00.9517260+01:00 0HMEP0S1BA0TC:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 103.7829ms (afa2e885)
2022-01-16T16:44:00.9517850+01:00 0HMEP0S1BA0TC:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:44:00.9521570+01:00 0HMEP0S1BA0TC:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 111.4475ms (791a596a)
2022-01-16T16:44:03.1552770+01:00 0HMEP0S1BA0TC:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:44:03.1798920+01:00 0HMEP0S1BA0TC:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:44:03.1801290+01:00 0HMEP0S1BA0TC:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:44:03.1996510+01:00 0HMEP0S1BA0TC:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:44:03.2280880+01:00 0HMEP0S1BA0TC:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:44:03.2290990+01:00 0HMEP0S1BA0TC:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:44:03.2338710+01:00 0HMEP0S1BA0TC:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:03.3913620+01:00 0HMEP0S1BA0TC:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:44:03.4070770+01:00 0HMEP0S1BA0TC:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 207.243ms (afa2e885)
2022-01-16T16:44:03.4071630+01:00 0HMEP0S1BA0TC:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:44:03.4080320+01:00 0HMEP0S1BA0TC:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"327302cf-3b8d-56dd-e160-4aa2b02d60f6" (1d7cf8c0)
2022-01-16T16:44:03.4089560+01:00 0HMEP0S1BA0TC:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 253.6751ms (791a596a)
2022-01-16T16:44:04.8289270+01:00 0HMEP0S1BA0TC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:44:04.8334710+01:00 0HMEP0S1BA0TC:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:44:04.8341820+01:00 0HMEP0S1BA0TC:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:44:04.8427580+01:00 0HMEP0S1BA0TC:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:44:04.9195280+01:00 0HMEP0S1BA0TC:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:44:04.9219570+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:05.1277220+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:44:05.1685160+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:44:05.2143270+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:44:13.9437240+01:00 0HMEP0S1BA0TC:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:44:13.9448560+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9102.1955ms (afa2e885)
2022-01-16T16:44:13.9450190+01:00 0HMEP0S1BA0TC:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:44:13.9463620+01:00 0HMEP0S1BA0TC:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9117.5407ms (791a596a)
2022-01-16T16:44:13.9511810+01:00 0HMEP0S1BA0TC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:44:13.9530260+01:00 0HMEP0S1BA0TC:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:44:13.9531980+01:00 0HMEP0S1BA0TC:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:44:13.9535130+01:00 0HMEP0S1BA0TC:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:44:13.9540610+01:00 0HMEP0S1BA0TC:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:44:13.9577020+01:00 0HMEP0S1BA0TC:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:13.9623180+01:00 0HMEP0S1BA0TC:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:44:13.9691710+01:00 0HMEP0S1BA0TC:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:44:13.9776610+01:00 0HMEP0S1BA0TC:00000006 [INF] Executed ViewResult - view "Index" executed in 8.6352ms. (f66409e9)
2022-01-16T16:44:13.9778020+01:00 0HMEP0S1BA0TC:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 24.2168ms (afa2e885)
2022-01-16T16:44:13.9778500+01:00 0HMEP0S1BA0TC:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:44:13.9781210+01:00 0HMEP0S1BA0TC:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 26.9713ms (791a596a)
2022-01-16T16:44:57.6566090+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:44:58.0271920+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:44:58.2334780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:44:58.2408910+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:44:58.4078560+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:58.4893050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:44:58.5055770+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:58.5059440+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:44:58.5090000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:58.5091860+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:44:58.5307470+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:44:58.5467420+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:58.6129650+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:44:58.7893710+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:44:58.7894460+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:44:58.7896070+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:44:58.7896620+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:44:58.7897030+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:45:18.4287690+01:00 0HMEP0SP6IH1S:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:45:18.5014190+01:00 0HMEP0SP6IH1S:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:18.5192600+01:00 0HMEP0SP6IH1S:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:18.5218850+01:00 0HMEP0SP6IH1S:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:45:18.5243670+01:00 0HMEP0SP6IH1S:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:18.5368420+01:00 0HMEP0SP6IH1S:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:45:18.5527420+01:00 0HMEP0SP6IH1S:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:45:18.5974920+01:00 0HMEP0SP6IH1S:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:45:18.6733270+01:00 0HMEP0SP6IH1S:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:45:18.8744440+01:00 0HMEP0SP6IH1S:00000002 [INF] Executed ViewResult - view "Index" executed in 274.8824ms. (f66409e9)
2022-01-16T16:45:18.8754100+01:00 0HMEP0SP6IH1S:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 355.2845ms (afa2e885)
2022-01-16T16:45:18.8762380+01:00 0HMEP0SP6IH1S:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:18.8841200+01:00 0HMEP0SP6IH1S:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 458.2393ms (791a596a)
2022-01-16T16:45:21.5668810+01:00 0HMEP0SP6IH1S:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:45:21.5859740+01:00 0HMEP0SP6IH1S:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:45:21.5870630+01:00 0HMEP0SP6IH1S:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:21.6081040+01:00 0HMEP0SP6IH1S:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:21.6371190+01:00 0HMEP0SP6IH1S:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:45:21.6729560+01:00 0HMEP0SP6IH1S:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:21.6830160+01:00 0HMEP0SP6IH1S:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:45:21.7980820+01:00 0HMEP0SP6IH1R:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:45:21.8116210+01:00 0HMEP0SP6IH1R:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:45:21.8117330+01:00 0HMEP0SP6IH1R:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:21.8118750+01:00 0HMEP0SP6IH1R:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:21.8132100+01:00 0HMEP0SP6IH1R:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:45:21.8136030+01:00 0HMEP0SP6IH1R:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:21.8156250+01:00 0HMEP0SP6IH1R:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:45:21.8428190+01:00 0HMEP0SP6IH1R:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:45:21.8428180+01:00 0HMEP0SP6IH1S:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:45:21.8576710+01:00 0HMEP0SP6IH1S:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 249.4407ms (afa2e885)
2022-01-16T16:45:21.8576710+01:00 0HMEP0SP6IH1R:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 45.696ms (afa2e885)
2022-01-16T16:45:21.8577560+01:00 0HMEP0SP6IH1R:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:21.8577960+01:00 0HMEP0SP6IH1S:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:21.8587000+01:00 0HMEP0SP6IH1S:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"91be809f-ca5d-8548-4111-28e5897f812b" (1d7cf8c0)
2022-01-16T16:45:21.8587000+01:00 0HMEP0SP6IH1R:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"01941cf1-c7a2-5f81-4853-cd1c84faf53b" (1d7cf8c0)
2022-01-16T16:45:21.8595940+01:00 0HMEP0SP6IH1S:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 292.7980ms (791a596a)
2022-01-16T16:45:21.8595940+01:00 0HMEP0SP6IH1R:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 61.4880ms (791a596a)
2022-01-16T16:45:22.0601030+01:00 0HMEP0SP6IH1R:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:45:22.0614090+01:00 0HMEP0SP6IH1R:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:45:22.0615910+01:00 0HMEP0SP6IH1R:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:22.0618190+01:00 0HMEP0SP6IH1R:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:22.0633090+01:00 0HMEP0SP6IH1R:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:22.0644580+01:00 0HMEP0SP6IH1R:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:45:22.1192590+01:00 0HMEP0SP6IH1R:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:45:22.1195170+01:00 0HMEP0SP6IH1R:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 57.6459ms (afa2e885)
2022-01-16T16:45:22.1195510+01:00 0HMEP0SP6IH1R:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:22.1199740+01:00 0HMEP0SP6IH1R:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 59.9420ms (791a596a)
2022-01-16T16:45:23.8695750+01:00 0HMEP0SP6IH1R:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:45:23.8709510+01:00 0HMEP0SP6IH1R:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:45:23.8710390+01:00 0HMEP0SP6IH1R:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:23.8799160+01:00 0HMEP0SP6IH1R:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:23.8907170+01:00 0HMEP0SP6IH1R:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:23.9324380+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:45:24.1909350+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:45:24.2345280+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:45:24.4201680+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:45:33.7377050+01:00 0HMEP0SP6IH1R:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:45:33.7432870+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9863.5025ms (afa2e885)
2022-01-16T16:45:33.7461880+01:00 0HMEP0SP6IH1R:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:33.7614640+01:00 0HMEP0SP6IH1R:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9892.1710ms (791a596a)
2022-01-16T16:45:33.7649410+01:00 0HMEP0SP6IH1R:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:45:33.7658520+01:00 0HMEP0SP6IH1R:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:45:33.7659200+01:00 0HMEP0SP6IH1R:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:45:33.7708700+01:00 0HMEP0SP6IH1R:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:45:33.7744810+01:00 0HMEP0SP6IH1R:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:45:33.7770080+01:00 0HMEP0SP6IH1R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:45:33.8014070+01:00 0HMEP0SP6IH1R:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:45:33.8132590+01:00 0HMEP0SP6IH1R:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:45:33.8413190+01:00 0HMEP0SP6IH1R:00000005 [INF] Executed ViewResult - view "Index" executed in 30.1401ms. (f66409e9)
2022-01-16T16:45:33.8414840+01:00 0HMEP0SP6IH1R:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 70.5429ms (afa2e885)
2022-01-16T16:45:33.8415360+01:00 0HMEP0SP6IH1R:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:45:33.8418790+01:00 0HMEP0SP6IH1R:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 76.9769ms (791a596a)
2022-01-16T16:47:02.1517440+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:02.5023050+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:47:02.7094680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:47:02.7165620+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:47:02.9294220+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:03.0220580+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:47:03.0403390+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:03.0408140+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:47:03.0433150+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:03.0434850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:47:03.0704100+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:47:03.0947630+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:03.1759180+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:03.3953120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:47:03.3954010+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:47:03.3955930+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:47:03.3956560+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:47:03.3956910+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:47:28.3622730+01:00 0HMEP0TVTM8F0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:47:28.4466510+01:00 0HMEP0TVTM8F0:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:47:28.4656630+01:00 0HMEP0TVTM8F0:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:47:28.4678410+01:00 0HMEP0TVTM8F0:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:47:28.4705680+01:00 0HMEP0TVTM8F0:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:28.4852360+01:00 0HMEP0TVTM8F0:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:47:28.5057350+01:00 0HMEP0TVTM8F0:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:47:28.5551630+01:00 0HMEP0TVTM8F0:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:47:28.6299260+01:00 0HMEP0TVTM8F0:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:47:28.8398430+01:00 0HMEP0TVTM8F0:00000002 [INF] Executed ViewResult - view "Index" executed in 280.6221ms. (f66409e9)
2022-01-16T16:47:28.8407880+01:00 0HMEP0TVTM8F0:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 374.3097ms (afa2e885)
2022-01-16T16:47:28.8416870+01:00 0HMEP0TVTM8F0:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:47:28.8504450+01:00 0HMEP0TVTM8F0:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 491.8368ms (791a596a)
2022-01-16T16:47:31.0928880+01:00 0HMEP0TVTM8F0:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:47:31.1126140+01:00 0HMEP0TVTM8F0:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:47:31.1138210+01:00 0HMEP0TVTM8F0:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:47:31.1327610+01:00 0HMEP0TVTM8F0:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:47:31.1598170+01:00 0HMEP0TVTM8F0:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:47:31.1936340+01:00 0HMEP0TVTM8F0:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:31.2037350+01:00 0HMEP0TVTM8F0:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:31.3565830+01:00 0HMEP0TVTM8F0:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:47:31.3725540+01:00 0HMEP0TVTM8F0:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 239.6677ms (afa2e885)
2022-01-16T16:47:31.3726190+01:00 0HMEP0TVTM8F0:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:47:31.3732240+01:00 0HMEP0TVTM8F0:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"fe9bd7a3-c834-93b4-ea6b-e1df13eccdf1" (1d7cf8c0)
2022-01-16T16:47:31.3741040+01:00 0HMEP0TVTM8F0:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 281.2415ms (791a596a)
2022-01-16T16:47:31.8387370+01:00 0HMEP0TVTM8F0:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:47:31.8661420+01:00 0HMEP0TVTM8F0:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:47:31.8663060+01:00 0HMEP0TVTM8F0:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:47:31.8664950+01:00 0HMEP0TVTM8F0:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:47:31.8686480+01:00 0HMEP0TVTM8F0:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:31.8720820+01:00 0HMEP0TVTM8F0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:31.9406870+01:00 0HMEP0TVTM8F0:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:47:31.9409470+01:00 0HMEP0TVTM8F0:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 74.3875ms (afa2e885)
2022-01-16T16:47:31.9410380+01:00 0HMEP0TVTM8F0:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:47:31.9415350+01:00 0HMEP0TVTM8F0:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 102.8959ms (791a596a)
2022-01-16T16:47:35.9924050+01:00 0HMEP0TVTM8F0:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:47:35.9942020+01:00 0HMEP0TVTM8F0:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:47:35.9945250+01:00 0HMEP0TVTM8F0:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:47:36.0033490+01:00 0HMEP0TVTM8F0:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:47:36.0158110+01:00 0HMEP0TVTM8F0:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:36.0526320+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:36.3161720+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:47:36.3632270+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:47:36.3657390+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:47:36.5479170+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:47:44.5514420+01:00 0HMEP0TVTM8F0:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:47:44.5568280+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8553.5989ms (afa2e885)
2022-01-16T16:47:44.5592990+01:00 0HMEP0TVTM8F0:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:47:44.5714130+01:00 0HMEP0TVTM8F0:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8579.1974ms (791a596a)
2022-01-16T16:47:44.5750240+01:00 0HMEP0TVTM8F0:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:47:44.5761800+01:00 0HMEP0TVTM8F0:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:47:44.5762590+01:00 0HMEP0TVTM8F0:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:47:44.5836290+01:00 0HMEP0TVTM8F0:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:47:44.5876490+01:00 0HMEP0TVTM8F0:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:47:44.5909080+01:00 0HMEP0TVTM8F0:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:47:44.6217740+01:00 0HMEP0TVTM8F0:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:47:44.6352800+01:00 0HMEP0TVTM8F0:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:47:44.6574030+01:00 0HMEP0TVTM8F0:00000006 [INF] Executed ViewResult - view "Index" executed in 23.8169ms. (f66409e9)
2022-01-16T16:47:44.6574890+01:00 0HMEP0TVTM8F0:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 73.7814ms (afa2e885)
2022-01-16T16:47:44.6575390+01:00 0HMEP0TVTM8F0:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:47:44.6577450+01:00 0HMEP0TVTM8F0:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 82.7603ms (791a596a)
2022-01-16T16:50:27.1960810+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:27.5408410+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:50:27.7900540+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:50:27.7986000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:50:27.9803830+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:28.0754100+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:50:28.0913250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:28.0918210+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:50:28.0940300+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:28.0941800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:50:28.1129490+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:50:28.1284730+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:28.2018100+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:28.3916980+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:50:28.3918000+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:50:28.3920260+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:50:28.3920780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:50:28.3921180+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:50:34.7968210+01:00 0HMEP0VNFOV9G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:50:34.8679200+01:00 0HMEP0VNFOV9G:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:50:34.8867290+01:00 0HMEP0VNFOV9G:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:50:34.8888480+01:00 0HMEP0VNFOV9G:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:50:34.8908090+01:00 0HMEP0VNFOV9G:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:34.9038220+01:00 0HMEP0VNFOV9G:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:50:34.9209060+01:00 0HMEP0VNFOV9G:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:50:34.9694030+01:00 0HMEP0VNFOV9G:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:50:35.0481930+01:00 0HMEP0VNFOV9G:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:50:35.2235290+01:00 0HMEP0VNFOV9G:00000002 [INF] Executed ViewResult - view "Index" executed in 253.5673ms. (f66409e9)
2022-01-16T16:50:35.2242530+01:00 0HMEP0VNFOV9G:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 336.8891ms (afa2e885)
2022-01-16T16:50:35.2252920+01:00 0HMEP0VNFOV9G:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:50:35.2339020+01:00 0HMEP0VNFOV9G:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 439.8405ms (791a596a)
2022-01-16T16:50:37.4761280+01:00 0HMEP0VNFOV9G:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:50:37.4970730+01:00 0HMEP0VNFOV9G:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:50:37.4982790+01:00 0HMEP0VNFOV9G:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:50:37.5174160+01:00 0HMEP0VNFOV9G:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:50:37.5453050+01:00 0HMEP0VNFOV9G:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:50:37.5839020+01:00 0HMEP0VNFOV9G:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:37.5936710+01:00 0HMEP0VNFOV9G:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:37.7625730+01:00 0HMEP0VNFOV9G:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:50:37.7790030+01:00 0HMEP0VNFOV9G:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 261.2924ms (afa2e885)
2022-01-16T16:50:37.7791700+01:00 0HMEP0VNFOV9G:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:50:37.7801240+01:00 0HMEP0VNFOV9G:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"7d3cbca8-bf21-3b32-31dc-2afbbf7647a0" (1d7cf8c0)
2022-01-16T16:50:37.7812300+01:00 0HMEP0VNFOV9G:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 305.2548ms (791a596a)
2022-01-16T16:50:37.9407730+01:00 0HMEP0VNFOV9G:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:50:37.9691080+01:00 0HMEP0VNFOV9G:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:50:37.9692350+01:00 0HMEP0VNFOV9G:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:50:37.9694110+01:00 0HMEP0VNFOV9G:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:50:37.9714150+01:00 0HMEP0VNFOV9G:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:37.9743120+01:00 0HMEP0VNFOV9G:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:38.0465750+01:00 0HMEP0VNFOV9G:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:50:38.0468350+01:00 0HMEP0VNFOV9G:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 77.206ms (afa2e885)
2022-01-16T16:50:38.0468930+01:00 0HMEP0VNFOV9G:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:50:38.0473690+01:00 0HMEP0VNFOV9G:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 106.6004ms (791a596a)
2022-01-16T16:50:39.7315890+01:00 0HMEP0VNFOV9G:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:50:39.7334990+01:00 0HMEP0VNFOV9G:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:50:39.7339120+01:00 0HMEP0VNFOV9G:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:50:39.7400660+01:00 0HMEP0VNFOV9G:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:50:39.7543170+01:00 0HMEP0VNFOV9G:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:39.7937270+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:40.0600180+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:50:40.1077430+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:50:40.1105410+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:50:40.2913700+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:50:48.8705120+01:00 0HMEP0VNFOV9G:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:50:48.8774600+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9137.4998ms (afa2e885)
2022-01-16T16:50:48.8808180+01:00 0HMEP0VNFOV9G:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:50:48.8959920+01:00 0HMEP0VNFOV9G:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9164.6083ms (791a596a)
2022-01-16T16:50:48.8994570+01:00 0HMEP0VNFOV9G:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:50:48.9006760+01:00 0HMEP0VNFOV9G:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:50:48.9007460+01:00 0HMEP0VNFOV9G:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:50:48.9063870+01:00 0HMEP0VNFOV9G:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:50:48.9097600+01:00 0HMEP0VNFOV9G:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:50:48.9133670+01:00 0HMEP0VNFOV9G:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:50:48.9384800+01:00 0HMEP0VNFOV9G:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:50:48.9611410+01:00 0HMEP0VNFOV9G:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:50:48.9951850+01:00 0HMEP0VNFOV9G:00000006 [INF] Executed ViewResult - view "Index" executed in 36.9791ms. (f66409e9)
2022-01-16T16:50:48.9954180+01:00 0HMEP0VNFOV9G:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 88.9472ms (afa2e885)
2022-01-16T16:50:48.9954830+01:00 0HMEP0VNFOV9G:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:50:48.9958480+01:00 0HMEP0VNFOV9G:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 96.3892ms (791a596a)
2022-01-16T16:51:42.9195510+01:00 0HMEP0VNFOV9G:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/134 - - (ca22a1cb)
2022-01-16T16:51:42.9260340+01:00 0HMEP0VNFOV9G:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:51:42.9262220+01:00 0HMEP0VNFOV9G:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:51:42.9343410+01:00 0HMEP0VNFOV9G:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:51:42.9405360+01:00 0HMEP0VNFOV9G:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:51:42.9677640+01:00 0HMEP0VNFOV9G:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:51:42.9699960+01:00 0HMEP0VNFOV9G:00000007 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T16:51:42.9902500+01:00 0HMEP0VNFOV9G:00000007 [INF] Executed ViewResult - view "Invoice" executed in 21.4892ms. (f66409e9)
2022-01-16T16:51:42.9903390+01:00 0HMEP0VNFOV9G:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 55.8512ms (afa2e885)
2022-01-16T16:51:42.9903820+01:00 0HMEP0VNFOV9G:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:51:42.9907060+01:00 0HMEP0VNFOV9G:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/134 - - - 200 - text/html;+charset=utf-8 71.5618ms (791a596a)
2022-01-16T16:52:35.6411460+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:52:36.0799610+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:52:36.3158470+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:52:36.3234760+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:52:36.5621110+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:52:36.6481970+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:52:36.6766030+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:52:36.6861650+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:52:36.6910300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:52:36.6913010+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:52:36.7163560+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:52:36.7383620+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:52:36.8269770+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:52:37.0389390+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:52:37.0390440+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:52:37.0392460+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:52:37.0393010+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:52:37.0393280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:53:21.6777650+01:00 0HMEP119767SG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:53:21.7564260+01:00 0HMEP119767SG:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:53:21.7763450+01:00 0HMEP119767SG:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:53:21.7788510+01:00 0HMEP119767SG:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:53:21.7813770+01:00 0HMEP119767SG:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:53:21.7938640+01:00 0HMEP119767SG:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:53:21.8085900+01:00 0HMEP119767SG:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:53:21.8508040+01:00 0HMEP119767SG:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:53:21.9253950+01:00 0HMEP119767SG:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:53:22.1003750+01:00 0HMEP119767SG:00000002 [INF] Executed ViewResult - view "Index" executed in 247.6945ms. (f66409e9)
2022-01-16T16:53:22.1009030+01:00 0HMEP119767SG:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 323.991ms (afa2e885)
2022-01-16T16:53:22.1017480+01:00 0HMEP119767SG:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:53:22.1101910+01:00 0HMEP119767SG:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 435.4101ms (791a596a)
2022-01-16T16:53:24.7323740+01:00 0HMEP119767SG:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:53:24.7517380+01:00 0HMEP119767SG:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:53:24.7527810+01:00 0HMEP119767SG:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:53:24.7745920+01:00 0HMEP119767SG:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:53:24.8059240+01:00 0HMEP119767SG:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:53:24.8438950+01:00 0HMEP119767SG:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:53:24.8558920+01:00 0HMEP119767SG:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:53:25.0277800+01:00 0HMEP119767SG:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:53:25.0432050+01:00 0HMEP119767SG:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 268.484ms (afa2e885)
2022-01-16T16:53:25.0432840+01:00 0HMEP119767SG:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:53:25.0438090+01:00 0HMEP119767SG:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"5ebd11ab-04db-0ccb-7935-2503d15c474d" (1d7cf8c0)
2022-01-16T16:53:25.0446600+01:00 0HMEP119767SG:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 312.3082ms (791a596a)
2022-01-16T16:53:25.5238410+01:00 0HMEP119767SG:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:53:25.5505070+01:00 0HMEP119767SG:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:53:25.5507090+01:00 0HMEP119767SG:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:53:25.5508980+01:00 0HMEP119767SG:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:53:25.5528990+01:00 0HMEP119767SG:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:53:25.5686990+01:00 0HMEP119767SG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:53:25.6330510+01:00 0HMEP119767SG:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:53:25.6333570+01:00 0HMEP119767SG:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 82.3918ms (afa2e885)
2022-01-16T16:53:25.6333910+01:00 0HMEP119767SG:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:53:25.6337220+01:00 0HMEP119767SG:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 109.9307ms (791a596a)
2022-01-16T16:53:27.6943590+01:00 0HMEP119767SG:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:53:27.6969830+01:00 0HMEP119767SG:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:53:27.6975430+01:00 0HMEP119767SG:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:53:27.7059960+01:00 0HMEP119767SG:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:53:27.7206180+01:00 0HMEP119767SG:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:53:27.7568220+01:00 0HMEP119767SG:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:53:28.0662970+01:00 0HMEP119767SG:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:53:28.1314700+01:00 0HMEP119767SG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:53:28.1344310+01:00 0HMEP119767SG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:53:28.3130750+01:00 0HMEP119767SG:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:53:40.5378110+01:00 0HMEP119767SG:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:53:40.5415930+01:00 0HMEP119767SG:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 12835.8413ms (afa2e885)
2022-01-16T16:53:40.5432650+01:00 0HMEP119767SG:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:53:40.5548130+01:00 0HMEP119767SG:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 12860.8025ms (791a596a)
2022-01-16T16:53:40.5595880+01:00 0HMEP119767SG:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:53:40.5607100+01:00 0HMEP119767SG:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:53:40.5607830+01:00 0HMEP119767SG:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:53:40.5666330+01:00 0HMEP119767SG:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:53:40.5721130+01:00 0HMEP119767SG:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:53:40.5755220+01:00 0HMEP119767SG:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:53:40.6057370+01:00 0HMEP119767SG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:53:40.6181610+01:00 0HMEP119767SG:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:53:40.6770260+01:00 0HMEP119767SG:00000006 [INF] Executed ViewResult - view "Index" executed in 61.6252ms. (f66409e9)
2022-01-16T16:53:40.6772200+01:00 0HMEP119767SG:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 110.4778ms (afa2e885)
2022-01-16T16:53:40.6772910+01:00 0HMEP119767SG:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:53:40.6784210+01:00 0HMEP119767SG:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 119.1711ms (791a596a)
2022-01-16T16:57:39.4609590+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:57:40.0007510+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:57:40.2880170+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:57:40.3007980+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:57:40.5989870+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:57:40.6922120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:57:40.7150110+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:57:40.7214710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:57:40.7259480+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:57:40.7262160+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:57:40.7482380+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:57:40.7674980+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:57:40.8602090+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:57:41.0737660+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:57:41.0738420+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:57:41.0739720+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:57:41.0740130+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:57:41.0740390+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:58:05.9056660+01:00 0HMEP13TTM8QR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:58:05.9814820+01:00 0HMEP13TTM8QR:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:58:06.0008450+01:00 0HMEP13TTM8QR:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:58:06.0034940+01:00 0HMEP13TTM8QR:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:58:06.0056050+01:00 0HMEP13TTM8QR:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:58:06.0186340+01:00 0HMEP13TTM8QR:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:58:06.0323630+01:00 0HMEP13TTM8QR:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:58:06.0758400+01:00 0HMEP13TTM8QR:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:58:06.1482140+01:00 0HMEP13TTM8QR:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:58:06.3312710+01:00 0HMEP13TTM8QR:00000002 [INF] Executed ViewResult - view "Index" executed in 250.7928ms. (f66409e9)
2022-01-16T16:58:06.3319590+01:00 0HMEP13TTM8QR:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 330.2858ms (afa2e885)
2022-01-16T16:58:06.3328100+01:00 0HMEP13TTM8QR:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:58:06.3417370+01:00 0HMEP13TTM8QR:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 441.6284ms (791a596a)
2022-01-16T16:58:08.6865560+01:00 0HMEP13TTM8QR:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:58:08.7057220+01:00 0HMEP13TTM8QR:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:58:08.7067030+01:00 0HMEP13TTM8QR:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:58:08.7255540+01:00 0HMEP13TTM8QR:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:58:08.7543090+01:00 0HMEP13TTM8QR:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:58:08.7879510+01:00 0HMEP13TTM8QR:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:58:08.7973170+01:00 0HMEP13TTM8QR:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:58:08.9532010+01:00 0HMEP13TTM8QR:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:58:08.9688180+01:00 0HMEP13TTM8QR:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 243.1351ms (afa2e885)
2022-01-16T16:58:08.9689000+01:00 0HMEP13TTM8QR:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:58:08.9695640+01:00 0HMEP13TTM8QR:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d08a28e8-d9c9-ebf9-8d89-051fc2e54c0a" (1d7cf8c0)
2022-01-16T16:58:08.9705350+01:00 0HMEP13TTM8QR:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 284.0652ms (791a596a)
2022-01-16T16:58:12.6928530+01:00 0HMEP13TTM8QR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:58:12.7208840+01:00 0HMEP13TTM8QR:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:58:12.7210060+01:00 0HMEP13TTM8QR:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:58:12.7260750+01:00 0HMEP13TTM8QR:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:58:12.7939720+01:00 0HMEP13TTM8QR:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:58:12.8250140+01:00 0HMEP13TTM8QR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:58:13.1061870+01:00 0HMEP13TTM8QR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:58:13.1508380+01:00 0HMEP13TTM8QR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:58:13.3155020+01:00 0HMEP13TTM8QR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:58:21.6641720+01:00 0HMEP13TTM8QR:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:58:21.6681540+01:00 0HMEP13TTM8QR:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8942.1523ms (afa2e885)
2022-01-16T16:58:21.6700590+01:00 0HMEP13TTM8QR:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:58:21.6822680+01:00 0HMEP13TTM8QR:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8989.6580ms (791a596a)
2022-01-16T16:58:21.6858540+01:00 0HMEP13TTM8QR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:58:21.6880120+01:00 0HMEP13TTM8QR:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:58:21.6890290+01:00 0HMEP13TTM8QR:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:58:21.6943480+01:00 0HMEP13TTM8QR:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:58:21.7001290+01:00 0HMEP13TTM8QR:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:58:21.7048030+01:00 0HMEP13TTM8QR:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:58:21.7358790+01:00 0HMEP13TTM8QR:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:58:21.7491430+01:00 0HMEP13TTM8QR:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:58:21.7786170+01:00 0HMEP13TTM8QR:00000005 [INF] Executed ViewResult - view "Index" executed in 30.8641ms. (f66409e9)
2022-01-16T16:58:21.7787730+01:00 0HMEP13TTM8QR:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 84.3238ms (afa2e885)
2022-01-16T16:58:21.7788310+01:00 0HMEP13TTM8QR:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:58:21.7791350+01:00 0HMEP13TTM8QR:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 93.3053ms (791a596a)
2022-01-16T16:58:25.8016290+01:00 0HMEP13TTM8QR:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:58:25.8030740+01:00 0HMEP13TTM8QR:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:58:25.8034420+01:00 0HMEP13TTM8QR:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:58:25.8040500+01:00 0HMEP13TTM8QR:00000006 [INF] Index viewed (84b92a55)
2022-01-16T16:58:25.8047250+01:00 0HMEP13TTM8QR:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:58:25.8070300+01:00 0HMEP13TTM8QR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:58:25.8090600+01:00 0HMEP13TTM8QR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:58:25.8098460+01:00 0HMEP13TTM8QR:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:58:25.8123070+01:00 0HMEP13TTM8QR:00000006 [INF] Executed ViewResult - view "Index" executed in 2.5591ms. (f66409e9)
2022-01-16T16:58:25.8124380+01:00 0HMEP13TTM8QR:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 8.6009ms (afa2e885)
2022-01-16T16:58:25.8125090+01:00 0HMEP13TTM8QR:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:58:25.8127650+01:00 0HMEP13TTM8QR:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 11.1289ms (791a596a)
2022-01-16T16:59:16.9548340+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:17.4078110+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T16:59:17.7141140+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:59:17.7239860+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:59:17.9970510+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:18.0835240+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:59:18.1145760+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:18.1275540+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:59:18.1359680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:18.1364360+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T16:59:18.1697840+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T16:59:18.1949140+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:18.3079070+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:18.5946850+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T16:59:18.5947850+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T16:59:18.5950810+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T16:59:18.5951570+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T16:59:18.5951950+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T16:59:19.2760170+01:00 0HMEP14JPI2CL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T16:59:19.3528190+01:00 0HMEP14JPI2CL:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:19.3699670+01:00 0HMEP14JPI2CL:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:19.3720670+01:00 0HMEP14JPI2CL:00000002 [INF] Index viewed (84b92a55)
2022-01-16T16:59:19.3749140+01:00 0HMEP14JPI2CL:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:19.3873960+01:00 0HMEP14JPI2CL:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T16:59:19.4022310+01:00 0HMEP14JPI2CL:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T16:59:19.4523390+01:00 0HMEP14JPI2CL:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:59:19.5425030+01:00 0HMEP14JPI2CL:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:59:19.7431780+01:00 0HMEP14JPI2CL:00000002 [INF] Executed ViewResult - view "Index" executed in 286.4537ms. (f66409e9)
2022-01-16T16:59:19.7441960+01:00 0HMEP14JPI2CL:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 373.3796ms (afa2e885)
2022-01-16T16:59:19.7455970+01:00 0HMEP14JPI2CL:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:19.7552930+01:00 0HMEP14JPI2CL:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 482.3813ms (791a596a)
2022-01-16T16:59:22.2749580+01:00 0HMEP14JPI2CL:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:59:22.2956010+01:00 0HMEP14JPI2CL:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:22.2967810+01:00 0HMEP14JPI2CL:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:22.3169840+01:00 0HMEP14JPI2CL:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:22.3480290+01:00 0HMEP14JPI2CL:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:59:22.3832760+01:00 0HMEP14JPI2CL:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:22.3940130+01:00 0HMEP14JPI2CL:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:22.4280490+01:00 0HMEP14JPI2CM:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:59:22.4442630+01:00 0HMEP14JPI2CM:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:22.4443680+01:00 0HMEP14JPI2CM:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:22.4445180+01:00 0HMEP14JPI2CM:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:22.4456730+01:00 0HMEP14JPI2CM:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T16:59:22.4460220+01:00 0HMEP14JPI2CM:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:22.4482000+01:00 0HMEP14JPI2CM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:22.5923810+01:00 0HMEP14JPI2CM:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:59:22.5925130+01:00 0HMEP14JPI2CL:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:59:22.6129970+01:00 0HMEP14JPI2CN:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:59:22.6136470+01:00 0HMEP14JPI2CM:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 169.0585ms (afa2e885)
2022-01-16T16:59:22.6137750+01:00 0HMEP14JPI2CM:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:22.6136480+01:00 0HMEP14JPI2CL:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 296.5317ms (afa2e885)
2022-01-16T16:59:22.6138420+01:00 0HMEP14JPI2CL:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:22.6147100+01:00 0HMEP14JPI2CL:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"087da117-8e26-98b6-251b-04bb3ec3ce2e" (1d7cf8c0)
2022-01-16T16:59:22.6146990+01:00 0HMEP14JPI2CM:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ea5161b6-b52e-6954-449c-9f6d107ba53d" (1d7cf8c0)
2022-01-16T16:59:22.6154460+01:00 0HMEP14JPI2CN:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:22.6158880+01:00 0HMEP14JPI2CN:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:22.6160660+01:00 0HMEP14JPI2CN:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:22.6162960+01:00 0HMEP14JPI2CL:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 341.3964ms (791a596a)
2022-01-16T16:59:22.6163300+01:00 0HMEP14JPI2CM:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 188.2865ms (791a596a)
2022-01-16T16:59:22.6188090+01:00 0HMEP14JPI2CN:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:22.6203100+01:00 0HMEP14JPI2CN:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:22.7035930+01:00 0HMEP14JPI2CN:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:59:22.7038560+01:00 0HMEP14JPI2CN:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 87.7417ms (afa2e885)
2022-01-16T16:59:22.7039360+01:00 0HMEP14JPI2CN:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:22.7042470+01:00 0HMEP14JPI2CN:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 91.3149ms (791a596a)
2022-01-16T16:59:22.7413280+01:00 0HMEP14JPI2CN:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T16:59:22.7421120+01:00 0HMEP14JPI2CN:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:22.7422220+01:00 0HMEP14JPI2CN:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:22.7423120+01:00 0HMEP14JPI2CN:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:22.7430780+01:00 0HMEP14JPI2CN:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:22.7442940+01:00 0HMEP14JPI2CN:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:22.7446660+01:00 0HMEP14JPI2CN:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T16:59:22.7448160+01:00 0HMEP14JPI2CN:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 2.4466ms (afa2e885)
2022-01-16T16:59:22.7448610+01:00 0HMEP14JPI2CN:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:22.7450560+01:00 0HMEP14JPI2CN:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 3.7479ms (791a596a)
2022-01-16T16:59:24.8352840+01:00 0HMEP14JPI2CN:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T16:59:24.8365370+01:00 0HMEP14JPI2CN:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:24.8366210+01:00 0HMEP14JPI2CN:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:24.8435050+01:00 0HMEP14JPI2CN:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:24.8558090+01:00 0HMEP14JPI2CN:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:24.8953240+01:00 0HMEP14JPI2CN:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:25.1702020+01:00 0HMEP14JPI2CN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:59:25.2104330+01:00 0HMEP14JPI2CN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T16:59:25.4091940+01:00 0HMEP14JPI2CN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T16:59:36.1256390+01:00 0HMEP14JPI2CN:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T16:59:36.1309250+01:00 0HMEP14JPI2CN:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11287.5904ms (afa2e885)
2022-01-16T16:59:36.1333060+01:00 0HMEP14JPI2CN:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:36.1465640+01:00 0HMEP14JPI2CN:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 11311.5827ms (791a596a)
2022-01-16T16:59:36.1503010+01:00 0HMEP14JPI2CN:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T16:59:36.1511380+01:00 0HMEP14JPI2CN:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T16:59:36.1512050+01:00 0HMEP14JPI2CN:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T16:59:36.1563840+01:00 0HMEP14JPI2CN:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T16:59:36.1604880+01:00 0HMEP14JPI2CN:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T16:59:36.1649260+01:00 0HMEP14JPI2CN:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T16:59:36.1950060+01:00 0HMEP14JPI2CN:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T16:59:36.2074480+01:00 0HMEP14JPI2CN:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T16:59:36.2302630+01:00 0HMEP14JPI2CN:00000005 [INF] Executed ViewResult - view "Index" executed in 24.3977ms. (f66409e9)
2022-01-16T16:59:36.2303460+01:00 0HMEP14JPI2CN:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 73.8917ms (afa2e885)
2022-01-16T16:59:36.2303950+01:00 0HMEP14JPI2CN:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T16:59:36.2308350+01:00 0HMEP14JPI2CN:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 80.3744ms (791a596a)
2022-01-16T17:02:12.7717770+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:13.1374720+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:02:13.3815940+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:02:13.3925650+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:02:13.5799040+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:13.6751170+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:02:13.6934070+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:13.6989530+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:02:13.7033800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:13.7036780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:02:13.7257060+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:02:13.7470100+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:13.8503530+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:14.0703280+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:02:14.0703830+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:02:14.0705180+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:02:14.0706100+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:02:14.0706420+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:02:20.8526550+01:00 0HMEP169SMB4D:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:02:21.0013330+01:00 0HMEP169SMB4D:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:21.0495020+01:00 0HMEP169SMB4D:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:21.0549280+01:00 0HMEP169SMB4D:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:02:21.0608930+01:00 0HMEP169SMB4D:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:21.0960160+01:00 0HMEP169SMB4D:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:02:21.1354220+01:00 0HMEP169SMB4D:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:02:21.2383750+01:00 0HMEP169SMB4D:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:02:21.3682410+01:00 0HMEP169SMB4D:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:02:21.6003150+01:00 0HMEP169SMB4D:00000002 [INF] Executed ViewResult - view "Index" executed in 365.4814ms. (f66409e9)
2022-01-16T17:02:21.6008910+01:00 0HMEP169SMB4D:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 550.4676ms (afa2e885)
2022-01-16T17:02:21.6016670+01:00 0HMEP169SMB4D:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:21.6112170+01:00 0HMEP169SMB4D:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 763.7451ms (791a596a)
2022-01-16T17:02:24.0192300+01:00 0HMEP169SMB4D:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:02:24.0384820+01:00 0HMEP169SMB4D:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:02:24.0398540+01:00 0HMEP169SMB4D:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:24.0608960+01:00 0HMEP169SMB4D:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:24.0849200+01:00 0HMEP169SMB4D:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:02:24.1191780+01:00 0HMEP169SMB4D:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:24.1316410+01:00 0HMEP169SMB4D:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:24.3268100+01:00 0HMEP169SMB4D:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:02:24.3466040+01:00 0HMEP169SMB4D:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 285.5626ms (afa2e885)
2022-01-16T17:02:24.3467370+01:00 0HMEP169SMB4D:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:24.3474010+01:00 0HMEP169SMB4D:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"bdc0640c-7574-a8e9-0387-740fdd3ccc73" (1d7cf8c0)
2022-01-16T17:02:24.3482290+01:00 0HMEP169SMB4D:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 329.0801ms (791a596a)
2022-01-16T17:02:24.8769730+01:00 0HMEP169SMB4D:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:02:24.9035430+01:00 0HMEP169SMB4D:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:02:24.9036690+01:00 0HMEP169SMB4D:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:24.9039560+01:00 0HMEP169SMB4D:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:24.9070990+01:00 0HMEP169SMB4D:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:24.9103630+01:00 0HMEP169SMB4D:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:24.9798780+01:00 0HMEP169SMB4D:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:02:24.9801840+01:00 0HMEP169SMB4D:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 76.1502ms (afa2e885)
2022-01-16T17:02:24.9802270+01:00 0HMEP169SMB4D:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:24.9805600+01:00 0HMEP169SMB4D:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 103.6971ms (791a596a)
2022-01-16T17:02:25.2038850+01:00 0HMEP169SMB4D:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:02:25.2052000+01:00 0HMEP169SMB4D:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:02:25.2053860+01:00 0HMEP169SMB4D:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:25.2054860+01:00 0HMEP169SMB4D:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:25.2064680+01:00 0HMEP169SMB4D:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:25.2077880+01:00 0HMEP169SMB4D:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:25.2086140+01:00 0HMEP169SMB4D:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:02:25.2087700+01:00 0HMEP169SMB4D:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.2431ms (afa2e885)
2022-01-16T17:02:25.2088110+01:00 0HMEP169SMB4D:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:25.2089890+01:00 0HMEP169SMB4D:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.1252ms (791a596a)
2022-01-16T17:02:27.4807650+01:00 0HMEP169SMB4D:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:02:27.4819640+01:00 0HMEP169SMB4D:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:02:27.4820430+01:00 0HMEP169SMB4D:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:27.4917810+01:00 0HMEP169SMB4D:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:27.5022110+01:00 0HMEP169SMB4D:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:27.5406830+01:00 0HMEP169SMB4D:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:27.8666680+01:00 0HMEP169SMB4D:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:02:27.9149660+01:00 0HMEP169SMB4D:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:02:27.9176940+01:00 0HMEP169SMB4D:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:02:28.1253470+01:00 0HMEP169SMB4D:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:02:36.6646950+01:00 0HMEP169SMB4D:00000006 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:02:36.6708750+01:00 0HMEP169SMB4D:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9179.2165ms (afa2e885)
2022-01-16T17:02:36.6734980+01:00 0HMEP169SMB4D:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:36.6846670+01:00 0HMEP169SMB4D:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9204.1357ms (791a596a)
2022-01-16T17:02:36.6881100+01:00 0HMEP169SMB4D:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:02:36.6889620+01:00 0HMEP169SMB4D:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:02:36.6890350+01:00 0HMEP169SMB4D:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:02:36.6941790+01:00 0HMEP169SMB4D:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:02:36.6987480+01:00 0HMEP169SMB4D:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:02:36.7020820+01:00 0HMEP169SMB4D:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:02:36.7304730+01:00 0HMEP169SMB4D:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:02:36.7429140+01:00 0HMEP169SMB4D:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:02:36.7711020+01:00 0HMEP169SMB4D:00000007 [INF] Executed ViewResult - view "Index" executed in 30.1097ms. (f66409e9)
2022-01-16T17:02:36.7712310+01:00 0HMEP169SMB4D:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 76.9805ms (afa2e885)
2022-01-16T17:02:36.7712850+01:00 0HMEP169SMB4D:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:02:36.7716710+01:00 0HMEP169SMB4D:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.5627ms (791a596a)
2022-01-16T17:06:03.1843210+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:06:03.8664510+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:06:04.1911500+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:06:04.2016690+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:06:04.4360050+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:04.5460290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:06:04.5648250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:04.5653220+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:06:04.5679920+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:04.5681930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:06:04.5889100+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:06:04.6069270+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:04.7043330+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:04.9527540+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:06:04.9528280+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:06:04.9530150+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:06:04.9530510+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:06:04.9530780+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:06:06.0324500+01:00 0HMEP18D0LGHR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:06:06.1078790+01:00 0HMEP18D0LGHR:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:06:06.1311160+01:00 0HMEP18D0LGHR:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:06:06.1346140+01:00 0HMEP18D0LGHR:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:06:06.1375600+01:00 0HMEP18D0LGHR:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:06:06.1532520+01:00 0HMEP18D0LGHR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:06:06.1757950+01:00 0HMEP18D0LGHR:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:06:06.2260730+01:00 0HMEP18D0LGHR:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:06:06.3062860+01:00 0HMEP18D0LGHR:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:06:06.4978200+01:00 0HMEP18D0LGHR:00000002 [INF] Executed ViewResult - view "Index" executed in 269.7823ms. (f66409e9)
2022-01-16T17:06:06.4985810+01:00 0HMEP18D0LGHR:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 366.6079ms (afa2e885)
2022-01-16T17:06:06.4994190+01:00 0HMEP18D0LGHR:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:06:06.5074450+01:00 0HMEP18D0LGHR:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 479.2056ms (791a596a)
2022-01-16T17:06:08.8554320+01:00 0HMEP18D0LGHR:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:06:08.8756010+01:00 0HMEP18D0LGHR:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:06:08.8766950+01:00 0HMEP18D0LGHR:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:06:08.8965370+01:00 0HMEP18D0LGHR:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:06:08.9258450+01:00 0HMEP18D0LGHR:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:06:08.9594010+01:00 0HMEP18D0LGHR:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:06:08.9690630+01:00 0HMEP18D0LGHR:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:09.1381430+01:00 0HMEP18D0LGHR:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:06:09.1554740+01:00 0HMEP18D0LGHR:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 258.7857ms (afa2e885)
2022-01-16T17:06:09.1555520+01:00 0HMEP18D0LGHR:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:06:09.1563180+01:00 0HMEP18D0LGHR:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c778a0e0-eab5-b67a-04e0-b4684ab0bfc4" (1d7cf8c0)
2022-01-16T17:06:09.1571940+01:00 0HMEP18D0LGHR:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 301.8862ms (791a596a)
2022-01-16T17:06:11.3553040+01:00 0HMEP18D0LGHR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:06:11.3816010+01:00 0HMEP18D0LGHR:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:06:11.3818010+01:00 0HMEP18D0LGHR:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:06:11.3896330+01:00 0HMEP18D0LGHR:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:06:11.4612170+01:00 0HMEP18D0LGHR:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:06:11.4895050+01:00 0HMEP18D0LGHR:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:11.8072090+01:00 0HMEP18D0LGHR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:06:11.8602630+01:00 0HMEP18D0LGHR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:06:12.0918860+01:00 0HMEP18D0LGHR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:06:22.4629580+01:00 0HMEP18D0LGHR:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:06:22.4683920+01:00 0HMEP18D0LGHR:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11078.9933ms (afa2e885)
2022-01-16T17:06:22.4707250+01:00 0HMEP18D0LGHR:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:06:22.4836420+01:00 0HMEP18D0LGHR:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 11128.6722ms (791a596a)
2022-01-16T17:06:22.4870640+01:00 0HMEP18D0LGHR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:06:22.4890700+01:00 0HMEP18D0LGHR:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:06:22.4894010+01:00 0HMEP18D0LGHR:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:06:22.4944130+01:00 0HMEP18D0LGHR:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:06:22.4995780+01:00 0HMEP18D0LGHR:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:06:22.5038190+01:00 0HMEP18D0LGHR:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:06:22.5315480+01:00 0HMEP18D0LGHR:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:06:22.5445750+01:00 0HMEP18D0LGHR:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:06:22.5836110+01:00 0HMEP18D0LGHR:00000005 [INF] Executed ViewResult - view "Index" executed in 42.5272ms. (f66409e9)
2022-01-16T17:06:22.5837740+01:00 0HMEP18D0LGHR:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 89.2275ms (afa2e885)
2022-01-16T17:06:22.5838520+01:00 0HMEP18D0LGHR:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:06:22.5841370+01:00 0HMEP18D0LGHR:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 97.1070ms (791a596a)
2022-01-16T17:07:33.3527330+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:07:33.8458320+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:07:34.1227820+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:07:34.1320880+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:07:34.3819260+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:07:34.5021430+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:07:34.5381150+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:07:34.5494470+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:07:34.5570720+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:07:34.5576760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:07:34.6019470+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:07:34.6373110+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:07:34.7602140+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:07:35.0487860+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:07:35.0488530+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:07:35.0490230+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:07:35.0490660+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:07:35.0491070+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:08:10.4454940+01:00 0HMEP19I34KQR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:08:10.5251990+01:00 0HMEP19I34KQR:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:08:10.5435300+01:00 0HMEP19I34KQR:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:08:10.5455300+01:00 0HMEP19I34KQR:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:08:10.5474630+01:00 0HMEP19I34KQR:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:08:10.5593180+01:00 0HMEP19I34KQR:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:08:10.5760920+01:00 0HMEP19I34KQR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:08:10.6201910+01:00 0HMEP19I34KQR:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:08:10.6868270+01:00 0HMEP19I34KQR:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:08:10.8658630+01:00 0HMEP19I34KQR:00000002 [INF] Executed ViewResult - view "Index" executed in 242.177ms. (f66409e9)
2022-01-16T17:08:10.8666980+01:00 0HMEP19I34KQR:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 322.4433ms (afa2e885)
2022-01-16T17:08:10.8675550+01:00 0HMEP19I34KQR:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:08:10.8742700+01:00 0HMEP19I34KQR:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 431.2649ms (791a596a)
2022-01-16T17:08:12.7174550+01:00 0HMEP19I34KQR:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:08:12.7380020+01:00 0HMEP19I34KQR:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:08:12.7390000+01:00 0HMEP19I34KQR:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:08:12.7591250+01:00 0HMEP19I34KQR:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:08:12.7872230+01:00 0HMEP19I34KQR:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:08:12.8224890+01:00 0HMEP19I34KQR:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:08:12.8323780+01:00 0HMEP19I34KQR:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:08:12.9945780+01:00 0HMEP19I34KQR:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:08:13.0189450+01:00 0HMEP19I34KQR:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 259.6576ms (afa2e885)
2022-01-16T17:08:13.0190520+01:00 0HMEP19I34KQR:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:08:13.0199250+01:00 0HMEP19I34KQR:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"2bde5e30-0134-1ac2-5a02-acba47912121" (1d7cf8c0)
2022-01-16T17:08:13.0208060+01:00 0HMEP19I34KQR:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 303.4092ms (791a596a)
2022-01-16T17:08:14.3387560+01:00 0HMEP19I34KQR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:08:14.3670890+01:00 0HMEP19I34KQR:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:08:14.3673030+01:00 0HMEP19I34KQR:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:08:14.3738830+01:00 0HMEP19I34KQR:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:08:14.4471680+01:00 0HMEP19I34KQR:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:08:14.4774280+01:00 0HMEP19I34KQR:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:08:14.7571540+01:00 0HMEP19I34KQR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:08:14.8029650+01:00 0HMEP19I34KQR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:08:15.0316120+01:00 0HMEP19I34KQR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:08:26.1974350+01:00 0HMEP19I34KQR:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:08:26.2031830+01:00 0HMEP19I34KQR:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11829.5151ms (afa2e885)
2022-01-16T17:08:26.2060250+01:00 0HMEP19I34KQR:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:08:26.2230330+01:00 0HMEP19I34KQR:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 11884.5619ms (791a596a)
2022-01-16T17:08:26.2268350+01:00 0HMEP19I34KQR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:08:26.2291420+01:00 0HMEP19I34KQR:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:08:26.2295550+01:00 0HMEP19I34KQR:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:08:26.2357850+01:00 0HMEP19I34KQR:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:08:26.2407520+01:00 0HMEP19I34KQR:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:08:26.2447610+01:00 0HMEP19I34KQR:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:08:26.2712300+01:00 0HMEP19I34KQR:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:08:26.2832470+01:00 0HMEP19I34KQR:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:08:26.3097560+01:00 0HMEP19I34KQR:00000005 [INF] Executed ViewResult - view "Index" executed in 28.1374ms. (f66409e9)
2022-01-16T17:08:26.3099390+01:00 0HMEP19I34KQR:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 74.0648ms (afa2e885)
2022-01-16T17:08:26.3099840+01:00 0HMEP19I34KQR:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:08:26.3102900+01:00 0HMEP19I34KQR:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.4779ms (791a596a)
2022-01-16T17:12:26.0477610+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:12:26.5157640+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:12:26.8548800+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:12:26.8683390+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:12:27.1899110+01:00  [INF] Executed DbCommand ("70"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:27.3154710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:12:27.3382500+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:27.3392520+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:12:27.3426340+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:27.3429030+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:12:27.3759700+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:12:27.4018060+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:27.5005560+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:27.7747490+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:12:27.7748500+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:12:27.7751730+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:12:27.7752500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:12:27.7754430+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:12:35.7773470+01:00 0HMEP1C15J32E:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:12:35.8481130+01:00 0HMEP1C15J32E:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:12:35.8668790+01:00 0HMEP1C15J32E:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:12:35.8694770+01:00 0HMEP1C15J32E:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:12:35.8723660+01:00 0HMEP1C15J32E:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:12:35.8841780+01:00 0HMEP1C15J32E:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:12:35.8998120+01:00 0HMEP1C15J32E:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:12:35.9568710+01:00 0HMEP1C15J32E:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:12:36.0291090+01:00 0HMEP1C15J32E:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:12:36.2398840+01:00 0HMEP1C15J32E:00000002 [INF] Executed ViewResult - view "Index" executed in 277.9937ms. (f66409e9)
2022-01-16T17:12:36.2407560+01:00 0HMEP1C15J32E:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 372.9314ms (afa2e885)
2022-01-16T17:12:36.2419590+01:00 0HMEP1C15J32E:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:12:36.2507950+01:00 0HMEP1C15J32E:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 475.9994ms (791a596a)
2022-01-16T17:12:39.1879900+01:00 0HMEP1C15J32E:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:12:39.2088450+01:00 0HMEP1C15J32E:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:12:39.2104540+01:00 0HMEP1C15J32E:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:12:39.2294670+01:00 0HMEP1C15J32E:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:12:39.2572660+01:00 0HMEP1C15J32E:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:12:39.2909060+01:00 0HMEP1C15J32E:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:12:39.3015840+01:00 0HMEP1C15J32E:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:39.4534340+01:00 0HMEP1C15J32E:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:12:39.4663320+01:00 0HMEP1C15J32E:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 236.7191ms (afa2e885)
2022-01-16T17:12:39.4664000+01:00 0HMEP1C15J32E:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:12:39.4669060+01:00 0HMEP1C15J32E:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1b4a6009-a669-0595-21d2-9360c0d90a09" (1d7cf8c0)
2022-01-16T17:12:39.4676370+01:00 0HMEP1C15J32E:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 279.8016ms (791a596a)
2022-01-16T17:12:42.1081400+01:00 0HMEP1C15J32E:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:12:42.1378060+01:00 0HMEP1C15J32E:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:12:42.1380580+01:00 0HMEP1C15J32E:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:12:42.1455270+01:00 0HMEP1C15J32E:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:12:42.2127260+01:00 0HMEP1C15J32E:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:12:42.2409200+01:00 0HMEP1C15J32E:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:42.5380420+01:00 0HMEP1C15J32E:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:12:42.5968050+01:00 0HMEP1C15J32E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:12:42.8745110+01:00 0HMEP1C15J32E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:12:53.5867770+01:00 0HMEP1C15J32E:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:12:53.5910930+01:00 0HMEP1C15J32E:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 11445.8074ms (afa2e885)
2022-01-16T17:12:53.5935330+01:00 0HMEP1C15J32E:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:12:53.6103910+01:00 0HMEP1C15J32E:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 11502.6022ms (791a596a)
2022-01-16T17:12:53.6180480+01:00 0HMEP1C15J32E:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:12:53.6210320+01:00 0HMEP1C15J32E:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:12:53.6217170+01:00 0HMEP1C15J32E:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:12:53.6273420+01:00 0HMEP1C15J32E:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:12:53.6332850+01:00 0HMEP1C15J32E:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:12:53.6405950+01:00 0HMEP1C15J32E:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:12:53.7142230+01:00 0HMEP1C15J32E:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:12:53.7494990+01:00 0HMEP1C15J32E:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:12:53.8031240+01:00 0HMEP1C15J32E:00000005 [INF] Executed ViewResult - view "Index" executed in 59.7995ms. (f66409e9)
2022-01-16T17:12:53.8032940+01:00 0HMEP1C15J32E:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 175.8324ms (afa2e885)
2022-01-16T17:12:53.8033980+01:00 0HMEP1C15J32E:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:12:53.8037900+01:00 0HMEP1C15J32E:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 185.7848ms (791a596a)
2022-01-16T17:14:41.9817430+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:44.0793830+01:00  [INF] Executed DbCommand ("97"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:14:44.5177940+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:14:44.5322460+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:14:44.8406960+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:44.9372800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:14:44.9608670+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:44.9693080+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:14:44.9750550+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:44.9754490+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:14:45.0277680+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:14:45.1008660+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:45.2739500+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:45.7315290+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:14:45.7317340+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:14:45.7321460+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:14:45.7322500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:14:45.7323160+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:14:46.1038060+01:00 0HMEP1D800ILA:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:14:46.1984290+01:00 0HMEP1D800ILA:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:14:46.2203700+01:00 0HMEP1D800ILA:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:14:46.2235050+01:00 0HMEP1D800ILA:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:14:46.2261330+01:00 0HMEP1D800ILA:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:46.2434610+01:00 0HMEP1D800ILA:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:14:46.2640740+01:00 0HMEP1D800ILA:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:14:46.3228860+01:00 0HMEP1D800ILA:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:14:46.4228130+01:00 0HMEP1D800ILA:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:14:46.6572750+01:00 0HMEP1D800ILA:00000002 [INF] Executed ViewResult - view "Index" executed in 333.1588ms. (f66409e9)
2022-01-16T17:14:46.6580940+01:00 0HMEP1D800ILA:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 437.0084ms (afa2e885)
2022-01-16T17:14:46.6590180+01:00 0HMEP1D800ILA:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:14:46.6699870+01:00 0HMEP1D800ILA:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 570.9832ms (791a596a)
2022-01-16T17:14:52.9348320+01:00 0HMEP1D800ILA:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:14:52.9570660+01:00 0HMEP1D800ILA:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:14:52.9585210+01:00 0HMEP1D800ILA:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:14:52.9801710+01:00 0HMEP1D800ILA:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:14:53.0098170+01:00 0HMEP1D800ILA:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:14:53.0558060+01:00 0HMEP1D800ILA:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:53.0706700+01:00 0HMEP1D800ILA:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:53.1672650+01:00 0HMEP1D800IL9:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:14:53.1888290+01:00 0HMEP1D800IL9:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:14:53.1891380+01:00 0HMEP1D800IL9:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:14:53.1894340+01:00 0HMEP1D800IL9:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:14:53.1909610+01:00 0HMEP1D800IL9:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:14:53.1914880+01:00 0HMEP1D800IL9:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:53.1937580+01:00 0HMEP1D800IL9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:53.3215100+01:00 0HMEP1D800IL9:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:14:53.3215100+01:00 0HMEP1D800ILA:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:14:53.3427890+01:00 0HMEP1D800ILA:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 362.536ms (afa2e885)
2022-01-16T17:14:53.3427810+01:00 0HMEP1D800IL9:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 153.2375ms (afa2e885)
2022-01-16T17:14:53.3428660+01:00 0HMEP1D800IL9:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:14:53.3428790+01:00 0HMEP1D800ILA:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:14:53.3437490+01:00 0HMEP1D800ILA:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"7d6df86e-091c-91d3-ba54-cc1799a9a588" (1d7cf8c0)
2022-01-16T17:14:53.3437490+01:00 0HMEP1D800IL9:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c672beb3-b4eb-6a7d-a3cf-0c417749e8f2" (1d7cf8c0)
2022-01-16T17:14:53.3450630+01:00 0HMEP1D800ILA:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 410.3452ms (791a596a)
2022-01-16T17:14:53.3450620+01:00 0HMEP1D800IL9:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 177.7770ms (791a596a)
2022-01-16T17:14:53.4477130+01:00 0HMEP1D800IL9:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:14:53.4497350+01:00 0HMEP1D800IL9:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:14:53.4501040+01:00 0HMEP1D800IL9:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:14:53.4502620+01:00 0HMEP1D800IL9:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:14:53.4523130+01:00 0HMEP1D800IL9:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:53.4543490+01:00 0HMEP1D800IL9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:53.5362110+01:00 0HMEP1D800IL9:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:14:53.5364920+01:00 0HMEP1D800IL9:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.1635ms (afa2e885)
2022-01-16T17:14:53.5365410+01:00 0HMEP1D800IL9:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:14:53.5371200+01:00 0HMEP1D800IL9:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 89.1468ms (791a596a)
2022-01-16T17:14:55.2729070+01:00 0HMEP1D800IL9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:14:55.2744620+01:00 0HMEP1D800IL9:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:14:55.2745550+01:00 0HMEP1D800IL9:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:14:55.2815040+01:00 0HMEP1D800IL9:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:14:55.2949030+01:00 0HMEP1D800IL9:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:14:55.3336510+01:00 0HMEP1D800IL9:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:14:55.7019240+01:00 0HMEP1D800IL9:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:14:55.7713060+01:00 0HMEP1D800IL9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:14:55.9884550+01:00 0HMEP1D800IL9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:15:05.7290440+01:00 0HMEP1D800IL9:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:15:05.7325770+01:00 0HMEP1D800IL9:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 10451.2839ms (afa2e885)
2022-01-16T17:15:05.7340540+01:00 0HMEP1D800IL9:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:15:05.7427340+01:00 0HMEP1D800IL9:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 10470.1128ms (791a596a)
2022-01-16T17:15:05.7461820+01:00 0HMEP1D800IL9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:15:05.7472950+01:00 0HMEP1D800IL9:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:15:05.7473840+01:00 0HMEP1D800IL9:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:15:05.7534500+01:00 0HMEP1D800IL9:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:15:05.7575460+01:00 0HMEP1D800IL9:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:15:05.7609980+01:00 0HMEP1D800IL9:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:15:05.7932180+01:00 0HMEP1D800IL9:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:15:05.8051280+01:00 0HMEP1D800IL9:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:15:05.8318150+01:00 0HMEP1D800IL9:00000005 [INF] Executed ViewResult - view "Index" executed in 28.3847ms. (f66409e9)
2022-01-16T17:15:05.8319340+01:00 0HMEP1D800IL9:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 78.3931ms (afa2e885)
2022-01-16T17:15:05.8320910+01:00 0HMEP1D800IL9:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:15:05.8324570+01:00 0HMEP1D800IL9:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 86.3084ms (791a596a)
2022-01-16T17:16:04.3435850+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:04.7677140+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:16:05.0250030+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:16:05.0322470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:16:05.2388150+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:05.3308100+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:16:05.3644200+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:05.3751730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:16:05.3802560+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:05.3805720+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:16:05.4027100+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:16:05.4210900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:05.5072720+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:05.7274110+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:16:05.7274760+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:16:05.7276610+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:16:05.7277070+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:16:05.7277390+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:16:08.8378500+01:00 0HMEP1E0LCPJG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:16:08.9172420+01:00 0HMEP1E0LCPJG:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:08.9367200+01:00 0HMEP1E0LCPJG:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:08.9403230+01:00 0HMEP1E0LCPJG:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:16:08.9431510+01:00 0HMEP1E0LCPJG:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:08.9581440+01:00 0HMEP1E0LCPJG:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:16:08.9800520+01:00 0HMEP1E0LCPJG:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:16:09.0419150+01:00 0HMEP1E0LCPJG:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:16:09.1289220+01:00 0HMEP1E0LCPJG:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:16:09.3425250+01:00 0HMEP1E0LCPJG:00000002 [INF] Executed ViewResult - view "Index" executed in 297.5907ms. (f66409e9)
2022-01-16T17:16:09.3433700+01:00 0HMEP1E0LCPJG:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 405.7019ms (afa2e885)
2022-01-16T17:16:09.3445820+01:00 0HMEP1E0LCPJG:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:09.3547510+01:00 0HMEP1E0LCPJG:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 520.7611ms (791a596a)
2022-01-16T17:16:10.7332490+01:00 0HMEP1E0LCPJG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:16:10.7373800+01:00 0HMEP1E0LCPJG:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:10.7377140+01:00 0HMEP1E0LCPJG:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:10.7387350+01:00 0HMEP1E0LCPJG:00000003 [INF] Index viewed (84b92a55)
2022-01-16T17:16:10.7908610+01:00 0HMEP1E0LCPJG:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:10.7934690+01:00 0HMEP1E0LCPJG:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:16:10.7944530+01:00 0HMEP1E0LCPJG:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:16:10.7949090+01:00 0HMEP1E0LCPJG:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:16:10.7959650+01:00 0HMEP1E0LCPJG:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:16:10.7994490+01:00 0HMEP1E0LCPJG:00000003 [INF] Executed ViewResult - view "Index" executed in 4.5517ms. (f66409e9)
2022-01-16T17:16:10.7995790+01:00 0HMEP1E0LCPJG:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 61.8025ms (afa2e885)
2022-01-16T17:16:10.7996180+01:00 0HMEP1E0LCPJG:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:10.7999110+01:00 0HMEP1E0LCPJG:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 66.7279ms (791a596a)
2022-01-16T17:16:12.7695010+01:00 0HMEP1E0LCPJG:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:16:12.8069220+01:00 0HMEP1E0LCPJG:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:16:12.8081460+01:00 0HMEP1E0LCPJG:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:12.8260930+01:00 0HMEP1E0LCPJG:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:12.8511190+01:00 0HMEP1E0LCPJG:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:16:12.8520060+01:00 0HMEP1E0LCPJG:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:12.8618100+01:00 0HMEP1E0LCPJG:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:12.9632730+01:00 0HMEP1E0LCPJF:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:16:12.9686210+01:00 0HMEP1E0LCPJF:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:16:12.9687190+01:00 0HMEP1E0LCPJF:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:12.9688390+01:00 0HMEP1E0LCPJF:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:12.9696770+01:00 0HMEP1E0LCPJF:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:16:12.9700040+01:00 0HMEP1E0LCPJF:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:12.9714780+01:00 0HMEP1E0LCPJF:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:13.0723470+01:00 0HMEP1E0LCPJF:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:16:13.0723590+01:00 0HMEP1E0LCPJG:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:16:13.0922240+01:00 0HMEP1E0LCPJF:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 123.3021ms (afa2e885)
2022-01-16T17:16:13.0922250+01:00 0HMEP1E0LCPJG:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 265.9888ms (afa2e885)
2022-01-16T17:16:13.0923260+01:00 0HMEP1E0LCPJF:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:13.0923500+01:00 0HMEP1E0LCPJG:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:13.0930090+01:00 0HMEP1E0LCPJF:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"e0bdd80f-42d9-656e-152c-4fde39dc1d45" (1d7cf8c0)
2022-01-16T17:16:13.0930090+01:00 0HMEP1E0LCPJG:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"54945002-8036-7ad8-d126-db4ddf604213" (1d7cf8c0)
2022-01-16T17:16:13.0940900+01:00 0HMEP1E0LCPJF:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 130.8301ms (791a596a)
2022-01-16T17:16:13.0940950+01:00 0HMEP1E0LCPJG:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 324.6463ms (791a596a)
2022-01-16T17:16:16.5764130+01:00 0HMEP1E0LCPJG:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:16:16.5792280+01:00 0HMEP1E0LCPJG:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:16:16.5800490+01:00 0HMEP1E0LCPJG:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:16.5883560+01:00 0HMEP1E0LCPJG:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:16.6695770+01:00 0HMEP1E0LCPJG:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:16.7015920+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:17.0135600+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:16:17.0769430+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:16:17.2779770+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:16:26.0938360+01:00 0HMEP1E0LCPJG:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:16:26.1026800+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9514.4534ms (afa2e885)
2022-01-16T17:16:26.1069650+01:00 0HMEP1E0LCPJG:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:26.1150790+01:00 0HMEP1E0LCPJG:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9538.9786ms (791a596a)
2022-01-16T17:16:26.1175100+01:00 0HMEP1E0LCPJG:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:16:26.1182020+01:00 0HMEP1E0LCPJG:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:16:26.1182610+01:00 0HMEP1E0LCPJG:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:16:26.1229180+01:00 0HMEP1E0LCPJG:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:16:26.1255140+01:00 0HMEP1E0LCPJG:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:16:26.1277290+01:00 0HMEP1E0LCPJG:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:16:26.1517290+01:00 0HMEP1E0LCPJG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:16:26.1642660+01:00 0HMEP1E0LCPJG:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:16:26.1921780+01:00 0HMEP1E0LCPJG:00000006 [INF] Executed ViewResult - view "Index" executed in 29.5501ms. (f66409e9)
2022-01-16T17:16:26.1923370+01:00 0HMEP1E0LCPJG:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 69.3446ms (afa2e885)
2022-01-16T17:16:26.1924270+01:00 0HMEP1E0LCPJG:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:16:26.1927700+01:00 0HMEP1E0LCPJG:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 75.2936ms (791a596a)
2022-01-16T17:18:29.1323620+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:18:29.5166840+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:18:29.7497150+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:18:29.7586910+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:18:29.9289190+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:30.0023590+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:18:30.0255520+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:30.0325710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:18:30.0377060+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:30.0380400+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:18:30.0585680+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:18:30.0774790+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:30.1569880+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:30.3519980+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:18:30.3520770+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:18:30.3522620+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:18:30.3524290+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:18:30.3524740+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:18:39.7862780+01:00 0HMEP1FDL1GA8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:18:39.8592970+01:00 0HMEP1FDL1GA8:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:18:39.8792180+01:00 0HMEP1FDL1GA8:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:18:39.8815270+01:00 0HMEP1FDL1GA8:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:18:39.8839440+01:00 0HMEP1FDL1GA8:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:18:39.8982290+01:00 0HMEP1FDL1GA8:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:18:39.9160100+01:00 0HMEP1FDL1GA8:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:18:39.9651390+01:00 0HMEP1FDL1GA8:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:18:40.0471020+01:00 0HMEP1FDL1GA8:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:18:40.2542540+01:00 0HMEP1FDL1GA8:00000002 [INF] Executed ViewResult - view "Index" executed in 285.9271ms. (f66409e9)
2022-01-16T17:18:40.2549200+01:00 0HMEP1FDL1GA8:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 375.0561ms (afa2e885)
2022-01-16T17:18:40.2560300+01:00 0HMEP1FDL1GA8:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:18:40.2672950+01:00 0HMEP1FDL1GA8:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 483.2606ms (791a596a)
2022-01-16T17:18:45.7627150+01:00 0HMEP1FDL1GA8:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:18:45.7828040+01:00 0HMEP1FDL1GA8:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:18:45.7838640+01:00 0HMEP1FDL1GA8:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:18:45.8028300+01:00 0HMEP1FDL1GA8:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:18:45.8282920+01:00 0HMEP1FDL1GA8:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:18:45.8619630+01:00 0HMEP1FDL1GA8:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:18:45.8711330+01:00 0HMEP1FDL1GA8:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:46.0237170+01:00 0HMEP1FDL1GA8:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:18:46.0366070+01:00 0HMEP1FDL1GA8:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 233.6667ms (afa2e885)
2022-01-16T17:18:46.0366800+01:00 0HMEP1FDL1GA8:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:18:46.0375950+01:00 0HMEP1FDL1GA8:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1c4af909-802e-b26b-f9d4-de3de8479fb2" (1d7cf8c0)
2022-01-16T17:18:46.0387570+01:00 0HMEP1FDL1GA8:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 276.1318ms (791a596a)
2022-01-16T17:18:47.8019570+01:00 0HMEP1FDL1GA8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:18:47.8294430+01:00 0HMEP1FDL1GA8:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:18:47.8296040+01:00 0HMEP1FDL1GA8:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:18:47.8360380+01:00 0HMEP1FDL1GA8:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:18:47.9077900+01:00 0HMEP1FDL1GA8:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:18:47.9373730+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:48.2146330+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:18:48.2597830+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:18:48.4628060+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:18:58.5719100+01:00 0HMEP1FDL1GA8:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:18:58.5769000+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 10741.0847ms (afa2e885)
2022-01-16T17:18:58.5791480+01:00 0HMEP1FDL1GA8:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:18:58.5919720+01:00 0HMEP1FDL1GA8:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 10790.5711ms (791a596a)
2022-01-16T17:18:58.5957650+01:00 0HMEP1FDL1GA8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:18:58.5991290+01:00 0HMEP1FDL1GA8:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:18:58.5997330+01:00 0HMEP1FDL1GA8:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:18:58.6063280+01:00 0HMEP1FDL1GA8:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:18:58.6112880+01:00 0HMEP1FDL1GA8:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:18:58.6158460+01:00 0HMEP1FDL1GA8:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:18:58.6432700+01:00 0HMEP1FDL1GA8:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:18:58.6582750+01:00 0HMEP1FDL1GA8:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:18:58.7280900+01:00 0HMEP1FDL1GA8:00000005 [INF] Executed ViewResult - view "Index" executed in 72.0509ms. (f66409e9)
2022-01-16T17:18:58.7312640+01:00 0HMEP1FDL1GA8:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 124.7911ms (afa2e885)
2022-01-16T17:18:58.7313740+01:00 0HMEP1FDL1GA8:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:18:58.7317230+01:00 0HMEP1FDL1GA8:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 135.9591ms (791a596a)
2022-01-16T17:20:24.7265310+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:20:25.2937930+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:20:25.5927960+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:20:25.6005750+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:20:25.8007010+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:25.9136740+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:20:25.9548330+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:25.9641250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:20:25.9706270+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:25.9710030+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:20:26.0018350+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:20:26.0230700+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:26.1349120+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:26.4656320+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:20:26.4657230+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:20:26.4659940+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:20:26.4661190+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:20:26.4662300+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:20:29.0057980+01:00 0HMEP1GE6KQM6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:20:29.0783870+01:00 0HMEP1GE6KQM6:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:20:29.0972820+01:00 0HMEP1GE6KQM6:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:20:29.0996250+01:00 0HMEP1GE6KQM6:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:20:29.1024760+01:00 0HMEP1GE6KQM6:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:20:29.1192530+01:00 0HMEP1GE6KQM6:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:20:29.1345820+01:00 0HMEP1GE6KQM6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:20:29.1787800+01:00 0HMEP1GE6KQM6:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:20:29.2529910+01:00 0HMEP1GE6KQM6:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:20:29.4639530+01:00 0HMEP1GE6KQM6:00000002 [INF] Executed ViewResult - view "Index" executed in 282.3227ms. (f66409e9)
2022-01-16T17:20:29.4645790+01:00 0HMEP1GE6KQM6:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 366.6502ms (afa2e885)
2022-01-16T17:20:29.4653130+01:00 0HMEP1GE6KQM6:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:20:29.4720790+01:00 0HMEP1GE6KQM6:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 470.8619ms (791a596a)
2022-01-16T17:20:32.3346610+01:00 0HMEP1GE6KQM6:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:20:32.3585280+01:00 0HMEP1GE6KQM6:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:20:32.3597010+01:00 0HMEP1GE6KQM6:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:20:32.3796680+01:00 0HMEP1GE6KQM6:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:20:32.4073340+01:00 0HMEP1GE6KQM6:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:20:32.4408380+01:00 0HMEP1GE6KQM6:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:20:32.4516380+01:00 0HMEP1GE6KQM6:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:32.6144780+01:00 0HMEP1GE6KQM6:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:20:32.6318900+01:00 0HMEP1GE6KQM6:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 252.0924ms (afa2e885)
2022-01-16T17:20:32.6321370+01:00 0HMEP1GE6KQM6:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:20:32.6331040+01:00 0HMEP1GE6KQM6:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"11899120-f7bf-8165-5bc6-35b6b63ca613" (1d7cf8c0)
2022-01-16T17:20:32.6347390+01:00 0HMEP1GE6KQM6:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 300.1355ms (791a596a)
2022-01-16T17:20:34.6468880+01:00 0HMEP1GE6KQM6:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:20:34.6739610+01:00 0HMEP1GE6KQM6:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:20:34.6741050+01:00 0HMEP1GE6KQM6:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:20:34.6807450+01:00 0HMEP1GE6KQM6:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:20:34.7534840+01:00 0HMEP1GE6KQM6:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:20:34.7815380+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:35.0519920+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:20:35.0914930+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:20:35.3021280+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:20:44.0761370+01:00 0HMEP1GE6KQM6:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:20:44.0819920+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9401.4115ms (afa2e885)
2022-01-16T17:20:44.0842040+01:00 0HMEP1GE6KQM6:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:20:44.0959390+01:00 0HMEP1GE6KQM6:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9449.3312ms (791a596a)
2022-01-16T17:20:44.0990220+01:00 0HMEP1GE6KQM6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:20:44.1009340+01:00 0HMEP1GE6KQM6:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:20:44.1012390+01:00 0HMEP1GE6KQM6:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:20:44.1065140+01:00 0HMEP1GE6KQM6:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:20:44.1115690+01:00 0HMEP1GE6KQM6:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:20:44.1146690+01:00 0HMEP1GE6KQM6:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:20:44.1368290+01:00 0HMEP1GE6KQM6:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:20:44.1540150+01:00 0HMEP1GE6KQM6:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:20:44.2052650+01:00 0HMEP1GE6KQM6:00000005 [INF] Executed ViewResult - view "Index" executed in 54.9999ms. (f66409e9)
2022-01-16T17:20:44.2053760+01:00 0HMEP1GE6KQM6:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 98.7802ms (afa2e885)
2022-01-16T17:20:44.2054310+01:00 0HMEP1GE6KQM6:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:20:44.2057400+01:00 0HMEP1GE6KQM6:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 106.6979ms (791a596a)
2022-01-16T17:22:21.2170910+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:22:21.7145200+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:22:21.9220820+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:22:21.9322890+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:22:22.1150090+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:22.1979720+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:22:22.2139850+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:22.2143810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:22:22.2169970+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:22.2171520+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:22:22.2339500+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:22:22.2502400+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:22.4066710+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:22.6521890+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:22:22.6523090+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:22:22.6525640+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:22:22.6526310+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:22:22.6527390+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:22:23.3086380+01:00 0HMEP1HG8O0G0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:22:23.3880900+01:00 0HMEP1HG8O0G0:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:22:23.3894830+01:00 0HMEP1HG8O0G0:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:22:23.4106030+01:00 0HMEP1HG8O0G0:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:22:23.4181920+01:00 0HMEP1HG8O0G0:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:22:23.4572220+01:00 0HMEP1HG8O0G0:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:22:23.6311370+01:00 0HMEP1HG8O0G0:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:22:23.7626950+01:00 0HMEP1HG8O0G0:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:22:23.9022850+01:00 0HMEP1HG8O0G0:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:22:24.0794320+01:00 0HMEP1HG8O0G0:00000002 [INF] Executed ViewResult - view "Index" executed in 313.1872ms. (f66409e9)
2022-01-16T17:22:24.0841750+01:00 0HMEP1HG8O0G0:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 672.9059ms (afa2e885)
2022-01-16T17:22:24.0868670+01:00 0HMEP1HG8O0G0:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:22:24.1236300+01:00 0HMEP1HG8O0G0:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 817.8004ms (791a596a)
2022-01-16T17:22:26.0339450+01:00 0HMEP1HG8O0G0:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:22:26.0447280+01:00 0HMEP1HG8O0G0:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:22:26.0448890+01:00 0HMEP1HG8O0G0:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:22:26.0694810+01:00 0HMEP1HG8O0G0:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:22:26.1277940+01:00 0HMEP1HG8O0G0:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:22:26.1531500+01:00 0HMEP1HG8O0G0:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:22:26.1569580+01:00 0HMEP1HG8O0G0:00000003 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:22:26.1636280+01:00 0HMEP1HG8O0G0:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:22:26.1658280+01:00 0HMEP1HG8O0G0:00000003 [INF] Executed ViewResult - view "Invoice" executed in 10.2727ms. (f66409e9)
2022-01-16T17:22:26.1659250+01:00 0HMEP1HG8O0G0:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 96.3389ms (afa2e885)
2022-01-16T17:22:26.1659730+01:00 0HMEP1HG8O0G0:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:22:26.1661950+01:00 0HMEP1HG8O0G0:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 132.3678ms (791a596a)
2022-01-16T17:22:53.8643990+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T17:23:00.0716530+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:00.4997470+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:23:00.7269620+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:23:00.7344340+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:23:00.9875890+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:01.0629530+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:01.0908820+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:01.0994550+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:01.1046160+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:01.1049100+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:01.1298390+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:23:01.1498260+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:01.2250800+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:01.4982630+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:23:01.4983460+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:23:01.4985360+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:23:01.4986260+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:23:01.4986480+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:23:01.6558540+01:00 0HMEP1HRM5FJ0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:23:01.7494690+01:00 0HMEP1HRM5FJ0:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:23:01.7509730+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:23:01.7852630+01:00 0HMEP1HRM5FJ0:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:23:01.8038410+01:00 0HMEP1HRM5FJ0:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:01.9946360+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:23:02.0598280+01:00 0HMEP1HRM5FIV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:23:02.0664290+01:00 0HMEP1HRM5FIV:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:23:02.0665420+01:00 0HMEP1HRM5FIV:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:23:02.0668230+01:00 0HMEP1HRM5FIV:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:23:02.1178690+01:00 0HMEP1HRM5FIV:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:02.1236160+01:00 0HMEP1HRM5FIV:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:23:02.1385780+01:00 0HMEP1HRM5FIV:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:23:02.1385750+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:23:02.1842690+01:00 0HMEP1HRM5FJ0:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:23:02.1843850+01:00 0HMEP1HRM5FIV:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:23:02.4412030+01:00 0HMEP1HRM5FIV:00000002 [INF] Executed ViewResult - view "Invoice" executed in 308.2373ms. (f66409e9)
2022-01-16T17:23:02.4412000+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executed ViewResult - view "Invoice" executed in 304.5852ms. (f66409e9)
2022-01-16T17:23:02.4419430+01:00 0HMEP1HRM5FIV:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 374.6058ms (afa2e885)
2022-01-16T17:23:02.4421150+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 656.0607ms (afa2e885)
2022-01-16T17:23:02.4427960+01:00 0HMEP1HRM5FIV:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:23:02.4427960+01:00 0HMEP1HRM5FJ0:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:23:02.4526210+01:00 0HMEP1HRM5FJ0:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 800.3001ms (791a596a)
2022-01-16T17:23:02.4534250+01:00 0HMEP1HRM5FIV:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 393.5546ms (791a596a)
2022-01-16T17:23:13.3519310+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T17:23:20.4040700+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:20.8804320+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:23:21.2173280+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:23:21.2273550+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:23:21.4153980+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:21.5525330+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:21.5910640+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:21.6068750+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:21.6248020+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:21.6273760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:23:21.6598570+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:23:21.7063860+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:21.8591190+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:23:22.0815680+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:23:22.0816370+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:23:22.0817940+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:23:22.0818340+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:23:22.0818750+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:23:22.5386180+01:00 0HMEP1I1TDRM7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:23:22.6338830+01:00 0HMEP1I1TDRM7:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:23:22.6352360+01:00 0HMEP1I1TDRM7:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:23:22.6742320+01:00 0HMEP1I1TDRM7:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:23:22.6968390+01:00 0HMEP1I1TDRM7:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:22.8791580+01:00 0HMEP1I1TDRM8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:23:22.8860770+01:00 0HMEP1I1TDRM8:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:23:22.8862190+01:00 0HMEP1I1TDRM8:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:23:22.8865130+01:00 0HMEP1I1TDRM8:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:23:22.9109250+01:00 0HMEP1I1TDRM7:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:23:22.9415060+01:00 0HMEP1I1TDRM8:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:22.9672050+01:00 0HMEP1I1TDRM8:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:23:23.0780980+01:00 0HMEP1I1TDRM7:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:23:23.0780980+01:00 0HMEP1I1TDRM8:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:23:23.1274240+01:00 0HMEP1I1TDRM7:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:23:23.1274530+01:00 0HMEP1I1TDRM8:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:23:23.3634640+01:00 0HMEP1I1TDRM7:00000002 [INF] Executed ViewResult - view "Invoice" executed in 289.1889ms. (f66409e9)
2022-01-16T17:23:23.3634700+01:00 0HMEP1I1TDRM8:00000002 [INF] Executed ViewResult - view "Invoice" executed in 292.6052ms. (f66409e9)
2022-01-16T17:23:23.3644680+01:00 0HMEP1I1TDRM7:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 689.4901ms (afa2e885)
2022-01-16T17:23:23.3644650+01:00 0HMEP1I1TDRM8:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 477.3943ms (afa2e885)
2022-01-16T17:23:23.3653630+01:00 0HMEP1I1TDRM8:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:23:23.3654120+01:00 0HMEP1I1TDRM7:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:23:23.3765060+01:00 0HMEP1I1TDRM8:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 496.6652ms (791a596a)
2022-01-16T17:23:23.3765060+01:00 0HMEP1I1TDRM7:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 842.4854ms (791a596a)
2022-01-16T17:23:23.7699290+01:00 0HMEP1I1TDRM8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - (ca22a1cb)
2022-01-16T17:23:23.7929990+01:00 0HMEP1I1TDRM8:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:23:23.7936290+01:00 0HMEP1I1TDRM8:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:23:23.7938590+01:00 0HMEP1I1TDRM8:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:23:23.7948460+01:00 0HMEP1I1TDRM8:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:23:23.7986370+01:00 0HMEP1I1TDRM8:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:23:23.8014930+01:00 0HMEP1I1TDRM8:00000003 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:23:23.8041450+01:00 0HMEP1I1TDRM8:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:23:23.8072140+01:00 0HMEP1I1TDRM8:00000003 [INF] Executed ViewResult - view "Invoice" executed in 5.9748ms. (f66409e9)
2022-01-16T17:23:23.8074210+01:00 0HMEP1I1TDRM8:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 13.474ms (afa2e885)
2022-01-16T17:23:23.8075050+01:00 0HMEP1I1TDRM8:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:23:23.8079240+01:00 0HMEP1I1TDRM8:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/11 - - - 200 - text/html;+charset=utf-8 37.9963ms (791a596a)
2022-01-16T17:23:29.8974040+01:00 0HMEP1I1TDRM8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - (ca22a1cb)
2022-01-16T17:23:29.9088750+01:00 0HMEP1I1TDRM9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - (ca22a1cb)
2022-01-16T17:23:29.9481250+01:00 0HMEP1I1TDRM8:00000004 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"' (27b0a520)
2022-01-16T17:23:29.9481310+01:00 0HMEP1I1TDRM9:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map"' (27b0a520)
2022-01-16T17:23:29.9501480+01:00 0HMEP1I1TDRM9:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 41.2358ms (791a596a)
2022-01-16T17:23:29.9502020+01:00 0HMEP1I1TDRM8:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 52.7407ms (791a596a)
2022-01-16T17:25:29.4536360+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T17:25:39.4095950+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:25:39.8781320+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:25:40.2441870+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:25:40.2523470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:25:40.4634930+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:25:40.5589400+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:25:40.6169790+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:25:40.6516410+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:25:40.6653860+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:25:40.6658480+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:25:40.7186330+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:25:40.7731330+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:25:41.0135030+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:25:41.4205770+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:25:41.4206720+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:25:41.4209030+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:25:41.4209630+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:25:41.4210220+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:26:09.7835760+01:00 0HMEP1JJOI3Q6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:26:09.8536660+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:26:09.8711540+01:00 0HMEP1JJOI3Q6:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:26:09.8735320+01:00 0HMEP1JJOI3Q6:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:26:09.8754240+01:00 0HMEP1JJOI3Q6:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:26:09.8877130+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:26:09.9046760+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:26:09.9469600+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:26:10.0175820+01:00 0HMEP1JJOI3Q6:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:26:10.1901940+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executed ViewResult - view "Index" executed in 241.4608ms. (f66409e9)
2022-01-16T17:26:10.1906500+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 319.011ms (afa2e885)
2022-01-16T17:26:10.1914280+01:00 0HMEP1JJOI3Q6:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:26:10.1988620+01:00 0HMEP1JJOI3Q6:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 417.5786ms (791a596a)
2022-01-16T17:26:10.4335190+01:00 0HMEP1JJOI3Q6:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - (ca22a1cb)
2022-01-16T17:26:10.5033220+01:00 0HMEP1JJOI3Q5:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - (ca22a1cb)
2022-01-16T17:26:10.5399200+01:00 0HMEP1JJOI3Q6:00000003 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map"' (27b0a520)
2022-01-16T17:26:10.5399200+01:00 0HMEP1JJOI3Q5:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"' (27b0a520)
2022-01-16T17:26:10.5425400+01:00 0HMEP1JJOI3Q5:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 39.1888ms (791a596a)
2022-01-16T17:26:10.5425400+01:00 0HMEP1JJOI3Q6:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 108.9540ms (791a596a)
2022-01-16T17:26:14.5932020+01:00 0HMEP1JJOI3Q6:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:26:14.6142850+01:00 0HMEP1JJOI3Q6:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:26:14.6161950+01:00 0HMEP1JJOI3Q6:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:26:14.6354890+01:00 0HMEP1JJOI3Q6:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:26:14.6657460+01:00 0HMEP1JJOI3Q6:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:26:14.6980230+01:00 0HMEP1JJOI3Q6:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:26:14.7074860+01:00 0HMEP1JJOI3Q6:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:26:14.8438790+01:00 0HMEP1JJOI3Q6:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:26:14.8578830+01:00 0HMEP1JJOI3Q6:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 222.2674ms (afa2e885)
2022-01-16T17:26:14.8579620+01:00 0HMEP1JJOI3Q6:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:26:14.8585080+01:00 0HMEP1JJOI3Q6:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"25dc3cbc-55c2-be9a-e455-5499336e92f8" (1d7cf8c0)
2022-01-16T17:26:14.8593030+01:00 0HMEP1JJOI3Q6:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 266.1964ms (791a596a)
2022-01-16T17:26:16.4676920+01:00 0HMEP1JJOI3Q6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:26:16.4933320+01:00 0HMEP1JJOI3Q6:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:26:16.4934790+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:26:16.5002450+01:00 0HMEP1JJOI3Q6:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:26:16.5706790+01:00 0HMEP1JJOI3Q6:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:26:16.5982260+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:26:16.8508990+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:26:16.8920460+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:26:17.0545710+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:26:25.6322170+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:26:25.6359100+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9135.8361ms (afa2e885)
2022-01-16T17:26:25.6375250+01:00 0HMEP1JJOI3Q6:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:26:25.6458940+01:00 0HMEP1JJOI3Q6:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9178.5460ms (791a596a)
2022-01-16T17:26:25.6500560+01:00 0HMEP1JJOI3Q6:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:26:25.6532630+01:00 0HMEP1JJOI3Q6:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:26:25.6539290+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:26:25.6605520+01:00 0HMEP1JJOI3Q6:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:26:25.6656440+01:00 0HMEP1JJOI3Q6:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:26:25.6708420+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:26:25.7022400+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:26:25.7164230+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:26:25.7438630+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executed ViewResult - view "Index" executed in 30.3677ms. (f66409e9)
2022-01-16T17:26:25.7439620+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 83.3051ms (afa2e885)
2022-01-16T17:26:25.7440100+01:00 0HMEP1JJOI3Q6:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:26:25.7442570+01:00 0HMEP1JJOI3Q6:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 94.2480ms (791a596a)
2022-01-16T17:26:31.8395300+01:00 0HMEP1JJOI3Q6:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/146 - - (ca22a1cb)
2022-01-16T17:26:31.8408490+01:00 0HMEP1JJOI3Q6:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:26:31.8409540+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:26:31.8490440+01:00 0HMEP1JJOI3Q6:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:26:31.8548980+01:00 0HMEP1JJOI3Q6:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:26:31.8814670+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:26:31.8847410+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:26:31.8933490+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executed ViewResult - view "Invoice" executed in 10.9811ms. (f66409e9)
2022-01-16T17:26:31.8934630+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 44.3226ms (afa2e885)
2022-01-16T17:26:31.8935230+01:00 0HMEP1JJOI3Q6:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:26:31.8937380+01:00 0HMEP1JJOI3Q6:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/146 - - - 200 - text/html;+charset=utf-8 54.2208ms (791a596a)
2022-01-16T17:27:26.2991160+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:27:27.3000020+01:00  [INF] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:27:27.6913430+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:27:27.7023570+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:27:27.9549320+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:27:28.0423910+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:27:28.0726400+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:27:28.0828070+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:27:28.0897780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:27:28.0902170+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:27:28.1197040+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:27:28.1448390+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:27:28.2408380+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:27:28.4570770+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:27:28.4571460+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:27:28.4573030+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:27:28.4573460+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:27:28.4573890+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:28:12.4259680+01:00 0HMEP1KOA4C3S:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:28:12.5043440+01:00 0HMEP1KOA4C3S:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:28:12.5231420+01:00 0HMEP1KOA4C3S:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:28:12.5259010+01:00 0HMEP1KOA4C3S:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:28:12.5297320+01:00 0HMEP1KOA4C3S:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:28:12.5452820+01:00 0HMEP1KOA4C3S:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:28:12.5636890+01:00 0HMEP1KOA4C3S:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:28:12.6090850+01:00 0HMEP1KOA4C3S:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:28:12.6829880+01:00 0HMEP1KOA4C3S:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:28:12.8555320+01:00 0HMEP1KOA4C3S:00000002 [INF] Executed ViewResult - view "Index" executed in 244.221ms. (f66409e9)
2022-01-16T17:28:12.8561940+01:00 0HMEP1KOA4C3S:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 332.367ms (afa2e885)
2022-01-16T17:28:12.8570120+01:00 0HMEP1KOA4C3S:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:28:12.8659930+01:00 0HMEP1KOA4C3S:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 443.0581ms (791a596a)
2022-01-16T17:28:14.6974950+01:00 0HMEP1KOA4C3S:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:28:14.7172830+01:00 0HMEP1KOA4C3S:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:28:14.7184620+01:00 0HMEP1KOA4C3S:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:28:14.7385380+01:00 0HMEP1KOA4C3S:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:28:14.7663580+01:00 0HMEP1KOA4C3S:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:28:14.7997200+01:00 0HMEP1KOA4C3S:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:28:14.8092960+01:00 0HMEP1KOA4C3S:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:28:14.9736530+01:00 0HMEP1KOA4C3S:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:28:14.9916970+01:00 0HMEP1KOA4C3S:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 253.0357ms (afa2e885)
2022-01-16T17:28:14.9917900+01:00 0HMEP1KOA4C3S:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:28:14.9923540+01:00 0HMEP1KOA4C3S:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1672e380-9763-ac63-5a06-403910253f1c" (1d7cf8c0)
2022-01-16T17:28:14.9930500+01:00 0HMEP1KOA4C3S:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 295.7376ms (791a596a)
2022-01-16T17:28:16.3658330+01:00 0HMEP1KOA4C3S:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:28:16.3924930+01:00 0HMEP1KOA4C3S:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:28:16.3927190+01:00 0HMEP1KOA4C3S:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:28:16.3996820+01:00 0HMEP1KOA4C3S:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:28:16.4705910+01:00 0HMEP1KOA4C3S:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:28:16.4998650+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:28:16.7842780+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:28:16.8288870+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:28:16.9824740+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:28:25.2337440+01:00 0HMEP1KOA4C3S:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:28:25.2416190+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8841.9355ms (afa2e885)
2022-01-16T17:28:25.2448170+01:00 0HMEP1KOA4C3S:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:28:25.2565090+01:00 0HMEP1KOA4C3S:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8890.7760ms (791a596a)
2022-01-16T17:28:25.2607490+01:00 0HMEP1KOA4C3S:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:28:25.2644110+01:00 0HMEP1KOA4C3S:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:28:25.2649180+01:00 0HMEP1KOA4C3S:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:28:25.2704250+01:00 0HMEP1KOA4C3S:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:28:25.2766030+01:00 0HMEP1KOA4C3S:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:28:25.2807560+01:00 0HMEP1KOA4C3S:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:28:25.3064310+01:00 0HMEP1KOA4C3S:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:28:25.3217050+01:00 0HMEP1KOA4C3S:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:28:25.3478390+01:00 0HMEP1KOA4C3S:00000005 [INF] Executed ViewResult - view "Index" executed in 27.8738ms. (f66409e9)
2022-01-16T17:28:25.3479430+01:00 0HMEP1KOA4C3S:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 77.4209ms (afa2e885)
2022-01-16T17:28:25.3479790+01:00 0HMEP1KOA4C3S:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:28:25.3482250+01:00 0HMEP1KOA4C3S:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 87.5596ms (791a596a)
2022-01-16T17:34:12.7536680+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:34:13.2073540+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:34:13.4453990+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:34:13.4535890+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:34:13.6392300+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:13.7228310+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:34:13.7398400+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:13.7402660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:34:13.7425850+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:13.7427770+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:34:13.7618800+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:34:13.7777840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:13.8387690+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:14.0709920+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:34:14.0710610+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:34:14.0712100+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:34:14.0712520+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:34:14.0713320+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:34:20.5826870+01:00 0HMEP1O615S6D:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:34:20.6595020+01:00 0HMEP1O615S6D:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:34:20.6773000+01:00 0HMEP1O615S6D:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:34:20.6802570+01:00 0HMEP1O615S6D:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:34:20.6822590+01:00 0HMEP1O615S6D:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:34:20.6952510+01:00 0HMEP1O615S6D:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:34:20.7103290+01:00 0HMEP1O615S6D:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:34:20.7521260+01:00 0HMEP1O615S6D:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:34:20.8270660+01:00 0HMEP1O615S6D:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:34:21.0147530+01:00 0HMEP1O615S6D:00000002 [INF] Executed ViewResult - view "Index" executed in 262.4723ms. (f66409e9)
2022-01-16T17:34:21.0154290+01:00 0HMEP1O615S6D:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 337.4924ms (afa2e885)
2022-01-16T17:34:21.0160740+01:00 0HMEP1O615S6D:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:34:21.0245510+01:00 0HMEP1O615S6D:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 444.2193ms (791a596a)
2022-01-16T17:34:23.2265920+01:00 0HMEP1O615S6D:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:34:23.2475000+01:00 0HMEP1O615S6D:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:34:23.2489080+01:00 0HMEP1O615S6D:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:34:23.2677930+01:00 0HMEP1O615S6D:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:34:23.2925410+01:00 0HMEP1O615S6D:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:34:23.3255880+01:00 0HMEP1O615S6D:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:34:23.3362660+01:00 0HMEP1O615S6D:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:23.5136660+01:00 0HMEP1O615S6D:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:34:23.5342760+01:00 0HMEP1O615S6D:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 266.2908ms (afa2e885)
2022-01-16T17:34:23.5346000+01:00 0HMEP1O615S6D:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:34:23.5356900+01:00 0HMEP1O615S6D:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"e6b93d1f-1d45-286f-5651-dafe849fd2c1" (1d7cf8c0)
2022-01-16T17:34:23.5367810+01:00 0HMEP1O615S6D:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 310.2252ms (791a596a)
2022-01-16T17:34:24.8716110+01:00 0HMEP1O615S6D:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:34:24.8993910+01:00 0HMEP1O615S6D:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:34:24.8995440+01:00 0HMEP1O615S6D:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:34:24.9065270+01:00 0HMEP1O615S6D:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:34:24.9779530+01:00 0HMEP1O615S6D:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:34:25.0078170+01:00 0HMEP1O615S6D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:25.2806090+01:00 0HMEP1O615S6D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:34:25.3185760+01:00 0HMEP1O615S6D:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:34:25.4794600+01:00 0HMEP1O615S6D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:34:33.9192880+01:00 0HMEP1O615S6D:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:34:33.9248000+01:00 0HMEP1O615S6D:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 9018.3801ms (afa2e885)
2022-01-16T17:34:33.9285330+01:00 0HMEP1O615S6D:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:34:33.9407160+01:00 0HMEP1O615S6D:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 9069.3417ms (791a596a)
2022-01-16T17:34:33.9452670+01:00 0HMEP1O615S6D:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:34:33.9480370+01:00 0HMEP1O615S6D:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:34:33.9487510+01:00 0HMEP1O615S6D:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:34:33.9545560+01:00 0HMEP1O615S6D:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:34:33.9611560+01:00 0HMEP1O615S6D:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:34:33.9657340+01:00 0HMEP1O615S6D:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:34:33.9927650+01:00 0HMEP1O615S6D:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:34:34.0073420+01:00 0HMEP1O615S6D:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:34:34.0353250+01:00 0HMEP1O615S6D:00000005 [INF] Executed ViewResult - view "Index" executed in 30.1045ms. (f66409e9)
2022-01-16T17:34:34.0354410+01:00 0HMEP1O615S6D:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 80.8064ms (afa2e885)
2022-01-16T17:34:34.0355030+01:00 0HMEP1O615S6D:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:34:34.0357570+01:00 0HMEP1O615S6D:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 90.5585ms (791a596a)
2022-01-16T17:44:25.8438270+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:26.2789970+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:44:26.5336970+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:44:26.5422190+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:44:26.7735830+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:26.8917020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:44:26.9103990+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:26.9109290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:44:26.9136820+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:26.9140380+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:44:26.9350730+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:44:26.9572590+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:27.0377150+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:27.3074680+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:44:27.3075550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:44:27.3077300+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:44:27.3077660+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:44:27.3078040+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:44:29.5720730+01:00 0HMEP1TRGU36C:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:44:29.6507110+01:00 0HMEP1TRGU36C:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:29.6516880+01:00 0HMEP1TRGU36C:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:29.6741710+01:00 0HMEP1TRGU36C:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:29.6829050+01:00 0HMEP1TRGU36C:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:29.7176020+01:00 0HMEP1TRGU36C:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:29.8926460+01:00 0HMEP1TRGU36C:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:44:30.0240090+01:00 0HMEP1TRGU36C:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:44:30.1605200+01:00 0HMEP1TRGU36C:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:44:30.3147660+01:00 0HMEP1TRGU36C:00000002 [INF] Executed ViewResult - view "Index" executed in 290.4137ms. (f66409e9)
2022-01-16T17:44:30.3202210+01:00 0HMEP1TRGU36C:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 645.4272ms (afa2e885)
2022-01-16T17:44:30.3226110+01:00 0HMEP1TRGU36C:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:30.3511160+01:00 0HMEP1TRGU36C:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 781.6519ms (791a596a)
2022-01-16T17:44:31.7631560+01:00 0HMEP1TRGU36C:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:44:31.7727100+01:00 0HMEP1TRGU36C:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:31.7728510+01:00 0HMEP1TRGU36C:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:31.7731990+01:00 0HMEP1TRGU36C:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:31.8249520+01:00 0HMEP1TRGU36C:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:31.8287590+01:00 0HMEP1TRGU36C:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:31.8314960+01:00 0HMEP1TRGU36C:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:44:31.8369470+01:00 0HMEP1TRGU36C:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:44:31.8449440+01:00 0HMEP1TRGU36C:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:44:31.8612410+01:00 0HMEP1TRGU36C:00000003 [INF] Executed ViewResult - view "Index" executed in 24.3918ms. (f66409e9)
2022-01-16T17:44:31.8614060+01:00 0HMEP1TRGU36C:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 88.1213ms (afa2e885)
2022-01-16T17:44:31.8614760+01:00 0HMEP1TRGU36C:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:31.8618730+01:00 0HMEP1TRGU36C:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 98.8884ms (791a596a)
2022-01-16T17:44:33.5057560+01:00 0HMEP1TRGU36C:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:44:33.5273930+01:00 0HMEP1TRGU36C:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:33.5276930+01:00 0HMEP1TRGU36C:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:33.5278650+01:00 0HMEP1TRGU36C:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:33.5292030+01:00 0HMEP1TRGU36C:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:33.5320800+01:00 0HMEP1TRGU36C:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:33.5366840+01:00 0HMEP1TRGU36C:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:44:33.5461190+01:00 0HMEP1TRGU36C:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:44:33.5521020+01:00 0HMEP1TRGU36C:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:44:33.5769010+01:00 0HMEP1TRGU36C:00000004 [INF] Executed ViewResult - view "Index" executed in 30.8257ms. (f66409e9)
2022-01-16T17:44:33.5786300+01:00 0HMEP1TRGU36C:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 50.6559ms (afa2e885)
2022-01-16T17:44:33.5786870+01:00 0HMEP1TRGU36C:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:33.5789410+01:00 0HMEP1TRGU36C:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 73.1929ms (791a596a)
2022-01-16T17:44:34.5442610+01:00 0HMEP1TRGU36C:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:44:34.5454000+01:00 0HMEP1TRGU36C:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:34.5493270+01:00 0HMEP1TRGU36C:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:34.5514800+01:00 0HMEP1TRGU36C:00000005 [INF] Index viewed (84b92a55)
2022-01-16T17:44:34.5527350+01:00 0HMEP1TRGU36C:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:34.5648170+01:00 0HMEP1TRGU36C:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:44:34.5903530+01:00 0HMEP1TRGU36C:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:44:34.5934510+01:00 0HMEP1TRGU36C:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:44:34.6173220+01:00 0HMEP1TRGU36C:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:44:34.6255900+01:00 0HMEP1TRGU36C:00000005 [INF] Executed ViewResult - view "Index" executed in 33.9423ms. (f66409e9)
2022-01-16T17:44:34.6256610+01:00 0HMEP1TRGU36C:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 76.2589ms (afa2e885)
2022-01-16T17:44:34.6256940+01:00 0HMEP1TRGU36C:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:34.6258320+01:00 0HMEP1TRGU36C:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 81.5855ms (791a596a)
2022-01-16T17:44:36.9857250+01:00 0HMEP1TRGU36C:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:44:36.9868100+01:00 0HMEP1TRGU36C:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:36.9868800+01:00 0HMEP1TRGU36C:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:37.0047280+01:00 0HMEP1TRGU36C:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:37.0406080+01:00 0HMEP1TRGU36C:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:44:37.0419150+01:00 0HMEP1TRGU36C:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:37.0478060+01:00 0HMEP1TRGU36C:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:37.1899410+01:00 0HMEP1TRGU36C:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:44:37.2034770+01:00 0HMEP1TRGU36C:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 198.6584ms (afa2e885)
2022-01-16T17:44:37.2035310+01:00 0HMEP1TRGU36C:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:37.2040620+01:00 0HMEP1TRGU36C:00000006 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ac6002bc-db78-29b2-6b28-60a587156b41" (1d7cf8c0)
2022-01-16T17:44:37.2047110+01:00 0HMEP1TRGU36C:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 219.0764ms (791a596a)
2022-01-16T17:44:38.8044910+01:00 0HMEP1TRGU36C:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:44:38.8082550+01:00 0HMEP1TRGU36C:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:38.8083800+01:00 0HMEP1TRGU36C:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:38.8142480+01:00 0HMEP1TRGU36C:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:38.8965970+01:00 0HMEP1TRGU36C:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:38.8983890+01:00 0HMEP1TRGU36C:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:39.0905910+01:00 0HMEP1TRGU36C:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:44:39.1290310+01:00 0HMEP1TRGU36C:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:44:39.1761980+01:00 0HMEP1TRGU36C:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:44:47.6865090+01:00 0HMEP1TRGU36C:00000007 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:44:47.6875570+01:00 0HMEP1TRGU36C:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8873.3716ms (afa2e885)
2022-01-16T17:44:47.6876860+01:00 0HMEP1TRGU36C:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:47.6894640+01:00 0HMEP1TRGU36C:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8884.9102ms (791a596a)
2022-01-16T17:44:47.6941940+01:00 0HMEP1TRGU36C:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:44:47.6976160+01:00 0HMEP1TRGU36C:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:44:47.6977670+01:00 0HMEP1TRGU36C:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:44:47.6980880+01:00 0HMEP1TRGU36C:00000008 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:44:47.6990750+01:00 0HMEP1TRGU36C:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:44:47.7045940+01:00 0HMEP1TRGU36C:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:44:47.7095380+01:00 0HMEP1TRGU36C:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:44:47.7166160+01:00 0HMEP1TRGU36C:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:44:47.7231550+01:00 0HMEP1TRGU36C:00000008 [INF] Executed ViewResult - view "Index" executed in 6.601ms. (f66409e9)
2022-01-16T17:44:47.7232890+01:00 0HMEP1TRGU36C:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 25.0838ms (afa2e885)
2022-01-16T17:44:47.7233610+01:00 0HMEP1TRGU36C:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:44:47.7236450+01:00 0HMEP1TRGU36C:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 29.4983ms (791a596a)
2022-01-16T17:46:04.5850850+01:00 0HMEP1TRGU36C:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:46:04.5863870+01:00 0HMEP1TRGU36C:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:04.5865690+01:00 0HMEP1TRGU36C:00000009 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:04.5869950+01:00 0HMEP1TRGU36C:00000009 [INF] Index viewed (84b92a55)
2022-01-16T17:46:04.5876360+01:00 0HMEP1TRGU36C:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:04.5895670+01:00 0HMEP1TRGU36C:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:46:04.5914150+01:00 0HMEP1TRGU36C:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:46:04.5919640+01:00 0HMEP1TRGU36C:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:46:04.5941960+01:00 0HMEP1TRGU36C:00000009 [INF] Executed ViewResult - view "Index" executed in 2.2607ms. (f66409e9)
2022-01-16T17:46:04.5944050+01:00 0HMEP1TRGU36C:00000009 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 7.6873ms (afa2e885)
2022-01-16T17:46:04.5945070+01:00 0HMEP1TRGU36C:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:04.5947470+01:00 0HMEP1TRGU36C:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 9.6604ms (791a596a)
2022-01-16T17:46:17.3156500+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:17.7741900+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:46:18.0809930+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:46:18.0877570+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:46:18.3019600+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:18.4402020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:46:18.4724720+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:18.4732550+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:46:18.4779480+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:18.4782740+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:46:18.5077010+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:46:18.5290040+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:18.6174930+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:18.8132850+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:46:18.8133480+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:46:18.8135090+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:46:18.8135370+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:46:18.8135520+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:46:18.9726940+01:00 0HMEP1US405AB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:46:19.0505130+01:00 0HMEP1US405AB:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:19.0690800+01:00 0HMEP1US405AB:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:19.0711390+01:00 0HMEP1US405AB:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:46:19.0731650+01:00 0HMEP1US405AB:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:19.0839140+01:00 0HMEP1US405AB:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:46:19.0990700+01:00 0HMEP1US405AB:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:46:19.1439810+01:00 0HMEP1US405AB:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:46:19.1963250+01:00 0HMEP1US405AC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:46:19.1997210+01:00 0HMEP1US405AC:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:19.2002270+01:00 0HMEP1US405AC:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:19.2014300+01:00 0HMEP1US405AC:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:46:19.2403480+01:00 0HMEP1US405AB:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:46:19.2616660+01:00 0HMEP1US405AC:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:19.2650500+01:00 0HMEP1US405AC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:46:19.2667340+01:00 0HMEP1US405AC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:46:19.2674130+01:00 0HMEP1US405AC:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:46:19.2690740+01:00 0HMEP1US405AC:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:46:19.4375050+01:00 0HMEP1US405AB:00000002 [INF] Executed ViewResult - view "Index" executed in 291.426ms. (f66409e9)
2022-01-16T17:46:19.4374800+01:00 0HMEP1US405AC:00000002 [INF] Executed ViewResult - view "Index" executed in 165.6263ms. (f66409e9)
2022-01-16T17:46:19.4384330+01:00 0HMEP1US405AB:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 368.6618ms (afa2e885)
2022-01-16T17:46:19.4384470+01:00 0HMEP1US405AC:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 237.6848ms (afa2e885)
2022-01-16T17:46:19.4398200+01:00 0HMEP1US405AB:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:19.4398180+01:00 0HMEP1US405AC:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:19.4497410+01:00 0HMEP1US405AC:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 253.0383ms (791a596a)
2022-01-16T17:46:19.4504250+01:00 0HMEP1US405AB:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 481.3766ms (791a596a)
2022-01-16T17:46:19.5097860+01:00 0HMEP1US405AC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:46:19.5357080+01:00 0HMEP1US405AC:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:19.5359840+01:00 0HMEP1US405AC:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:19.5361620+01:00 0HMEP1US405AC:00000003 [INF] Index viewed (84b92a55)
2022-01-16T17:46:19.5367390+01:00 0HMEP1US405AC:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:19.5391180+01:00 0HMEP1US405AC:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:46:19.5412900+01:00 0HMEP1US405AC:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:46:19.5418520+01:00 0HMEP1US405AC:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:46:19.5449740+01:00 0HMEP1US405AC:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:46:19.5471070+01:00 0HMEP1US405AC:00000003 [INF] Executed ViewResult - view "Index" executed in 5.2639ms. (f66409e9)
2022-01-16T17:46:19.5472820+01:00 0HMEP1US405AC:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 11.2055ms (afa2e885)
2022-01-16T17:46:19.5473750+01:00 0HMEP1US405AC:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:19.5477560+01:00 0HMEP1US405AC:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 37.9549ms (791a596a)
2022-01-16T17:46:21.9397710+01:00 0HMEP1US405AC:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:46:21.9578870+01:00 0HMEP1US405AC:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:46:21.9591620+01:00 0HMEP1US405AC:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:21.9798200+01:00 0HMEP1US405AC:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:22.0121920+01:00 0HMEP1US405AC:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:46:22.0132620+01:00 0HMEP1US405AC:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:22.0228760+01:00 0HMEP1US405AC:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:22.1874480+01:00 0HMEP1US405AC:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:46:22.2061600+01:00 0HMEP1US405AC:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 226.1945ms (afa2e885)
2022-01-16T17:46:22.2062440+01:00 0HMEP1US405AC:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:22.2068480+01:00 0HMEP1US405AC:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"0162e05f-1f18-765f-bb02-bc7a460f954c" (1d7cf8c0)
2022-01-16T17:46:22.2075890+01:00 0HMEP1US405AC:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 267.8785ms (791a596a)
2022-01-16T17:46:22.2838800+01:00 0HMEP1US405AC:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:46:22.2907970+01:00 0HMEP1US405AC:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:46:22.2909540+01:00 0HMEP1US405AC:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:22.2911320+01:00 0HMEP1US405AC:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:22.2930030+01:00 0HMEP1US405AC:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:22.2953870+01:00 0HMEP1US405AC:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:22.3771170+01:00 0HMEP1US405AC:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:46:22.3774920+01:00 0HMEP1US405AC:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.2775ms (afa2e885)
2022-01-16T17:46:22.3775570+01:00 0HMEP1US405AC:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:22.3778890+01:00 0HMEP1US405AC:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 94.2375ms (791a596a)
2022-01-16T17:46:22.6633990+01:00 0HMEP1US405AC:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:46:22.6646810+01:00 0HMEP1US405AC:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:46:22.6648850+01:00 0HMEP1US405AC:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:22.6650010+01:00 0HMEP1US405AC:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:22.6661140+01:00 0HMEP1US405AC:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:22.6676980+01:00 0HMEP1US405AC:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:22.6681840+01:00 0HMEP1US405AC:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:46:22.6684530+01:00 0HMEP1US405AC:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.3814ms (afa2e885)
2022-01-16T17:46:22.6685230+01:00 0HMEP1US405AC:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:22.6687640+01:00 0HMEP1US405AC:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.3844ms (791a596a)
2022-01-16T17:46:24.7831590+01:00 0HMEP1US405AC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:46:24.7852730+01:00 0HMEP1US405AC:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:46:24.7853910+01:00 0HMEP1US405AC:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:24.7939300+01:00 0HMEP1US405AC:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:24.8073620+01:00 0HMEP1US405AC:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:24.8456330+01:00 0HMEP1US405AC:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:25.1395740+01:00 0HMEP1US405AC:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:46:25.1889040+01:00 0HMEP1US405AC:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:46:25.3745090+01:00 0HMEP1US405AC:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:46:39.7133220+01:00 0HMEP1US405AC:00000007 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:46:39.7186570+01:00 0HMEP1US405AC:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 14924.9213ms (afa2e885)
2022-01-16T17:46:39.7208250+01:00 0HMEP1US405AC:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:39.7314560+01:00 0HMEP1US405AC:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 14948.8843ms (791a596a)
2022-01-16T17:46:39.7348090+01:00 0HMEP1US405AC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:46:39.7360330+01:00 0HMEP1US405AC:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:46:39.7361100+01:00 0HMEP1US405AC:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:46:39.7416410+01:00 0HMEP1US405AC:00000008 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:46:39.7466860+01:00 0HMEP1US405AC:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:46:39.7505970+01:00 0HMEP1US405AC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:46:39.7802250+01:00 0HMEP1US405AC:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:46:39.7926360+01:00 0HMEP1US405AC:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:46:39.8128750+01:00 0HMEP1US405AC:00000008 [INF] Executed ViewResult - view "Index" executed in 21.9255ms. (f66409e9)
2022-01-16T17:46:39.8130050+01:00 0HMEP1US405AC:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 71.2912ms (afa2e885)
2022-01-16T17:46:39.8130420+01:00 0HMEP1US405AC:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:46:39.8132550+01:00 0HMEP1US405AC:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 78.4866ms (791a596a)
2022-01-16T17:47:32.1034430+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:47:32.6497490+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:47:32.9993730+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:47:33.0073580+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:47:33.3069030+01:00  [INF] Executed DbCommand ("48"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:33.4581350+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:47:33.5037700+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:33.5229320+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:47:33.5333830+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:33.5338560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:47:33.5842960+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:47:33.6245640+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:33.8540320+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:34.2532640+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:47:34.2533850+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:47:34.2536610+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:47:34.2537180+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:47:34.2537790+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:47:36.1762280+01:00 0HMEP1VJ4I9HV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:47:36.2484410+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:47:36.2659570+01:00 0HMEP1VJ4I9HV:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:47:36.2681580+01:00 0HMEP1VJ4I9HV:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:47:36.2700500+01:00 0HMEP1VJ4I9HV:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:47:36.2819730+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:47:36.2971530+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:47:36.3441910+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:47:36.4214340+01:00 0HMEP1VJ4I9HV:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:47:36.6411150+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executed ViewResult - view "Index" executed in 289.112ms. (f66409e9)
2022-01-16T17:47:36.6421490+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 375.3028ms (afa2e885)
2022-01-16T17:47:36.6431920+01:00 0HMEP1VJ4I9HV:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:47:36.6541570+01:00 0HMEP1VJ4I9HV:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 481.5396ms (791a596a)
2022-01-16T17:47:39.2462220+01:00 0HMEP1VJ4I9HV:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:47:39.2664530+01:00 0HMEP1VJ4I9HV:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:47:39.2681050+01:00 0HMEP1VJ4I9HV:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:47:39.2880090+01:00 0HMEP1VJ4I9HV:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:47:39.3173130+01:00 0HMEP1VJ4I9HV:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:47:39.3518180+01:00 0HMEP1VJ4I9HV:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:47:39.3621040+01:00 0HMEP1VJ4I9HV:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:39.5417210+01:00 0HMEP1VJ4I9HV:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:47:39.5592400+01:00 0HMEP1VJ4I9HV:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 271.039ms (afa2e885)
2022-01-16T17:47:39.5593200+01:00 0HMEP1VJ4I9HV:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:47:39.5599010+01:00 0HMEP1VJ4I9HV:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"44135a24-290b-d5e8-8e8d-2b71dd29763c" (1d7cf8c0)
2022-01-16T17:47:39.5607270+01:00 0HMEP1VJ4I9HV:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 314.6032ms (791a596a)
2022-01-16T17:47:41.0199090+01:00 0HMEP1VJ4I9HV:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:47:41.0457230+01:00 0HMEP1VJ4I9HV:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:47:41.0459030+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:47:41.0531040+01:00 0HMEP1VJ4I9HV:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:47:41.1225680+01:00 0HMEP1VJ4I9HV:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:47:41.1543490+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:41.4687750+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:47:41.5121380+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:47:41.7097260+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:47:47.0905080+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:47:47.0954310+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6042.1631ms (afa2e885)
2022-01-16T17:47:47.0993360+01:00 0HMEP1VJ4I9HV:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:47:47.1106060+01:00 0HMEP1VJ4I9HV:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6090.8568ms (791a596a)
2022-01-16T17:47:47.1143560+01:00 0HMEP1VJ4I9HV:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:47:47.1169830+01:00 0HMEP1VJ4I9HV:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:47:47.1177480+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:47:47.1235170+01:00 0HMEP1VJ4I9HV:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:47:47.1283820+01:00 0HMEP1VJ4I9HV:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:47:47.1329810+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:47:47.1642680+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:47:47.1773360+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:47:47.2013350+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executed ViewResult - view "Index" executed in 25.7527ms. (f66409e9)
2022-01-16T17:47:47.2014600+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 77.8368ms (afa2e885)
2022-01-16T17:47:47.2015310+01:00 0HMEP1VJ4I9HV:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:47:47.2017960+01:00 0HMEP1VJ4I9HV:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 87.4809ms (791a596a)
2022-01-16T17:48:13.5640900+01:00 0HMEP1VJ4I9HV:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/151 - - (ca22a1cb)
2022-01-16T17:48:13.5659160+01:00 0HMEP1VJ4I9HV:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:48:13.5660850+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:48:13.5735790+01:00 0HMEP1VJ4I9HV:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:48:13.5797130+01:00 0HMEP1VJ4I9HV:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:13.6040410+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:48:13.6059660+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:48:13.6140650+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executed ViewResult - view "Invoice" executed in 9.2812ms. (f66409e9)
2022-01-16T17:48:13.6141350+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 40.461ms (afa2e885)
2022-01-16T17:48:13.6142160+01:00 0HMEP1VJ4I9HV:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:48:13.6144220+01:00 0HMEP1VJ4I9HV:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/151 - - - 200 - text/html;+charset=utf-8 50.3318ms (791a596a)
2022-01-16T17:48:36.6690760+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:37.2291580+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:48:37.4978830+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:48:37.5052290+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:48:37.7799610+01:00  [INF] Executed DbCommand ("41"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:37.8799980+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:48:37.9225760+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:37.9363370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:48:37.9477640+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:37.9482600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:48:37.9944960+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:48:38.0292850+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:38.1688360+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:38.3667570+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:48:38.3668320+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:48:38.3670280+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:48:38.3670750+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:48:38.3671180+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:48:48.3461770+01:00 0HMEP208KQKOM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/151 - - (ca22a1cb)
2022-01-16T17:48:48.4343550+01:00 0HMEP208KQKOM:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:48:48.4354930+01:00 0HMEP208KQKOM:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:48:48.4651490+01:00 0HMEP208KQKOM:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:48:48.4835820+01:00 0HMEP208KQKOM:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:48.6742510+01:00 0HMEP208KQKOM:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:48:48.7908700+01:00 0HMEP208KQKOM:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T17:48:48.8253100+01:00 0HMEP208KQKOM:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:48:49.0404020+01:00 0HMEP208KQKOM:00000002 [INF] Executed ViewResult - view "Invoice" executed in 245.4881ms. (f66409e9)
2022-01-16T17:48:49.0410830+01:00 0HMEP208KQKOM:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 575.0831ms (afa2e885)
2022-01-16T17:48:49.0425100+01:00 0HMEP208KQKOM:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:48:49.0525420+01:00 0HMEP208KQKOM:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/151 - - - 200 - text/html;+charset=utf-8 709.0470ms (791a596a)
2022-01-16T17:48:52.9357860+01:00 0HMEP208KQKOM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:48:52.9403630+01:00 0HMEP208KQKOM:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:48:52.9428910+01:00 0HMEP208KQKOM:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:48:52.9460160+01:00 0HMEP208KQKOM:00000003 [INF] Index viewed (84b92a55)
2022-01-16T17:48:52.9984100+01:00 0HMEP208KQKOM:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:53.0037840+01:00 0HMEP208KQKOM:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:48:53.0163600+01:00 0HMEP208KQKOM:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:48:53.0182790+01:00 0HMEP208KQKOM:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:48:53.0306400+01:00 0HMEP208KQKOM:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:48:53.0423190+01:00 0HMEP208KQKOM:00000003 [INF] Executed ViewResult - view "Index" executed in 25.1331ms. (f66409e9)
2022-01-16T17:48:53.0424660+01:00 0HMEP208KQKOM:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 99.4702ms (afa2e885)
2022-01-16T17:48:53.0425210+01:00 0HMEP208KQKOM:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:48:53.0428280+01:00 0HMEP208KQKOM:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 107.0911ms (791a596a)
2022-01-16T17:48:56.9600830+01:00 0HMEP208KQKOM:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:48:56.9842710+01:00 0HMEP208KQKOM:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:48:56.9844430+01:00 0HMEP208KQKOM:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:48:56.9874780+01:00 0HMEP208KQKOM:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:48:57.0057890+01:00 0HMEP208KQKOM:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:48:57.0071400+01:00 0HMEP208KQKOM:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:57.0139100+01:00 0HMEP208KQKOM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:57.1644940+01:00 0HMEP208KQKOM:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:48:57.1785630+01:00 0HMEP208KQKOM:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 190.9353ms (afa2e885)
2022-01-16T17:48:57.1787590+01:00 0HMEP208KQKOM:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:48:57.1794670+01:00 0HMEP208KQKOM:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"09823660-bfcd-d26f-fdfa-699a3f9c65e9" (1d7cf8c0)
2022-01-16T17:48:57.1802650+01:00 0HMEP208KQKOM:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 220.3574ms (791a596a)
2022-01-16T17:48:58.7188630+01:00 0HMEP208KQKOM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:48:58.7237620+01:00 0HMEP208KQKOM:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:48:58.7241820+01:00 0HMEP208KQKOM:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:48:58.7308150+01:00 0HMEP208KQKOM:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:48:58.8151470+01:00 0HMEP208KQKOM:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:48:58.8467840+01:00 0HMEP208KQKOM:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:48:59.1211010+01:00 0HMEP208KQKOM:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:48:59.1529970+01:00 0HMEP208KQKOM:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:48:59.1953860+01:00 0HMEP208KQKOM:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:49:04.1694700+01:00 0HMEP208KQKOM:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:49:04.1728440+01:00 0HMEP208KQKOM:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5441.4283ms (afa2e885)
2022-01-16T17:49:04.1744350+01:00 0HMEP208KQKOM:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:49:04.1855940+01:00 0HMEP208KQKOM:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5466.0285ms (791a596a)
2022-01-16T17:49:04.1895710+01:00 0HMEP208KQKOM:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:49:04.1915000+01:00 0HMEP208KQKOM:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:49:04.1916010+01:00 0HMEP208KQKOM:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:49:04.1985240+01:00 0HMEP208KQKOM:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:49:04.2030460+01:00 0HMEP208KQKOM:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:49:04.2071510+01:00 0HMEP208KQKOM:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:49:04.2374480+01:00 0HMEP208KQKOM:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:49:04.2478760+01:00 0HMEP208KQKOM:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:49:04.2639040+01:00 0HMEP208KQKOM:00000006 [INF] Executed ViewResult - view "Index" executed in 17.2393ms. (f66409e9)
2022-01-16T17:49:04.2640290+01:00 0HMEP208KQKOM:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 65.4257ms (afa2e885)
2022-01-16T17:49:04.2640710+01:00 0HMEP208KQKOM:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:49:04.2643550+01:00 0HMEP208KQKOM:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 74.8053ms (791a596a)
2022-01-16T17:49:38.1906410+01:00 0HMEP208KQKOM:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:49:38.1925270+01:00 0HMEP208KQKOM:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:49:38.1928030+01:00 0HMEP208KQKOM:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:49:38.1930710+01:00 0HMEP208KQKOM:00000007 [INF] Index viewed (84b92a55)
2022-01-16T17:49:38.1937260+01:00 0HMEP208KQKOM:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:49:38.1958400+01:00 0HMEP208KQKOM:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:49:38.1978930+01:00 0HMEP208KQKOM:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:49:38.1984030+01:00 0HMEP208KQKOM:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:49:38.2007590+01:00 0HMEP208KQKOM:00000007 [INF] Executed ViewResult - view "Index" executed in 2.5107ms. (f66409e9)
2022-01-16T17:49:38.2009050+01:00 0HMEP208KQKOM:00000007 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 8.0112ms (afa2e885)
2022-01-16T17:49:38.2010130+01:00 0HMEP208KQKOM:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:49:38.2012900+01:00 0HMEP208KQKOM:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 10.6521ms (791a596a)
2022-01-16T17:49:40.2899440+01:00 0HMEP208KQKOM:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:49:40.2914890+01:00 0HMEP208KQKOM:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:49:40.2915850+01:00 0HMEP208KQKOM:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:49:40.2917630+01:00 0HMEP208KQKOM:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:49:40.2932150+01:00 0HMEP208KQKOM:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:49:40.2950370+01:00 0HMEP208KQKOM:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:49:40.2958980+01:00 0HMEP208KQKOM:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:49:40.2962570+01:00 0HMEP208KQKOM:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.4196ms (afa2e885)
2022-01-16T17:49:40.2963300+01:00 0HMEP208KQKOM:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:49:40.2966250+01:00 0HMEP208KQKOM:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6839ms (791a596a)
2022-01-16T17:49:42.1269420+01:00 0HMEP208KQKOM:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:49:42.1298730+01:00 0HMEP208KQKOM:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:49:42.1300030+01:00 0HMEP208KQKOM:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:49:42.1303350+01:00 0HMEP208KQKOM:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:49:42.1333330+01:00 0HMEP208KQKOM:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:49:42.1391730+01:00 0HMEP208KQKOM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:49:42.1455900+01:00 0HMEP208KQKOM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:49:42.1486930+01:00 0HMEP208KQKOM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:49:42.1550410+01:00 0HMEP208KQKOM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:50:42.1837690+01:00 0HMEP208KQKOM:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 60055.2597ms (afa2e885)
2022-01-16T17:50:42.1848340+01:00 0HMEP208KQKOM:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:50:42.2451710+01:00 0HMEP208KQKOM:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
IronPdf.Exceptions.IronPdfNativeException: HTML: 'Timeout while rendering pdf from url'.

To learn how to solve this issue please read https://iron.helpscoutdocs.com/article/163-ironpdf-native-exception [Issue Code IRONPDF-NATIVE-EXECPTION]
   at IronPdf.Engines.Chrome.ChromeClient.(String )
   at IronPdf.Engines.Chrome.ChromeClient.RenderPDFFromHTML(String html, CefRenderSettings render_settings, CefBrowserSettings browser_settings)
   at .RenderPdfDocumentFromStringSnippet(ChromePdfRenderOptions Options, ChromeHttpLoginCredentials Login, String Content)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 146
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T17:50:42.2841170+01:00 0HMEP208KQKOM:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 60159.2480ms (791a596a)
2022-01-16T17:51:22.1325160+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:51:22.4420920+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T17:51:22.6530870+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:51:22.6606000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:51:22.8300100+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:22.9025670+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:51:22.9231330+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:22.9306730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:51:22.9346960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:22.9349500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T17:51:22.9529180+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T17:51:22.9683930+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:23.0326370+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:23.2065940+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T17:51:23.2066590+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T17:51:23.2068640+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T17:51:23.2069120+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T17:51:23.2069380+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T17:51:30.1305320+01:00 0HMEP21OADMN3:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T17:51:30.2070540+01:00 0HMEP21OADMN3:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:51:30.2251390+01:00 0HMEP21OADMN3:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:51:30.2273900+01:00 0HMEP21OADMN3:00000002 [INF] Index viewed (84b92a55)
2022-01-16T17:51:30.2294730+01:00 0HMEP21OADMN3:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:51:30.2414680+01:00 0HMEP21OADMN3:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T17:51:30.2571180+01:00 0HMEP21OADMN3:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T17:51:30.3066910+01:00 0HMEP21OADMN3:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:51:30.3756970+01:00 0HMEP21OADMN3:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:51:30.5736040+01:00 0HMEP21OADMN3:00000002 [INF] Executed ViewResult - view "Index" executed in 262.4829ms. (f66409e9)
2022-01-16T17:51:30.5741680+01:00 0HMEP21OADMN3:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 348.4523ms (afa2e885)
2022-01-16T17:51:30.5749230+01:00 0HMEP21OADMN3:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:51:30.5810970+01:00 0HMEP21OADMN3:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 455.0550ms (791a596a)
2022-01-16T17:51:33.4250560+01:00 0HMEP21OADMN3:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T17:51:33.4444200+01:00 0HMEP21OADMN3:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:51:33.4460140+01:00 0HMEP21OADMN3:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:51:33.4650400+01:00 0HMEP21OADMN3:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:51:33.4966490+01:00 0HMEP21OADMN3:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T17:51:33.5305760+01:00 0HMEP21OADMN3:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:51:33.5403250+01:00 0HMEP21OADMN3:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:33.6840050+01:00 0HMEP21OADMN3:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T17:51:33.6969690+01:00 0HMEP21OADMN3:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 231.7793ms (afa2e885)
2022-01-16T17:51:33.6970590+01:00 0HMEP21OADMN3:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:51:33.6978400+01:00 0HMEP21OADMN3:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ff55d192-04ac-0234-7fcb-18a542f65eab" (1d7cf8c0)
2022-01-16T17:51:33.6985760+01:00 0HMEP21OADMN3:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 273.6633ms (791a596a)
2022-01-16T17:51:35.8481920+01:00 0HMEP21OADMN3:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T17:51:35.8749760+01:00 0HMEP21OADMN3:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:51:35.8752020+01:00 0HMEP21OADMN3:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:51:35.8822690+01:00 0HMEP21OADMN3:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:51:35.9542750+01:00 0HMEP21OADMN3:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:51:35.9822610+01:00 0HMEP21OADMN3:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:36.2433740+01:00 0HMEP21OADMN3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:51:36.2786570+01:00 0HMEP21OADMN3:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T17:51:36.4424480+01:00 0HMEP21OADMN3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T17:51:41.0320770+01:00 0HMEP21OADMN3:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T17:51:41.0376910+01:00 0HMEP21OADMN3:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5155.3742ms (afa2e885)
2022-01-16T17:51:41.0399640+01:00 0HMEP21OADMN3:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:51:41.0496190+01:00 0HMEP21OADMN3:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5201.5979ms (791a596a)
2022-01-16T17:51:41.0528540+01:00 0HMEP21OADMN3:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T17:51:41.0553650+01:00 0HMEP21OADMN3:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T17:51:41.0559020+01:00 0HMEP21OADMN3:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T17:51:41.0611650+01:00 0HMEP21OADMN3:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T17:51:41.0660660+01:00 0HMEP21OADMN3:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T17:51:41.0704740+01:00 0HMEP21OADMN3:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T17:51:41.0999550+01:00 0HMEP21OADMN3:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T17:51:41.1124680+01:00 0HMEP21OADMN3:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T17:51:41.1410920+01:00 0HMEP21OADMN3:00000005 [INF] Executed ViewResult - view "Index" executed in 30.2105ms. (f66409e9)
2022-01-16T17:51:41.1412190+01:00 0HMEP21OADMN3:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 79.8935ms (afa2e885)
2022-01-16T17:51:41.1412760+01:00 0HMEP21OADMN3:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T17:51:41.1416290+01:00 0HMEP21OADMN3:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 88.7879ms (791a596a)
2022-01-16T18:23:55.4648050+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:23:56.5494100+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T18:23:57.1306010+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:23:57.1548120+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:23:57.6211290+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:23:57.7764840+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:23:57.8841060+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:23:57.9154950+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:23:57.9415000+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:23:57.9435300+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:23:58.0283480+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T18:23:58.0890400+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:23:58.2220630+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:23:58.6183630+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T18:23:58.6184720+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T18:23:58.6188860+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T18:23:58.6190370+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T18:23:58.6190990+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T18:24:03.7064210+01:00 0HMEP2JV06NIT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T18:24:03.7776690+01:00 0HMEP2JV06NIT:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:24:03.7995520+01:00 0HMEP2JV06NIT:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:24:03.8032870+01:00 0HMEP2JV06NIT:00000002 [INF] Index viewed (84b92a55)
2022-01-16T18:24:03.8063710+01:00 0HMEP2JV06NIT:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:24:03.8213520+01:00 0HMEP2JV06NIT:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:24:03.8457650+01:00 0HMEP2JV06NIT:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:24:03.9294090+01:00 0HMEP2JV06NIT:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:24:04.2958840+01:00 0HMEP2JV06NIT:00000002 [INF] Executed ViewResult - view "Index" executed in 371.2258ms. (f66409e9)
2022-01-16T18:24:04.2965860+01:00 0HMEP2JV06NIT:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 496.3528ms (afa2e885)
2022-01-16T18:24:04.2977740+01:00 0HMEP2JV06NIT:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:24:04.3081140+01:00 0HMEP2JV06NIT:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 605.4479ms (791a596a)
2022-01-16T18:24:07.7657650+01:00 0HMEP2JV06NIT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Register - - (ca22a1cb)
2022-01-16T18:24:07.7694640+01:00 0HMEP2JV06NIT:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:24:07.7715840+01:00 0HMEP2JV06NIT:00000003 [INF] Route matched with "{area = \"Security\", action = \"Register\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Register()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:24:07.7804130+01:00 0HMEP2JV06NIT:00000003 [INF] Executing ViewResult, running view "Register". (c83d0e25)
2022-01-16T18:24:07.8562660+01:00 0HMEP2JV06NIT:00000003 [INF] Executed ViewResult - view "Register" executed in 77.6345ms. (f66409e9)
2022-01-16T18:24:07.8564190+01:00 0HMEP2JV06NIT:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)" in 84.7371ms (afa2e885)
2022-01-16T18:24:07.8564640+01:00 0HMEP2JV06NIT:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:24:07.8567620+01:00 0HMEP2JV06NIT:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Register - - - 200 - text/html;+charset=utf-8 91.0612ms (791a596a)
2022-01-16T18:26:07.9109680+01:00 0HMEP2JV06NIT:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Register application/x-www-form-urlencoded 332 (ca22a1cb)
2022-01-16T18:26:07.9179310+01:00 0HMEP2JV06NIT:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:07.9445980+01:00 0HMEP2JV06NIT:00000004 [INF] Route matched with "{area = \"Security\", action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Salek.EShop.Web.Models.ViewModels.RegisterViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:08.0625520+01:00 0HMEP2JV06NIT:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:08.0654280+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:08.0831380+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2" (0723d8ff)
2022-01-16T18:26:08.2679890+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`AccessFailedCount`, `ConcurrencyStamp`, `Email`, `EmailConfirmed`, `FirstName`, `LastName`, `LockoutEnabled`, `LockoutEnd`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:26:08.3341770+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2" (0723d8ff)
2022-01-16T18:26:08.3602550+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`UserId`, `u`.`RoleId`
FROM `UserRoles` AS `u`
WHERE (`u`.`UserId` = @__p_0) AND (`u`.`RoleId` = @__p_1)
LIMIT 1" (0723d8ff)
2022-01-16T18:26:08.3662010+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2" (0723d8ff)
2022-01-16T18:26:08.3834820+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:08.3870590+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2" (0723d8ff)
2022-01-16T18:26:08.4129380+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `UserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);" (0723d8ff)
2022-01-16T18:26:08.4267000+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("10"ms) [Parameters=["@p16='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Users` SET `AccessFailedCount` = @p0, `ConcurrencyStamp` = @p1, `Email` = @p2, `EmailConfirmed` = @p3, `FirstName` = @p4, `LastName` = @p5, `LockoutEnabled` = @p6, `LockoutEnd` = @p7, `NormalizedEmail` = @p8, `NormalizedUserName` = @p9, `PasswordHash` = @p10, `PhoneNumber` = @p11, `PhoneNumberConfirmed` = @p12, `SecurityStamp` = @p13, `TwoFactorEnabled` = @p14, `UserName` = @p15
WHERE `Id` = @p16 AND `ConcurrencyStamp` = @p17;
SELECT ROW_COUNT();" (0723d8ff)
2022-01-16T18:26:08.4378730+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:08.5263020+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T18:26:08.5538570+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T18:26:08.5581390+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:08.5665200+01:00 0HMEP2JV06NIT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T18:26:08.5744190+01:00 0HMEP2JV06NIT:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T18:26:08.5836670+01:00 0HMEP2JV06NIT:00000004 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T18:26:08.5862840+01:00 0HMEP2JV06NIT:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)" in 641.5948ms (afa2e885)
2022-01-16T18:26:08.5874940+01:00 0HMEP2JV06NIT:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Register (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:08.5914800+01:00 0HMEP2JV06NIT:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Register application/x-www-form-urlencoded 332 - 302 0 - 680.6946ms (791a596a)
2022-01-16T18:26:08.5937610+01:00 0HMEP2JV06NIT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T18:26:08.5978400+01:00 0HMEP2JV06NIT:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:08.5979770+01:00 0HMEP2JV06NIT:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:08.5985870+01:00 0HMEP2JV06NIT:00000005 [INF] Index viewed (84b92a55)
2022-01-16T18:26:08.5988170+01:00 0HMEP2JV06NIT:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:08.5998620+01:00 0HMEP2JV06NIT:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:26:08.6010840+01:00 0HMEP2JV06NIT:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:26:08.6013950+01:00 0HMEP2JV06NIT:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:26:08.6075340+01:00 0HMEP2JV06NIT:00000005 [INF] Executed ViewResult - view "Index" executed in 6.1771ms. (f66409e9)
2022-01-16T18:26:08.6076520+01:00 0HMEP2JV06NIT:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.6374ms (afa2e885)
2022-01-16T18:26:08.6077050+01:00 0HMEP2JV06NIT:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:08.6079140+01:00 0HMEP2JV06NIT:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 14.1406ms (791a596a)
2022-01-16T18:26:16.8826370+01:00 0HMEP2JV06NIT:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:16.8975570+01:00 0HMEP2JV06NIT:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:16.8985450+01:00 0HMEP2JV06NIT:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:16.9009490+01:00 0HMEP2JV06NIT:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:16.9102140+01:00 0HMEP2JV06NIT:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:16.9182130+01:00 0HMEP2JV06NIT:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:17.0700210+01:00 0HMEP2JV06NIT:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:17.0825480+01:00 0HMEP2JV06NIT:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 181.4258ms (afa2e885)
2022-01-16T18:26:17.0826090+01:00 0HMEP2JV06NIT:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:17.0837540+01:00 0HMEP2JV06NIT:00000006 [INF] Session started; Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed", Id:"10f36252-cd0c-9b7f-a2e7-01dc33ef1014" (1d7cf8c0)
2022-01-16T18:26:17.0847430+01:00 0HMEP2JV06NIT:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 202.0779ms (791a596a)
2022-01-16T18:26:18.2024190+01:00 0HMEP2JV06NIT:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:18.2227030+01:00 0HMEP2JV06NIT:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:18.2228830+01:00 0HMEP2JV06NIT:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:18.2230140+01:00 0HMEP2JV06NIT:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:18.2242790+01:00 0HMEP2JV06NIT:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:18.2265670+01:00 0HMEP2JV06NIT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:18.3035290+01:00 0HMEP2JV06NIT:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:18.3038160+01:00 0HMEP2JV06NIT:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 80.755ms (afa2e885)
2022-01-16T18:26:18.3038670+01:00 0HMEP2JV06NIT:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:18.3044150+01:00 0HMEP2JV06NIT:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 102.0258ms (791a596a)
2022-01-16T18:26:19.4540730+01:00 0HMEP2JV06NIT:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:19.4560880+01:00 0HMEP2JV06NIT:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:19.4568700+01:00 0HMEP2JV06NIT:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:19.4570900+01:00 0HMEP2JV06NIT:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:19.4581950+01:00 0HMEP2JV06NIT:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:19.4608030+01:00 0HMEP2JV06NIT:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:19.4626600+01:00 0HMEP2JV06NIT:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:19.4630380+01:00 0HMEP2JV06NIT:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.7721ms (afa2e885)
2022-01-16T18:26:19.4631270+01:00 0HMEP2JV06NIT:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:19.4634890+01:00 0HMEP2JV06NIT:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 9.3816ms (791a596a)
2022-01-16T18:26:20.7999120+01:00 0HMEP2JV06NIT:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:20.8011780+01:00 0HMEP2JV06NIT:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:20.8012930+01:00 0HMEP2JV06NIT:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:20.8015130+01:00 0HMEP2JV06NIT:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:20.8021490+01:00 0HMEP2JV06NIT:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:20.8039450+01:00 0HMEP2JV06NIT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:20.8046850+01:00 0HMEP2JV06NIT:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:20.8049090+01:00 0HMEP2JV06NIT:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.3262ms (afa2e885)
2022-01-16T18:26:20.8049850+01:00 0HMEP2JV06NIT:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:20.8052530+01:00 0HMEP2JV06NIT:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.3087ms (791a596a)
2022-01-16T18:26:23.0106370+01:00 0HMEP2JV06NIT:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:23.0128250+01:00 0HMEP2JV06NIT:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:23.0129330+01:00 0HMEP2JV06NIT:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:23.0131200+01:00 0HMEP2JV06NIT:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:23.0139890+01:00 0HMEP2JV06NIT:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:23.0159110+01:00 0HMEP2JV06NIT:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:23.0168290+01:00 0HMEP2JV06NIT:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:23.0170560+01:00 0HMEP2JV06NIT:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.825ms (afa2e885)
2022-01-16T18:26:23.0171090+01:00 0HMEP2JV06NIT:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:23.0173780+01:00 0HMEP2JV06NIT:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.0161ms (791a596a)
2022-01-16T18:26:24.6668870+01:00 0HMEP2JV06NIT:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:24.6679410+01:00 0HMEP2JV06NIT:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:24.6680170+01:00 0HMEP2JV06NIT:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:24.6681520+01:00 0HMEP2JV06NIT:0000000B [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:24.6691210+01:00 0HMEP2JV06NIT:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:24.6713630+01:00 0HMEP2JV06NIT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:24.6725910+01:00 0HMEP2JV06NIT:0000000B [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:24.6728560+01:00 0HMEP2JV06NIT:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.6419ms (afa2e885)
2022-01-16T18:26:24.6729470+01:00 0HMEP2JV06NIT:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:24.6734120+01:00 0HMEP2JV06NIT:0000000B [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.5207ms (791a596a)
2022-01-16T18:26:25.2434050+01:00 0HMEP2JV06NIT:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:25.2449270+01:00 0HMEP2JV06NIT:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:25.2450340+01:00 0HMEP2JV06NIT:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:25.2455040+01:00 0HMEP2JV06NIT:0000000C [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:25.2466350+01:00 0HMEP2JV06NIT:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:25.2486950+01:00 0HMEP2JV06NIT:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:25.2500900+01:00 0HMEP2JV06NIT:0000000C [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:25.2503850+01:00 0HMEP2JV06NIT:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.7819ms (afa2e885)
2022-01-16T18:26:25.2504520+01:00 0HMEP2JV06NIT:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:25.2507470+01:00 0HMEP2JV06NIT:0000000C [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.3565ms (791a596a)
2022-01-16T18:26:25.8248110+01:00 0HMEP2JV06NIT:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:26:25.8279640+01:00 0HMEP2JV06NIT:0000000D [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:25.8280640+01:00 0HMEP2JV06NIT:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:25.8282930+01:00 0HMEP2JV06NIT:0000000D [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:25.8304710+01:00 0HMEP2JV06NIT:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:25.8332210+01:00 0HMEP2JV06NIT:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:25.8347860+01:00 0HMEP2JV06NIT:0000000D [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:26:25.8355970+01:00 0HMEP2JV06NIT:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 7.1239ms (afa2e885)
2022-01-16T18:26:25.8357150+01:00 0HMEP2JV06NIT:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:25.8365240+01:00 0HMEP2JV06NIT:0000000D [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 11.6954ms (791a596a)
2022-01-16T18:26:36.4392060+01:00 0HMEP2JV06NIT:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:26:36.4408100+01:00 0HMEP2JV06NIT:0000000E [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:36.4409690+01:00 0HMEP2JV06NIT:0000000E [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:36.4472770+01:00 0HMEP2JV06NIT:0000000E [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:36.4566580+01:00 0HMEP2JV06NIT:0000000E [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:36.4678000+01:00 0HMEP2JV06NIT:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:36.5660420+01:00 0HMEP2JV06NIT:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:26:36.5854370+01:00 0HMEP2JV06NIT:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Double), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Double), @p26='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p19, @p20, @p21, @p22);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p23, @p24, @p25, @p26);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:26:36.6769870+01:00 0HMEP2JV06NIT:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:26:41.5757480+01:00 0HMEP2JV06NIT:0000000E [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T18:26:41.5763180+01:00 0HMEP2JV06NIT:0000000E [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5129.1112ms (afa2e885)
2022-01-16T18:26:41.5764070+01:00 0HMEP2JV06NIT:0000000E [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:41.5795110+01:00 0HMEP2JV06NIT:0000000E [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5140.4657ms (791a596a)
2022-01-16T18:26:41.5843950+01:00 0HMEP2JV06NIT:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T18:26:41.5855600+01:00 0HMEP2JV06NIT:0000000F [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:41.5856460+01:00 0HMEP2JV06NIT:0000000F [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:41.5935820+01:00 0HMEP2JV06NIT:0000000F [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:41.5987550+01:00 0HMEP2JV06NIT:0000000F [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:41.6024030+01:00 0HMEP2JV06NIT:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:26:41.6293820+01:00 0HMEP2JV06NIT:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T18:26:41.6369650+01:00 0HMEP2JV06NIT:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:26:41.6584880+01:00 0HMEP2JV06NIT:0000000F [INF] Executed ViewResult - view "Index" executed in 24.3315ms. (f66409e9)
2022-01-16T18:26:41.6586350+01:00 0HMEP2JV06NIT:0000000F [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 64.9619ms (afa2e885)
2022-01-16T18:26:41.6587460+01:00 0HMEP2JV06NIT:0000000F [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:41.6590490+01:00 0HMEP2JV06NIT:0000000F [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 74.7117ms (791a596a)
2022-01-16T18:26:50.9509430+01:00 0HMEP2JV06NIT:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/155 - - (ca22a1cb)
2022-01-16T18:26:50.9522800+01:00 0HMEP2JV06NIT:00000010 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:26:50.9524010+01:00 0HMEP2JV06NIT:00000010 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:26:50.9652380+01:00 0HMEP2JV06NIT:00000010 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:26:50.9692180+01:00 0HMEP2JV06NIT:00000010 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:26:50.9970310+01:00 0HMEP2JV06NIT:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:26:50.9992310+01:00 0HMEP2JV06NIT:00000010 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T18:26:51.0084510+01:00 0HMEP2JV06NIT:00000010 [INF] Executed ViewResult - view "Invoice" executed in 10.5837ms. (f66409e9)
2022-01-16T18:26:51.0085380+01:00 0HMEP2JV06NIT:00000010 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 43.2266ms (afa2e885)
2022-01-16T18:26:51.0085890+01:00 0HMEP2JV06NIT:00000010 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:26:51.0087790+01:00 0HMEP2JV06NIT:00000010 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/155 - - - 200 - text/html;+charset=utf-8 57.8563ms (791a596a)
2022-01-16T18:27:07.1074810+01:00 0HMEP2JV06NIT:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Logout - - (ca22a1cb)
2022-01-16T18:27:07.1085600+01:00 0HMEP2JV06NIT:00000011 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:07.1149850+01:00 0HMEP2JV06NIT:00000011 [INF] Route matched with "{area = \"Security\", action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:07.1229760+01:00 0HMEP2JV06NIT:00000011 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2022-01-16T18:27:07.1242830+01:00 0HMEP2JV06NIT:00000011 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2022-01-16T18:27:07.1246590+01:00 0HMEP2JV06NIT:00000011 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2022-01-16T18:27:07.1249510+01:00 0HMEP2JV06NIT:00000011 [INF] Executing RedirectResult, redirecting to "/Security/Account/Login". (d98d540e)
2022-01-16T18:27:07.1250970+01:00 0HMEP2JV06NIT:00000011 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)" in 10.0281ms (afa2e885)
2022-01-16T18:27:07.1251620+01:00 0HMEP2JV06NIT:00000011 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:07.1257340+01:00 0HMEP2JV06NIT:00000011 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Logout - - - 302 0 - 18.2679ms (791a596a)
2022-01-16T18:27:07.1299640+01:00 0HMEP2JV06NIT:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - (ca22a1cb)
2022-01-16T18:27:07.1305080+01:00 0HMEP2JV06NIT:00000012 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:07.1320540+01:00 0HMEP2JV06NIT:00000012 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:07.1355460+01:00 0HMEP2JV06NIT:00000012 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T18:27:07.1636610+01:00 0HMEP2JV06NIT:00000012 [INF] Executed ViewResult - view "Login" executed in 30.4005ms. (f66409e9)
2022-01-16T18:27:07.1637580+01:00 0HMEP2JV06NIT:00000012 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 31.6232ms (afa2e885)
2022-01-16T18:27:07.1638130+01:00 0HMEP2JV06NIT:00000012 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:07.1640550+01:00 0HMEP2JV06NIT:00000012 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - - 200 - text/html;+charset=utf-8 34.0820ms (791a596a)
2022-01-16T18:27:10.9883530+01:00 0HMEP2JV06NIT:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 210 (ca22a1cb)
2022-01-16T18:27:10.9889070+01:00 0HMEP2JV06NIT:00000013 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:10.9968560+01:00 0HMEP2JV06NIT:00000013 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:11.0003350+01:00 0HMEP2JV06NIT:00000013 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:11.0024260+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:11.0290480+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T18:27:11.0329780+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T18:27:11.0352650+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:11.0372880+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T18:27:11.0390700+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:11.0404490+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T18:27:11.0419500+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:11.0435710+01:00 0HMEP2JV06NIT:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T18:27:11.0444330+01:00 0HMEP2JV06NIT:00000013 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T18:27:11.0446610+01:00 0HMEP2JV06NIT:00000013 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T18:27:11.0449180+01:00 0HMEP2JV06NIT:00000013 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 47.7874ms (afa2e885)
2022-01-16T18:27:11.0449580+01:00 0HMEP2JV06NIT:00000013 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:11.0451890+01:00 0HMEP2JV06NIT:00000013 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 210 - 302 0 - 56.8827ms (791a596a)
2022-01-16T18:27:11.0475940+01:00 0HMEP2JV06NIT:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T18:27:11.0481360+01:00 0HMEP2JV06NIT:00000014 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:11.0482330+01:00 0HMEP2JV06NIT:00000014 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:11.0484810+01:00 0HMEP2JV06NIT:00000014 [INF] Index viewed (84b92a55)
2022-01-16T18:27:11.0488790+01:00 0HMEP2JV06NIT:00000014 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:11.0497790+01:00 0HMEP2JV06NIT:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:27:11.0505430+01:00 0HMEP2JV06NIT:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:27:11.0507780+01:00 0HMEP2JV06NIT:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:27:11.0572990+01:00 0HMEP2JV06NIT:00000014 [INF] Executed ViewResult - view "Index" executed in 6.4997ms. (f66409e9)
2022-01-16T18:27:11.0574240+01:00 0HMEP2JV06NIT:00000014 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.1588ms (afa2e885)
2022-01-16T18:27:11.0575680+01:00 0HMEP2JV06NIT:00000014 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:11.0577430+01:00 0HMEP2JV06NIT:00000014 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 10.1480ms (791a596a)
2022-01-16T18:27:14.6472070+01:00 0HMEP2JV06NIT:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:27:14.6487500+01:00 0HMEP2JV06NIT:00000015 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:27:14.6488690+01:00 0HMEP2JV06NIT:00000015 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:14.6490680+01:00 0HMEP2JV06NIT:00000015 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:14.6504270+01:00 0HMEP2JV06NIT:00000015 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:14.6525410+01:00 0HMEP2JV06NIT:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:14.6531950+01:00 0HMEP2JV06NIT:00000015 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:27:14.6534050+01:00 0HMEP2JV06NIT:00000015 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.2519ms (afa2e885)
2022-01-16T18:27:14.6535450+01:00 0HMEP2JV06NIT:00000015 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:14.6537780+01:00 0HMEP2JV06NIT:00000015 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.5770ms (791a596a)
2022-01-16T18:27:15.4116540+01:00 0HMEP2JV06NIT:00000016 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:27:15.4124920+01:00 0HMEP2JV06NIT:00000016 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:27:15.4125680+01:00 0HMEP2JV06NIT:00000016 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:15.4126830+01:00 0HMEP2JV06NIT:00000016 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:15.4132290+01:00 0HMEP2JV06NIT:00000016 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:15.4153780+01:00 0HMEP2JV06NIT:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:15.4161130+01:00 0HMEP2JV06NIT:00000016 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:27:15.4164340+01:00 0HMEP2JV06NIT:00000016 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.6339ms (afa2e885)
2022-01-16T18:27:15.4165180+01:00 0HMEP2JV06NIT:00000016 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:15.4167880+01:00 0HMEP2JV06NIT:00000016 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.1459ms (791a596a)
2022-01-16T18:27:15.6454930+01:00 0HMEP2JV06NIT:00000017 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:27:15.6464170+01:00 0HMEP2JV06NIT:00000017 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:27:15.6465140+01:00 0HMEP2JV06NIT:00000017 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:15.6466570+01:00 0HMEP2JV06NIT:00000017 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:15.6473390+01:00 0HMEP2JV06NIT:00000017 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:15.6493610+01:00 0HMEP2JV06NIT:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:15.6498850+01:00 0HMEP2JV06NIT:00000017 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:27:15.6500630+01:00 0HMEP2JV06NIT:00000017 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.344ms (afa2e885)
2022-01-16T18:27:15.6501180+01:00 0HMEP2JV06NIT:00000017 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:15.6503070+01:00 0HMEP2JV06NIT:00000017 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 4.8270ms (791a596a)
2022-01-16T18:27:16.5060650+01:00 0HMEP2JV06NIT:00000018 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:27:16.5074360+01:00 0HMEP2JV06NIT:00000018 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:27:16.5076220+01:00 0HMEP2JV06NIT:00000018 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:16.5079930+01:00 0HMEP2JV06NIT:00000018 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:16.5092410+01:00 0HMEP2JV06NIT:00000018 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:16.5118910+01:00 0HMEP2JV06NIT:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:16.5125120+01:00 0HMEP2JV06NIT:00000018 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:27:16.5127290+01:00 0HMEP2JV06NIT:00000018 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.5372ms (afa2e885)
2022-01-16T18:27:16.5127980+01:00 0HMEP2JV06NIT:00000018 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:27:16.5131170+01:00 0HMEP2JV06NIT:00000018 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.1693ms (791a596a)
2022-01-16T18:27:20.8911950+01:00 0HMEP2JV06NIT:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:27:20.8930990+01:00 0HMEP2JV06NIT:00000019 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:27:20.8931780+01:00 0HMEP2JV06NIT:00000019 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:27:20.8932940+01:00 0HMEP2JV06NIT:00000019 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:27:20.8938090+01:00 0HMEP2JV06NIT:00000019 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:27:20.8969530+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:27:20.9020270+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:27:20.9038590+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:27:20.9051360+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:27:20.9063720+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:27:20.9113760+01:00 0HMEP2JV06NIT:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:28:20.9429000+01:00 0HMEP2JV06NIT:00000019 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 60051.5894ms (afa2e885)
2022-01-16T18:28:20.9431490+01:00 0HMEP2JV06NIT:00000019 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:28:21.0169150+01:00 0HMEP2JV06NIT:00000019 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
IronPdf.Exceptions.IronPdfNativeException: HTML: 'Timeout while rendering pdf from url'.

To learn how to solve this issue please read https://iron.helpscoutdocs.com/article/163-ironpdf-native-exception [Issue Code IRONPDF-NATIVE-EXECPTION]
   at IronPdf.Engines.Chrome.ChromeClient.(String )
   at IronPdf.Engines.Chrome.ChromeClient.RenderPDFFromHTML(String html, CefRenderSettings render_settings, CefBrowserSettings browser_settings)
   at .RenderPdfDocumentFromStringSnippet(ChromePdfRenderOptions Options, ChromeHttpLoginCredentials Login, String Content)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 144
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T18:28:21.0840500+01:00 0HMEP2JV06NIT:00000019 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 60195.0258ms (791a596a)
2022-01-16T18:29:37.3686380+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:37.8297570+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T18:29:38.1186630+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:29:38.1280230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:29:38.3495880+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:38.4392670+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:29:38.4718230+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:38.4834740+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:29:38.4899940+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:38.4903710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:29:38.5263060+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T18:29:38.5516050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:38.6471710+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:38.8895510+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T18:29:38.8896360+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T18:29:38.8898010+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T18:29:38.8898640+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T18:29:38.8899120+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T18:29:44.2414900+01:00 0HMEP2N3FC0BI:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:29:44.3491470+01:00 0HMEP2N3FC0BI:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:44.3508080+01:00 0HMEP2N3FC0BI:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:44.3990250+01:00 0HMEP2N3FC0BI:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:44.4469700+01:00 0HMEP2N3FC0BI:00000002 [INF] Accessing expired session, Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed" (08c5a9e7)
2022-01-16T18:29:44.4523400+01:00 0HMEP2N3FC0BI:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:44.4846040+01:00 0HMEP2N3FC0BI:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:44.7261930+01:00 0HMEP2N3FC0BH:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:29:44.7350060+01:00 0HMEP2N3FC0BH:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:44.7352020+01:00 0HMEP2N3FC0BH:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:44.7355770+01:00 0HMEP2N3FC0BH:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:44.7378360+01:00 0HMEP2N3FC0BH:00000002 [INF] Accessing expired session, Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed" (08c5a9e7)
2022-01-16T18:29:44.8069490+01:00 0HMEP2N3FC0BH:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:44.8122470+01:00 0HMEP2N3FC0BH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:44.8171400+01:00 0HMEP2N3FC0BI:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:29:44.8171230+01:00 0HMEP2N3FC0BH:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:29:44.8721570+01:00 0HMEP2N3FC0BI:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 459.9263ms (afa2e885)
2022-01-16T18:29:44.8721370+01:00 0HMEP2N3FC0BH:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 123.6693ms (afa2e885)
2022-01-16T18:29:44.8736500+01:00 0HMEP2N3FC0BI:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:44.8736630+01:00 0HMEP2N3FC0BH:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:44.8759330+01:00 0HMEP2N3FC0BH:00000002 [INF] Session started; Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed", Id:"c9bba35f-9582-47c6-6296-332ffea60f3a" (1d7cf8c0)
2022-01-16T18:29:44.8759620+01:00 0HMEP2N3FC0BI:00000002 [INF] Session started; Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed", Id:"a3bdbfd9-cc75-5eb1-3ac7-7244dab2ccde" (1d7cf8c0)
2022-01-16T18:29:44.8841840+01:00 0HMEP2N3FC0BI:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 647.3268ms (791a596a)
2022-01-16T18:29:44.8841730+01:00 0HMEP2N3FC0BH:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 157.3802ms (791a596a)
2022-01-16T18:29:44.9844770+01:00 0HMEP2N3FC0BH:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:29:45.0043270+01:00 0HMEP2N3FC0BH:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:45.0046720+01:00 0HMEP2N3FC0BH:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:45.0048370+01:00 0HMEP2N3FC0BH:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:45.0071360+01:00 0HMEP2N3FC0BH:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:45.0101120+01:00 0HMEP2N3FC0BH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:45.0918410+01:00 0HMEP2N3FC0BH:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:29:45.0926880+01:00 0HMEP2N3FC0BH:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 87.7348ms (afa2e885)
2022-01-16T18:29:45.0928210+01:00 0HMEP2N3FC0BH:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:45.0935070+01:00 0HMEP2N3FC0BH:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 109.1400ms (791a596a)
2022-01-16T18:29:45.8738680+01:00 0HMEP2N3FC0BH:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:29:45.8757160+01:00 0HMEP2N3FC0BH:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:45.8758070+01:00 0HMEP2N3FC0BH:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:45.8759540+01:00 0HMEP2N3FC0BH:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:45.8770440+01:00 0HMEP2N3FC0BH:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:45.8789590+01:00 0HMEP2N3FC0BH:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:45.8798080+01:00 0HMEP2N3FC0BH:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:29:45.8800440+01:00 0HMEP2N3FC0BH:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0247ms (afa2e885)
2022-01-16T18:29:45.8801130+01:00 0HMEP2N3FC0BH:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:45.8804350+01:00 0HMEP2N3FC0BH:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.7064ms (791a596a)
2022-01-16T18:29:48.6384150+01:00 0HMEP2N3FC0BH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:29:48.6401620+01:00 0HMEP2N3FC0BH:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:48.6402710+01:00 0HMEP2N3FC0BH:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:48.6468330+01:00 0HMEP2N3FC0BH:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:48.6603080+01:00 0HMEP2N3FC0BH:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:48.7007060+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:49.0723620+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:29:49.1201740+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:29:49.1232460+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:29:49.3747530+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:29:55.9748650+01:00 0HMEP2N3FC0BH:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T18:29:55.9775320+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7330.8495ms (afa2e885)
2022-01-16T18:29:55.9786350+01:00 0HMEP2N3FC0BH:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:55.9911980+01:00 0HMEP2N3FC0BH:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7353.0172ms (791a596a)
2022-01-16T18:29:55.9938900+01:00 0HMEP2N3FC0BH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T18:29:55.9950390+01:00 0HMEP2N3FC0BH:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:29:55.9951410+01:00 0HMEP2N3FC0BH:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:29:56.0009050+01:00 0HMEP2N3FC0BH:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:29:56.0042840+01:00 0HMEP2N3FC0BH:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:29:56.0073070+01:00 0HMEP2N3FC0BH:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:29:56.0378580+01:00 0HMEP2N3FC0BH:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T18:29:56.0878590+01:00 0HMEP2N3FC0BH:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:29:56.6533930+01:00 0HMEP2N3FC0BH:00000006 [INF] Executed ViewResult - view "Index" executed in 582.5687ms. (f66409e9)
2022-01-16T18:29:56.6543190+01:00 0HMEP2N3FC0BH:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 653.1778ms (afa2e885)
2022-01-16T18:29:56.6545820+01:00 0HMEP2N3FC0BH:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:29:56.6705990+01:00 0HMEP2N3FC0BH:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 676.4520ms (791a596a)
2022-01-16T18:32:14.0598610+01:00 0HMEP2N3FC0BJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Logout - - (ca22a1cb)
2022-01-16T18:32:14.0615180+01:00 0HMEP2N3FC0BJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:14.0665220+01:00 0HMEP2N3FC0BJ:00000002 [INF] Route matched with "{area = \"Security\", action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:14.0835210+01:00 0HMEP2N3FC0BJ:00000002 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2022-01-16T18:32:14.0848250+01:00 0HMEP2N3FC0BJ:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2022-01-16T18:32:14.0850460+01:00 0HMEP2N3FC0BJ:00000002 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2022-01-16T18:32:14.0853900+01:00 0HMEP2N3FC0BJ:00000002 [INF] Executing RedirectResult, redirecting to "/Security/Account/Login". (d98d540e)
2022-01-16T18:32:14.0854990+01:00 0HMEP2N3FC0BJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)" in 18.8988ms (afa2e885)
2022-01-16T18:32:14.0856740+01:00 0HMEP2N3FC0BJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Logout (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:14.0859810+01:00 0HMEP2N3FC0BJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Logout - - - 302 0 - 26.1396ms (791a596a)
2022-01-16T18:32:14.0889540+01:00 0HMEP2N3FC0BJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - (ca22a1cb)
2022-01-16T18:32:14.0908330+01:00 0HMEP2N3FC0BJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:14.0923360+01:00 0HMEP2N3FC0BJ:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:14.0943640+01:00 0HMEP2N3FC0BJ:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T18:32:14.1351810+01:00 0HMEP2N3FC0BJ:00000003 [INF] Executed ViewResult - view "Login" executed in 42.1237ms. (f66409e9)
2022-01-16T18:32:14.1352440+01:00 0HMEP2N3FC0BJ:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 42.862ms (afa2e885)
2022-01-16T18:32:14.1352770+01:00 0HMEP2N3FC0BJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:14.1354770+01:00 0HMEP2N3FC0BJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - - 200 - text/html;+charset=utf-8 46.5016ms (791a596a)
2022-01-16T18:32:16.9738770+01:00 0HMEP2N3FC0BJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T18:32:16.9743970+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:16.9851070+01:00 0HMEP2N3FC0BJ:00000004 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:17.0167650+01:00 0HMEP2N3FC0BJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:17.0187170+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:17.0908080+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T18:32:17.1117540+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T18:32:17.1153940+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:17.1258080+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T18:32:17.1334600+01:00 0HMEP2N3FC0BJ:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T18:32:17.1368160+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T18:32:17.1369010+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 151.7089ms (afa2e885)
2022-01-16T18:32:17.1369250+01:00 0HMEP2N3FC0BJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:17.1371040+01:00 0HMEP2N3FC0BJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 163.2589ms (791a596a)
2022-01-16T18:32:17.1393780+01:00 0HMEP2N3FC0BJ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T18:32:17.1399220+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:17.1414660+01:00 0HMEP2N3FC0BJ:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:17.1427250+01:00 0HMEP2N3FC0BJ:00000005 [INF] Index viewed (84b92a55)
2022-01-16T18:32:17.1435870+01:00 0HMEP2N3FC0BJ:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:17.1489580+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:32:17.1592820+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:32:17.1613470+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:32:17.1846070+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executed ViewResult - view "Index" executed in 24.6555ms. (f66409e9)
2022-01-16T18:32:17.1846990+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 43.1395ms (afa2e885)
2022-01-16T18:32:17.1847300+01:00 0HMEP2N3FC0BJ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:17.1848900+01:00 0HMEP2N3FC0BJ:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 45.4934ms (791a596a)
2022-01-16T18:32:20.1934950+01:00 0HMEP2N3FC0BJ:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:32:20.1966310+01:00 0HMEP2N3FC0BJ:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:20.1967800+01:00 0HMEP2N3FC0BJ:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:20.1970860+01:00 0HMEP2N3FC0BJ:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:20.1995100+01:00 0HMEP2N3FC0BJ:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:20.2029410+01:00 0HMEP2N3FC0BJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:20.2045390+01:00 0HMEP2N3FC0BJ:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:32:20.2054910+01:00 0HMEP2N3FC0BJ:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 8.2763ms (afa2e885)
2022-01-16T18:32:20.2055660+01:00 0HMEP2N3FC0BJ:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:20.2065000+01:00 0HMEP2N3FC0BJ:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 13.1167ms (791a596a)
2022-01-16T18:32:21.4560640+01:00 0HMEP2N3FC0BJ:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:32:21.4573030+01:00 0HMEP2N3FC0BJ:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:21.4574590+01:00 0HMEP2N3FC0BJ:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:21.4575980+01:00 0HMEP2N3FC0BJ:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:21.4582870+01:00 0HMEP2N3FC0BJ:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:21.4604620+01:00 0HMEP2N3FC0BJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:21.4611950+01:00 0HMEP2N3FC0BJ:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:32:21.4614000+01:00 0HMEP2N3FC0BJ:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.7402ms (afa2e885)
2022-01-16T18:32:21.4614650+01:00 0HMEP2N3FC0BJ:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:21.4619180+01:00 0HMEP2N3FC0BJ:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.8572ms (791a596a)
2022-01-16T18:32:23.9202620+01:00 0HMEP2N3FC0BJ:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:32:23.9213640+01:00 0HMEP2N3FC0BJ:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:23.9214530+01:00 0HMEP2N3FC0BJ:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:23.9217460+01:00 0HMEP2N3FC0BJ:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:23.9224660+01:00 0HMEP2N3FC0BJ:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:23.9253180+01:00 0HMEP2N3FC0BJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:23.9258600+01:00 0HMEP2N3FC0BJ:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:32:23.9260600+01:00 0HMEP2N3FC0BJ:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.2325ms (afa2e885)
2022-01-16T18:32:23.9261150+01:00 0HMEP2N3FC0BJ:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:23.9263600+01:00 0HMEP2N3FC0BJ:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.1464ms (791a596a)
2022-01-16T18:32:24.4985640+01:00 0HMEP2N3FC0BJ:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:32:24.5003450+01:00 0HMEP2N3FC0BJ:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:24.5006200+01:00 0HMEP2N3FC0BJ:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:24.5008260+01:00 0HMEP2N3FC0BJ:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:24.5016630+01:00 0HMEP2N3FC0BJ:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:24.5036890+01:00 0HMEP2N3FC0BJ:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:24.5042960+01:00 0HMEP2N3FC0BJ:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:32:24.5046600+01:00 0HMEP2N3FC0BJ:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.7417ms (afa2e885)
2022-01-16T18:32:24.5047500+01:00 0HMEP2N3FC0BJ:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:24.5051680+01:00 0HMEP2N3FC0BJ:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6009ms (791a596a)
2022-01-16T18:32:25.6578290+01:00 0HMEP2N3FC0BJ:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:32:25.6587860+01:00 0HMEP2N3FC0BJ:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:25.6588530+01:00 0HMEP2N3FC0BJ:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:25.6592220+01:00 0HMEP2N3FC0BJ:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:25.6598300+01:00 0HMEP2N3FC0BJ:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:25.6618330+01:00 0HMEP2N3FC0BJ:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:25.6630230+01:00 0HMEP2N3FC0BJ:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:32:25.6633490+01:00 0HMEP2N3FC0BJ:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0215ms (afa2e885)
2022-01-16T18:32:25.6634730+01:00 0HMEP2N3FC0BJ:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:32:25.6638710+01:00 0HMEP2N3FC0BJ:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.0550ms (791a596a)
2022-01-16T18:32:27.5518640+01:00 0HMEP2N3FC0BJ:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:32:27.5532600+01:00 0HMEP2N3FC0BJ:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T18:32:27.5536900+01:00 0HMEP2N3FC0BJ:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:32:27.5538440+01:00 0HMEP2N3FC0BJ:0000000B [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:32:27.5548880+01:00 0HMEP2N3FC0BJ:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:32:27.5588980+01:00 0HMEP2N3FC0BJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:32:27.5674890+01:00 0HMEP2N3FC0BJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:32:27.5783130+01:00 0HMEP2N3FC0BJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:32:27.5894150+01:00 0HMEP2N3FC0BJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:33:48.8134400+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:33:49.2267620+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T18:33:49.4825380+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:33:49.4911050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:33:49.6948780+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:33:49.7906710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:33:49.8094560+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:33:49.8099350+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:33:49.8130190+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:33:49.8132650+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T18:33:49.8370280+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T18:33:49.8613330+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:33:49.9566440+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T18:33:50.1842590+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T18:33:50.1843310+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T18:33:50.1845290+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T18:33:50.1845730+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T18:33:50.1846110+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T18:34:14.4692770+01:00 0HMEP2PL1EE5I:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:34:14.7185990+01:00 0HMEP2PL1EE5I:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:34:14.7209620+01:00 0HMEP2PL1EE5I:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:34:14.7879610+01:00 0HMEP2PL1EE5I:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:34:14.8115610+01:00 0HMEP2PL1EE5I:00000002 [INF] Accessing expired session, Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed" (08c5a9e7)
2022-01-16T18:34:14.9186410+01:00 0HMEP2PL1EE5I:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T18:34:14.9541680+01:00 0HMEP2PL1EE5I:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 131.6062ms (afa2e885)
2022-01-16T18:34:14.9575020+01:00 0HMEP2PL1EE5I:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:34:14.9897330+01:00 0HMEP2PL1EE5I:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 527.6486ms (791a596a)
2022-01-16T18:34:15.0011160+01:00 0HMEP2PL1EE5I:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T18:34:15.0095830+01:00 0HMEP2PL1EE5I:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:34:15.0194980+01:00 0HMEP2PL1EE5I:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:34:15.0263180+01:00 0HMEP2PL1EE5I:00000003 [INF] Index viewed (84b92a55)
2022-01-16T18:34:15.0355590+01:00 0HMEP2PL1EE5I:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:34:15.0807660+01:00 0HMEP2PL1EE5I:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T18:34:15.1247410+01:00 0HMEP2PL1EE5I:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T18:34:15.2261860+01:00 0HMEP2PL1EE5I:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:34:15.2980750+01:00 0HMEP2PL1EE5I:00000003 [INF] Accessing expired session, Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed" (08c5a9e7)
2022-01-16T18:34:15.5384010+01:00 0HMEP2PL1EE5I:00000003 [INF] Executed ViewResult - view "Index" executed in 326.5558ms. (f66409e9)
2022-01-16T18:34:15.5385660+01:00 0HMEP2PL1EE5I:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 518.952ms (afa2e885)
2022-01-16T18:34:15.5386930+01:00 0HMEP2PL1EE5I:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:34:15.5488710+01:00 0HMEP2PL1EE5I:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 547.5200ms (791a596a)
2022-01-16T18:34:59.9826520+01:00 0HMEP2PL1EE5I:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:35:00.0124010+01:00 0HMEP2PL1EE5I:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:35:00.0125710+01:00 0HMEP2PL1EE5I:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:35:00.0305290+01:00 0HMEP2PL1EE5I:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:35:00.0549420+01:00 0HMEP2PL1EE5I:00000004 [INF] Accessing expired session, Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed" (08c5a9e7)
2022-01-16T18:35:00.0907690+01:00 0HMEP2PL1EE5I:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:35:00.1019960+01:00 0HMEP2PL1EE5I:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:35:00.2669500+01:00 0HMEP2PL1EE5I:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:35:00.2823960+01:00 0HMEP2PL1EE5I:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 251.7725ms (afa2e885)
2022-01-16T18:35:00.2824800+01:00 0HMEP2PL1EE5I:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:35:00.2830870+01:00 0HMEP2PL1EE5I:00000004 [INF] Session started; Key:"b1f88f20-6bcb-c767-898b-7397dcaa14ed", Id:"250401aa-b507-609f-e748-8a0255363e2f" (1d7cf8c0)
2022-01-16T18:35:00.2840110+01:00 0HMEP2PL1EE5I:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 301.4259ms (791a596a)
2022-01-16T18:35:00.5555620+01:00 0HMEP2PL1EE5I:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T18:35:00.5567610+01:00 0HMEP2PL1EE5I:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:35:00.5569750+01:00 0HMEP2PL1EE5I:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:35:00.5571160+01:00 0HMEP2PL1EE5I:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:35:00.5593100+01:00 0HMEP2PL1EE5I:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:35:00.5612300+01:00 0HMEP2PL1EE5I:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T18:35:00.6219110+01:00 0HMEP2PL1EE5I:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T18:35:00.6221470+01:00 0HMEP2PL1EE5I:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 64.9831ms (afa2e885)
2022-01-16T18:35:00.6221790+01:00 0HMEP2PL1EE5I:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:35:00.6225700+01:00 0HMEP2PL1EE5I:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 67.0692ms (791a596a)
2022-01-16T18:35:02.4041380+01:00 0HMEP2PL1EE5I:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T18:35:02.4051070+01:00 0HMEP2PL1EE5I:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:35:02.4051830+01:00 0HMEP2PL1EE5I:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:35:02.4055300+01:00 0HMEP2PL1EE5I:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:35:02.4125130+01:00 0HMEP2PL1EE5I:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:35:02.4583930+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:35:02.7397620+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:35:02.7913680+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:35:02.7946280+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T18:35:02.9680750+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T18:35:08.1016040+01:00 0HMEP2PL1EE5I:00000006 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T18:35:08.1063220+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5700.7041ms (afa2e885)
2022-01-16T18:35:08.1083210+01:00 0HMEP2PL1EE5I:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:35:08.1178570+01:00 0HMEP2PL1EE5I:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5713.8614ms (791a596a)
2022-01-16T18:35:08.1213340+01:00 0HMEP2PL1EE5I:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T18:35:08.1224830+01:00 0HMEP2PL1EE5I:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T18:35:08.1225550+01:00 0HMEP2PL1EE5I:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T18:35:08.1284050+01:00 0HMEP2PL1EE5I:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T18:35:08.1328140+01:00 0HMEP2PL1EE5I:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T18:35:08.1365500+01:00 0HMEP2PL1EE5I:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T18:35:08.1709650+01:00 0HMEP2PL1EE5I:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T18:35:08.1850630+01:00 0HMEP2PL1EE5I:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T18:35:08.2131660+01:00 0HMEP2PL1EE5I:00000007 [INF] Executed ViewResult - view "Index" executed in 30.8977ms. (f66409e9)
2022-01-16T18:35:08.2133880+01:00 0HMEP2PL1EE5I:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 84.9053ms (afa2e885)
2022-01-16T18:35:08.2134420+01:00 0HMEP2PL1EE5I:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T18:35:08.2137930+01:00 0HMEP2PL1EE5I:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 92.5320ms (791a596a)
