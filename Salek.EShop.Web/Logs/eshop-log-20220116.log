2022-01-16T08:31:25.2343870+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:25.8553190+01:00  [INF] Executed DbCommand ("76"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T08:31:35.9669290+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:36.8477330+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T08:31:37.5214370+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T08:31:37.5575440+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T08:31:38.0565940+01:00  [INF] Executed DbCommand ("73"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.2067850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.2610970+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.2660370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.4606840+01:00  [INF] Executed DbCommand ("71"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.4662900+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T08:31:38.6079930+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T08:31:38.7289940+01:00  [INF] Executed DbCommand ("76"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:38.9482970+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:39.9158430+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T08:31:39.9223380+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T08:31:39.9357180+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T08:31:39.9428440+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T08:31:39.9481560+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T08:31:40.2968960+01:00 0HMEOO8U8IURF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:40.4944870+01:00 0HMEOO8U8IURF:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T08:31:40.5368820+01:00 0HMEOO8U8IURF:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T08:31:40.5501400+01:00 0HMEOO8U8IURF:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 265.0666ms (791a596a)
2022-01-16T08:31:40.5790400+01:00 0HMEOO8U8IURF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:40.5830330+01:00 0HMEOO8U8IURF:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:40.6131860+01:00 0HMEOO8U8IURF:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:40.6666830+01:00 0HMEOO8U8IURF:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T08:31:40.9462150+01:00 0HMEOO8U8IURF:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:41.1602890+01:00 0HMEOO8U8IURF:00000003 [INF] Executed ViewResult - view "Login" executed in 504.9817ms. (f66409e9)
2022-01-16T08:31:41.1620650+01:00 0HMEOO8U8IURF:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 547.3835ms (afa2e885)
2022-01-16T08:31:41.1623240+01:00 0HMEOO8U8IURF:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:41.1658590+01:00 0HMEOO8U8IURF:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - - 200 - text/html;+charset=utf-8 586.7513ms (791a596a)
2022-01-16T08:31:41.5025000+01:00 0HMEOO8U8IURH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/login.css - - (ca22a1cb)
2022-01-16T08:31:41.5034000+01:00 0HMEOO8U8IURG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/site.css - - (ca22a1cb)
2022-01-16T08:31:41.5035050+01:00 0HMEOO8U8IURF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - (ca22a1cb)
2022-01-16T08:31:41.5038770+01:00 0HMEOO8U8IURI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - (ca22a1cb)
2022-01-16T08:31:41.5062940+01:00 0HMEOO8U8IURJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - (ca22a1cb)
2022-01-16T08:31:41.5149130+01:00 0HMEOO8U8IURG:00000002 [INF] The file "/css/site.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURF:00000004 [INF] The file "/lib/bootstrap/dist/css/bootstrap.min.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURJ:00000002 [INF] The file "/lib/jquery/dist/jquery.min.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5149130+01:00 0HMEOO8U8IURI:00000002 [INF] The file "/js/vanilla-tilt.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5148980+01:00 0HMEOO8U8IURH:00000002 [INF] The file "/css/login.css" was not modified (f1f8d725)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - - 304 - application/javascript 12.8331ms (791a596a)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURF:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 14.0577ms (791a596a)
2022-01-16T08:31:41.5167820+01:00 0HMEOO8U8IURG:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/site.css - - - 304 - text/css 14.0577ms (791a596a)
2022-01-16T08:31:41.5168560+01:00 0HMEOO8U8IURH:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/login.css - - - 304 - text/css 39.1738ms (791a596a)
2022-01-16T08:31:41.5169490+01:00 0HMEOO8U8IURJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 304 - application/javascript 10.6644ms (791a596a)
2022-01-16T08:31:41.5230520+01:00 0HMEOO8U8IURI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - (ca22a1cb)
2022-01-16T08:31:41.5235140+01:00 0HMEOO8U8IURI:00000003 [INF] The file "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5236040+01:00 0HMEOO8U8IURH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - (ca22a1cb)
2022-01-16T08:31:41.5237970+01:00 0HMEOO8U8IURI:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - application/javascript 0.8183ms (791a596a)
2022-01-16T08:31:41.5239060+01:00 0HMEOO8U8IURH:00000003 [INF] The file "/js/site.js" was not modified (f1f8d725)
2022-01-16T08:31:41.5261780+01:00 0HMEOO8U8IURH:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - - 304 - application/javascript 2.6382ms (791a596a)
2022-01-16T08:31:41.5819640+01:00 0HMEOO8U8IURH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/parallax.png - - (ca22a1cb)
2022-01-16T08:31:41.5823180+01:00 0HMEOO8U8IURH:00000004 [INF] The file "/img/parallax.png" was not modified (f1f8d725)
2022-01-16T08:31:41.5826010+01:00 0HMEOO8U8IURH:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/parallax.png - - - 304 - image/png 0.6685ms (791a596a)
2022-01-16T08:31:43.4488710+01:00 0HMEOO8U8IURH:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T08:31:43.4522640+01:00 0HMEOO8U8IURH:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:43.5242380+01:00 0HMEOO8U8IURH:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:43.6541720+01:00 0HMEOO8U8IURH:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:43.7374650+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("74"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:44.0882860+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T08:31:44.2228030+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T08:31:44.2653620+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:44.3213880+01:00 0HMEOO8U8IURH:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T08:31:44.3583880+01:00 0HMEOO8U8IURH:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T08:31:44.3812530+01:00 0HMEOO8U8IURH:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T08:31:44.3851270+01:00 0HMEOO8U8IURH:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 860.5953ms (afa2e885)
2022-01-16T08:31:44.3864920+01:00 0HMEOO8U8IURH:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:44.3969900+01:00 0HMEOO8U8IURH:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 947.9293ms (791a596a)
2022-01-16T08:31:44.3999720+01:00 0HMEOO8U8IURH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T08:31:44.4105480+01:00 0HMEOO8U8IURH:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:44.4142490+01:00 0HMEOO8U8IURH:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:44.4218810+01:00 0HMEOO8U8IURH:00000006 [INF] Index viewed (84b92a55)
2022-01-16T08:31:44.4715220+01:00 0HMEOO8U8IURH:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:44.4847930+01:00 0HMEOO8U8IURH:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T08:31:44.5085690+01:00 0HMEOO8U8IURH:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T08:31:44.5511720+01:00 0HMEOO8U8IURH:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T08:31:44.5736990+01:00 0HMEOO8U8IURH:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:44.6006730+01:00 0HMEOO8U8IURH:00000006 [INF] Executed ViewResult - view "Index" executed in 51.6902ms. (f66409e9)
2022-01-16T08:31:44.6009170+01:00 0HMEOO8U8IURH:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 186.4747ms (afa2e885)
2022-01-16T08:31:44.6010640+01:00 0HMEOO8U8IURH:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:44.6016350+01:00 0HMEOO8U8IURH:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 201.6425ms (791a596a)
2022-01-16T08:31:44.6563720+01:00 0HMEOO8U8IURH:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - (ca22a1cb)
2022-01-16T08:31:44.6568640+01:00 0HMEOO8U8IURH:00000007 [INF] The file "/css/shop_homepage.css" was not modified (f1f8d725)
2022-01-16T08:31:44.6575840+01:00 0HMEOO8U8IURH:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - - 304 - text/css 1.2326ms (791a596a)
2022-01-16T08:31:44.6614260+01:00 0HMEOO8U8IURI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/Product.js - - (ca22a1cb)
2022-01-16T08:31:44.6618370+01:00 0HMEOO8U8IURI:00000004 [INF] The file "/js/Product.js" was not modified (f1f8d725)
2022-01-16T08:31:44.6622640+01:00 0HMEOO8U8IURI:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/Product.js - - - 304 - application/javascript 0.8661ms (791a596a)
2022-01-16T08:31:44.6770160+01:00 0HMEOO8U8IURI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.6774230+01:00 0HMEOO8U8IURI:00000005 [INF] The file "/img/product/Rombas9.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.6778500+01:00 0HMEOO8U8IURI:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - - 304 - image/jpeg 0.7820ms (791a596a)
2022-01-16T08:31:44.8001780+01:00 0HMEOO8U8IURG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8003340+01:00 0HMEOO8U8IURJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8005840+01:00 0HMEOO8U8IURG:00000003 [INF] The file "/img/product/Xiaomi Roidmi EVE Plus .jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006380+01:00 0HMEOO8U8IURF:00000005 [INF] The file "/img/product/ETA Raggio.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006380+01:00 0HMEOO8U8IURJ:00000003 [INF] The file "/img/product/Concept VR1000.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8006570+01:00 0HMEOO8U8IURI:00000006 [INF] The file "/img/product/Roborock S7 White.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8009170+01:00 0HMEOO8U8IURG:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - - 304 - image/jpeg 0.8563ms (791a596a)
2022-01-16T08:31:44.8009250+01:00 0HMEOO8U8IURJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - - 304 - image/jpeg 0.5723ms (791a596a)
2022-01-16T08:31:44.8009900+01:00 0HMEOO8U8IURF:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - - 304 - image/jpeg 0.6072ms (791a596a)
2022-01-16T08:31:44.8009230+01:00 0HMEOO8U8IURI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - - 304 - image/jpeg 0.6058ms (791a596a)
2022-01-16T08:31:44.8285210+01:00 0HMEOO8U8IURH:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - (ca22a1cb)
2022-01-16T08:31:44.8326300+01:00 0HMEOO8U8IURH:00000008 [INF] The file "/img/product/Roborock tyčový vysavač H7.jpeg" was not modified (f1f8d725)
2022-01-16T08:31:44.8330790+01:00 0HMEOO8U8IURH:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - - 304 - image/jpeg 31.4766ms (791a596a)
2022-01-16T08:31:48.4157690+01:00 0HMEOO8U8IURH:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T08:31:48.4237480+01:00 0HMEOO8U8IURH:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:48.4239950+01:00 0HMEOO8U8IURH:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:48.4262880+01:00 0HMEOO8U8IURH:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:48.4336370+01:00 0HMEOO8U8IURH:00000009 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:48.4350470+01:00 0HMEOO8U8IURH:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:48.4442600+01:00 0HMEOO8U8IURH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:48.5613860+01:00 0HMEOO8U8IURJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T08:31:48.5656580+01:00 0HMEOO8U8IURJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:48.5658140+01:00 0HMEOO8U8IURJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:48.5660050+01:00 0HMEOO8U8IURJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:48.5663360+01:00 0HMEOO8U8IURJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T08:31:48.5667080+01:00 0HMEOO8U8IURJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:48.5680970+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:48.6392240+01:00 0HMEOO8U8IURH:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T08:31:48.6392120+01:00 0HMEOO8U8IURJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T08:31:48.6611470+01:00 0HMEOO8U8IURH:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 234.7149ms (afa2e885)
2022-01-16T08:31:48.6611360+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 95.0398ms (afa2e885)
2022-01-16T08:31:48.6612230+01:00 0HMEOO8U8IURH:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:48.6612230+01:00 0HMEOO8U8IURJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:48.6618890+01:00 0HMEOO8U8IURJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"fafa2891-da52-5649-7a5d-935779a190d1" (1d7cf8c0)
2022-01-16T08:31:48.6618890+01:00 0HMEOO8U8IURH:00000009 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"945cb815-3ea0-4c6d-489b-3ec14144907b" (1d7cf8c0)
2022-01-16T08:31:48.6630700+01:00 0HMEOO8U8IURH:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 247.5031ms (791a596a)
2022-01-16T08:31:48.6630700+01:00 0HMEOO8U8IURJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 101.7235ms (791a596a)
2022-01-16T08:31:50.6443490+01:00 0HMEOO8U8IURH:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T08:31:50.6457490+01:00 0HMEOO8U8IURH:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:50.6459060+01:00 0HMEOO8U8IURH:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:50.6514650+01:00 0HMEOO8U8IURH:0000000A [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:50.7044680+01:00 0HMEOO8U8IURH:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:50.7681260+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("28"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:51.1007620+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("40"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T08:31:51.1312660+01:00 0HMEOO8U8IURH:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T08:31:59.4613330+01:00 0HMEOO8U8IURH:0000000A [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T08:31:59.4617640+01:00 0HMEOO8U8IURH:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8810.498ms (afa2e885)
2022-01-16T08:31:59.4619850+01:00 0HMEOO8U8IURH:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:59.4645720+01:00 0HMEOO8U8IURH:0000000A [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8820.5649ms (791a596a)
2022-01-16T08:31:59.4692300+01:00 0HMEOO8U8IURH:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T08:31:59.4708500+01:00 0HMEOO8U8IURH:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T08:31:59.4709940+01:00 0HMEOO8U8IURH:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T08:31:59.4759120+01:00 0HMEOO8U8IURH:0000000B [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T08:31:59.4800430+01:00 0HMEOO8U8IURH:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T08:31:59.5209400+01:00 0HMEOO8U8IURH:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T08:31:59.6547380+01:00 0HMEOO8U8IURH:0000000B [INF] Executed DbCommand ("34"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T08:31:59.6782620+01:00 0HMEOO8U8IURH:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T08:31:59.7006030+01:00 0HMEOO8U8IURH:0000000B [INF] Executed ViewResult - view "Index" executed in 23.611ms. (f66409e9)
2022-01-16T08:31:59.7007700+01:00 0HMEOO8U8IURH:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 224.7383ms (afa2e885)
2022-01-16T08:31:59.7008620+01:00 0HMEOO8U8IURH:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T08:31:59.7012240+01:00 0HMEOO8U8IURH:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 232.0709ms (791a596a)
2022-01-16T10:05:31.2866170+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T10:05:32.0729410+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T10:05:32.4969360+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T10:05:32.5073070+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T10:05:32.7766390+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9215050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:32.9716320+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9830780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:32.9906280+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:32.9910140+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T10:05:33.0298270+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T10:05:33.0641040+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:33.2057230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T10:05:33.4991690+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T10:05:33.4992500+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T10:05:33.4994470+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T10:05:33.4995090+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T10:05:33.4995460+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:51:56.7897630+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:52:15.4541380+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:16.3819850+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:52:16.7358120+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:52:16.7488310+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:52:17.0504190+01:00  [INF] Executed DbCommand ("39"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.1861240+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.2186200+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.2319280+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.2561170+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.2569660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:52:17.3018160+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:52:17.3383710+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.4533300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:17.7925690+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:52:17.7926670+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:52:17.7930360+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:52:17.7931150+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:52:17.7931530+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:52:27.4628830+01:00 0HMEORP4K94DI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T11:52:27.5739410+01:00 0HMEORP4K94DI:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T11:52:27.5901630+01:00 0HMEORP4K94DI:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T11:52:27.6000520+01:00 0HMEORP4K94DI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 302 0 - 143.4370ms (791a596a)
2022-01-16T11:52:27.6093300+01:00 0HMEORP4K94DI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrders - - (ca22a1cb)
2022-01-16T11:52:27.6145730+01:00 0HMEORP4K94DI:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:27.6506660+01:00 0HMEORP4K94DI:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:27.6928260+01:00 0HMEORP4K94DI:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T11:52:27.8880090+01:00 0HMEORP4K94DI:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:28.0253020+01:00 0HMEORP4K94DI:00000003 [INF] Executed ViewResult - view "Login" executed in 333.6099ms. (f66409e9)
2022-01-16T11:52:28.0268010+01:00 0HMEORP4K94DI:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 374.7491ms (afa2e885)
2022-01-16T11:52:28.0269610+01:00 0HMEORP4K94DI:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:28.0310820+01:00 0HMEORP4K94DI:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrders - - - 200 - text/html;+charset=utf-8 421.6941ms (791a596a)
2022-01-16T11:52:28.4054110+01:00 0HMEORP4K94DI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico - - (ca22a1cb)
2022-01-16T11:52:28.4332830+01:00 0HMEORP4K94DI:00000004 [INF] The file "/favicon.ico" was not modified (f1f8d725)
2022-01-16T11:52:28.4362100+01:00 0HMEORP4K94DI:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/favicon.ico - - - 304 - image/x-icon 30.8055ms (791a596a)
2022-01-16T11:52:30.0753520+01:00 0HMEORP4K94DI:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T11:52:30.0796480+01:00 0HMEORP4K94DI:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:30.1129820+01:00 0HMEORP4K94DI:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:30.1914990+01:00 0HMEORP4K94DI:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:30.1956870+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:30.3691150+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T11:52:30.4231730+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T11:52:30.4285600+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:30.4410730+01:00 0HMEORP4K94DI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T11:52:30.4640670+01:00 0HMEORP4K94DI:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T11:52:30.4847680+01:00 0HMEORP4K94DI:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:52:30.4885460+01:00 0HMEORP4K94DI:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 375.4518ms (afa2e885)
2022-01-16T11:52:30.4903600+01:00 0HMEORP4K94DI:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:30.5055730+01:00 0HMEORP4K94DI:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 430.2475ms (791a596a)
2022-01-16T11:52:30.5058970+01:00 0HMEORP4K94DI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:52:30.5136570+01:00 0HMEORP4K94DI:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:30.5162340+01:00 0HMEORP4K94DI:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:30.5190750+01:00 0HMEORP4K94DI:00000006 [INF] Index viewed (84b92a55)
2022-01-16T11:52:30.5892740+01:00 0HMEORP4K94DI:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:30.6056920+01:00 0HMEORP4K94DI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:52:30.6286120+01:00 0HMEORP4K94DI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:52:30.6740750+01:00 0HMEORP4K94DI:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:52:30.7027680+01:00 0HMEORP4K94DI:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:30.7385000+01:00 0HMEORP4K94DI:00000006 [INF] Executed ViewResult - view "Index" executed in 66.6593ms. (f66409e9)
2022-01-16T11:52:30.7386800+01:00 0HMEORP4K94DI:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 222.3556ms (afa2e885)
2022-01-16T11:52:30.7387990+01:00 0HMEORP4K94DI:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:30.7392160+01:00 0HMEORP4K94DI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 233.2219ms (791a596a)
2022-01-16T11:52:33.6630300+01:00 0HMEORP4K94DI:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:52:33.6741510+01:00 0HMEORP4K94DI:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:33.6744020+01:00 0HMEORP4K94DI:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:33.6771310+01:00 0HMEORP4K94DI:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:33.6862170+01:00 0HMEORP4K94DI:00000007 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:52:33.6884430+01:00 0HMEORP4K94DI:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:33.6990880+01:00 0HMEORP4K94DI:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:33.9525240+01:00 0HMEORP4K94DI:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:52:33.9957240+01:00 0HMEORP4K94DI:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 318.483ms (afa2e885)
2022-01-16T11:52:33.9958650+01:00 0HMEORP4K94DI:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:33.9971180+01:00 0HMEORP4K94DI:00000007 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"08414ea4-b8d9-09a8-4c7c-cdc77dbb87f0" (1d7cf8c0)
2022-01-16T11:52:33.9985930+01:00 0HMEORP4K94DI:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 335.6395ms (791a596a)
2022-01-16T11:52:34.1512310+01:00 0HMEORP4K94DI:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:52:34.1714650+01:00 0HMEORP4K94DI:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:34.1717720+01:00 0HMEORP4K94DI:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:34.1719860+01:00 0HMEORP4K94DI:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:34.1741690+01:00 0HMEORP4K94DI:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:34.1764210+01:00 0HMEORP4K94DI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:34.2502550+01:00 0HMEORP4K94DI:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:52:34.2504970+01:00 0HMEORP4K94DI:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 78.4477ms (afa2e885)
2022-01-16T11:52:34.2505410+01:00 0HMEORP4K94DI:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:34.2508560+01:00 0HMEORP4K94DI:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 99.6819ms (791a596a)
2022-01-16T11:52:35.9747020+01:00 0HMEORP4K94DI:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:52:35.9758350+01:00 0HMEORP4K94DI:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:52:35.9759280+01:00 0HMEORP4K94DI:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:52:35.9821440+01:00 0HMEORP4K94DI:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:52:35.9918140+01:00 0HMEORP4K94DI:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:52:36.0178000+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:52:36.4429760+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.5134330+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.5167350+01:00 0HMEORP4K94DI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:52:36.6221880+01:00 0HMEORP4K94DI:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 639.9553ms (afa2e885)
2022-01-16T11:52:36.6229580+01:00 0HMEORP4K94DI:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:52:36.6901520+01:00 0HMEORP4K94DI:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:52:36.7537270+01:00 0HMEORP4K94DI:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 778.9742ms (791a596a)
2022-01-16T11:53:56.6861260+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:54:06.2825640+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:06.8203770+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:54:07.3179560+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:54:07.3305470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:54:07.5519110+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6408790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.6656120+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6757220+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.6814200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.6817300+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:54:07.7038050+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:54:07.7271320+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:07.8397310+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:08.0626670+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:54:08.0627550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:54:08.0630360+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:54:08.0633550+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:54:08.0634290+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:54:14.4433770+01:00 0HMEORQ4GUR04:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:54:14.5792770+01:00 0HMEORQ4GUR04:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:14.5811400+01:00 0HMEORQ4GUR04:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:14.6142610+01:00 0HMEORQ4GUR04:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:14.6231190+01:00 0HMEORQ4GUR04:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:14.6617880+01:00 0HMEORQ4GUR04:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:54:14.6739700+01:00 0HMEORQ4GUR04:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 47.9353ms (afa2e885)
2022-01-16T11:54:14.6749150+01:00 0HMEORQ4GUR04:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:14.6863310+01:00 0HMEORQ4GUR04:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 246.9177ms (791a596a)
2022-01-16T11:54:14.6925450+01:00 0HMEORQ4GUR04:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:54:14.6961760+01:00 0HMEORQ4GUR04:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:14.6982790+01:00 0HMEORQ4GUR04:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:14.7012910+01:00 0HMEORQ4GUR04:00000003 [INF] Index viewed (84b92a55)
2022-01-16T11:54:14.7043600+01:00 0HMEORQ4GUR04:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:14.7233220+01:00 0HMEORQ4GUR04:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:54:14.7498030+01:00 0HMEORQ4GUR04:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:54:14.8234000+01:00 0HMEORQ4GUR04:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:54:14.9057550+01:00 0HMEORQ4GUR04:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:15.1248950+01:00 0HMEORQ4GUR04:00000003 [INF] Executed ViewResult - view "Index" executed in 313.073ms. (f66409e9)
2022-01-16T11:54:15.1250380+01:00 0HMEORQ4GUR04:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 426.7079ms (afa2e885)
2022-01-16T11:54:15.1251060+01:00 0HMEORQ4GUR04:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:15.1388270+01:00 0HMEORQ4GUR04:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 446.2515ms (791a596a)
2022-01-16T11:54:18.6449970+01:00 0HMEORQ4GUR04:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:18.6725510+01:00 0HMEORQ4GUR04:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:18.6727260+01:00 0HMEORQ4GUR04:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:18.6923940+01:00 0HMEORQ4GUR04:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:18.7221060+01:00 0HMEORQ4GUR04:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:54:18.7612040+01:00 0HMEORQ4GUR04:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:18.7738550+01:00 0HMEORQ4GUR04:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:19.0221520+01:00 0HMEORQ4GUR04:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:19.0461360+01:00 0HMEORQ4GUR04:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 353.6392ms (afa2e885)
2022-01-16T11:54:19.0467990+01:00 0HMEORQ4GUR04:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:19.0478650+01:00 0HMEORQ4GUR04:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"e4ea9520-a4f0-9c72-7a80-ef0b3e0ee849" (1d7cf8c0)
2022-01-16T11:54:19.0492810+01:00 0HMEORQ4GUR04:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 404.3661ms (791a596a)
2022-01-16T11:54:19.2675290+01:00 0HMEORQ4GUR04:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:19.2698040+01:00 0HMEORQ4GUR04:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:19.2702720+01:00 0HMEORQ4GUR04:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:19.2706900+01:00 0HMEORQ4GUR04:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:19.2737050+01:00 0HMEORQ4GUR04:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:19.2771210+01:00 0HMEORQ4GUR04:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:19.3613890+01:00 0HMEORQ4GUR04:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:19.3616160+01:00 0HMEORQ4GUR04:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 90.8377ms (afa2e885)
2022-01-16T11:54:19.3616480+01:00 0HMEORQ4GUR04:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:19.3621050+01:00 0HMEORQ4GUR04:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 94.5005ms (791a596a)
2022-01-16T11:54:20.3004960+01:00 0HMEORQ4GUR04:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:54:20.3021130+01:00 0HMEORQ4GUR04:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:20.3022390+01:00 0HMEORQ4GUR04:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:20.3023980+01:00 0HMEORQ4GUR04:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:20.3034050+01:00 0HMEORQ4GUR04:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:20.3053670+01:00 0HMEORQ4GUR04:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:20.3067930+01:00 0HMEORQ4GUR04:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:54:20.3070630+01:00 0HMEORQ4GUR04:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.5984ms (afa2e885)
2022-01-16T11:54:20.3071250+01:00 0HMEORQ4GUR04:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:20.3074900+01:00 0HMEORQ4GUR04:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.1388ms (791a596a)
2022-01-16T11:54:22.1576470+01:00 0HMEORQ4GUR04:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:54:22.1587800+01:00 0HMEORQ4GUR04:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:54:22.1588600+01:00 0HMEORQ4GUR04:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:54:22.1589770+01:00 0HMEORQ4GUR04:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:54:22.1666010+01:00 0HMEORQ4GUR04:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:54:22.2119430+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:54:22.5472730+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6096830+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6134830+01:00 0HMEORQ4GUR04:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:54:22.6799410+01:00 0HMEORQ4GUR04:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 520.9042ms (afa2e885)
2022-01-16T11:54:22.6816950+01:00 0HMEORQ4GUR04:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:54:22.7391840+01:00 0HMEORQ4GUR04:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:54:22.7848940+01:00 0HMEORQ4GUR04:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 627.3180ms (791a596a)
2022-01-16T11:54:58.3699500+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:55:09.5483320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:11.0188210+01:00  [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:55:11.3723910+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:55:11.3855910+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:55:11.9580550+01:00  [INF] Executed DbCommand ("81"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.1994440+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.2803220+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.3200660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.3387240+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.3394020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:55:12.4235340+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:55:12.4565350+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.5564240+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:12.8341000+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:55:12.8341770+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:55:12.8343590+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:55:12.8343960+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:55:12.8344140+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:55:25.1934680+01:00 0HMEORQOOKUP3:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:25.3570190+01:00 0HMEORQOOKUP3:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:25.3625810+01:00 0HMEORQOOKUP3:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:25.4461400+01:00 0HMEORQOOKUP3:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:25.4970590+01:00 0HMEORQOOKUP3:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:55:25.5038860+01:00 0HMEORQOOKUP3:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:25.5339120+01:00 0HMEORQOOKUP3:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:25.8786380+01:00 0HMEORQOOKUP3:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:25.8891230+01:00 0HMEORQOOKUP4:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:25.9016940+01:00 0HMEORQOOKUP4:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:25.9019390+01:00 0HMEORQOOKUP4:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:25.9024400+01:00 0HMEORQOOKUP4:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:25.9046370+01:00 0HMEORQOOKUP4:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:55:25.9406570+01:00 0HMEORQOOKUP3:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 478.6731ms (afa2e885)
2022-01-16T11:55:25.9418340+01:00 0HMEORQOOKUP3:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:25.9437100+01:00 0HMEORQOOKUP3:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"7548d9ab-2424-bbb2-96bd-a58fdbafc107" (1d7cf8c0)
2022-01-16T11:55:25.9558330+01:00 0HMEORQOOKUP3:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 765.1967ms (791a596a)
2022-01-16T11:55:25.9917220+01:00 0HMEORQOOKUP4:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:25.9976550+01:00 0HMEORQOOKUP4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:25.9992940+01:00 0HMEORQOOKUP4:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:26.0002110+01:00 0HMEORQOOKUP4:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 97.6353ms (afa2e885)
2022-01-16T11:55:26.0004060+01:00 0HMEORQOOKUP4:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:26.0021250+01:00 0HMEORQOOKUP4:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 113.1411ms (791a596a)
2022-01-16T11:55:26.7418800+01:00 0HMEORQOOKUP4:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:26.7669910+01:00 0HMEORQOOKUP4:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:26.7674430+01:00 0HMEORQOOKUP4:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:26.7676800+01:00 0HMEORQOOKUP4:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:26.7703740+01:00 0HMEORQOOKUP4:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:26.7731170+01:00 0HMEORQOOKUP4:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:26.8832340+01:00 0HMEORQOOKUP4:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:26.8835230+01:00 0HMEORQOOKUP4:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 115.7804ms (afa2e885)
2022-01-16T11:55:26.8835960+01:00 0HMEORQOOKUP4:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:26.8839280+01:00 0HMEORQOOKUP4:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 142.1339ms (791a596a)
2022-01-16T11:55:27.0989210+01:00 0HMEORQOOKUP4:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:55:27.1001190+01:00 0HMEORQOOKUP4:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:27.1002720+01:00 0HMEORQOOKUP4:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:27.1004080+01:00 0HMEORQOOKUP4:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:27.1010380+01:00 0HMEORQOOKUP4:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:27.1032480+01:00 0HMEORQOOKUP4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:27.1053260+01:00 0HMEORQOOKUP4:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:55:27.1056920+01:00 0HMEORQOOKUP4:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.1873ms (afa2e885)
2022-01-16T11:55:27.1058880+01:00 0HMEORQOOKUP4:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:27.1062710+01:00 0HMEORQOOKUP4:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.3048ms (791a596a)
2022-01-16T11:55:29.3227220+01:00 0HMEORQOOKUP4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:55:29.3243310+01:00 0HMEORQOOKUP4:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:55:29.3244250+01:00 0HMEORQOOKUP4:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:55:29.3341510+01:00 0HMEORQOOKUP4:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:55:29.3430030+01:00 0HMEORQOOKUP4:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:55:29.3859780+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:55:29.7511280+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8175810+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8207740+01:00 0HMEORQOOKUP4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:55:29.8785580+01:00 0HMEORQOOKUP4:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 544.3266ms (afa2e885)
2022-01-16T11:55:29.8799810+01:00 0HMEORQOOKUP4:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:55:29.9266080+01:00 0HMEORQOOKUP4:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 135
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T11:55:29.9854890+01:00 0HMEORQOOKUP4:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 662.8122ms (791a596a)
2022-01-16T11:56:18.6950420+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T11:56:25.4456020+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:25.8564850+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T11:56:26.0930680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:56:26.1019470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:56:26.2737610+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.3692630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.3942390+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.4007680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.4061200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.4064120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T11:56:26.4297230+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T11:56:26.4495990+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.5220900+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:26.7321180+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T11:56:26.7322090+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T11:56:26.7323500+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T11:56:26.7323780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T11:56:26.7323940+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T11:56:31.4777990+01:00 0HMEORRDBTE8G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:56:31.5611850+01:00 0HMEORRDBTE8G:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:31.5625090+01:00 0HMEORRDBTE8G:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:31.5827360+01:00 0HMEORRDBTE8G:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:31.5886160+01:00 0HMEORRDBTE8G:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:31.6156250+01:00 0HMEORRDBTE8G:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T11:56:31.6233870+01:00 0HMEORRDBTE8G:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 33.1401ms (afa2e885)
2022-01-16T11:56:31.6240490+01:00 0HMEORRDBTE8G:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:31.6307110+01:00 0HMEORRDBTE8G:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 155.7152ms (791a596a)
2022-01-16T11:56:31.6349060+01:00 0HMEORRDBTE8G:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T11:56:31.6372990+01:00 0HMEORRDBTE8G:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:31.6388190+01:00 0HMEORRDBTE8G:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:31.6404560+01:00 0HMEORRDBTE8G:00000003 [INF] Index viewed (84b92a55)
2022-01-16T11:56:31.6430360+01:00 0HMEORRDBTE8G:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:31.6553470+01:00 0HMEORRDBTE8G:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T11:56:31.6726610+01:00 0HMEORRDBTE8G:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T11:56:31.7175790+01:00 0HMEORRDBTE8G:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:56:31.7649680+01:00 0HMEORRDBTE8G:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:31.9326190+01:00 0HMEORRDBTE8G:00000003 [INF] Executed ViewResult - view "Index" executed in 223.2182ms. (f66409e9)
2022-01-16T11:56:31.9327370+01:00 0HMEORRDBTE8G:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 293.8804ms (afa2e885)
2022-01-16T11:56:31.9327870+01:00 0HMEORRDBTE8G:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:31.9375380+01:00 0HMEORRDBTE8G:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 302.6033ms (791a596a)
2022-01-16T11:56:35.1012100+01:00 0HMEORRDBTE8G:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:35.1289190+01:00 0HMEORRDBTE8G:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:35.1290820+01:00 0HMEORRDBTE8G:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:35.1471250+01:00 0HMEORRDBTE8G:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:35.1727120+01:00 0HMEORRDBTE8G:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T11:56:35.2094940+01:00 0HMEORRDBTE8G:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:35.2208930+01:00 0HMEORRDBTE8G:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:35.4097320+01:00 0HMEORRDBTE8G:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:35.4259170+01:00 0HMEORRDBTE8G:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 278.7017ms (afa2e885)
2022-01-16T11:56:35.4260670+01:00 0HMEORRDBTE8G:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:35.4268430+01:00 0HMEORRDBTE8G:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cfedf70e-5f23-c3ac-984e-e8df4e682340" (1d7cf8c0)
2022-01-16T11:56:35.4275190+01:00 0HMEORRDBTE8G:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 326.3954ms (791a596a)
2022-01-16T11:56:35.7281240+01:00 0HMEORRDBTE8G:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:35.7293450+01:00 0HMEORRDBTE8G:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:35.7295400+01:00 0HMEORRDBTE8G:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:35.7296780+01:00 0HMEORRDBTE8G:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:35.7320410+01:00 0HMEORRDBTE8G:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:35.7341060+01:00 0HMEORRDBTE8G:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:35.8159340+01:00 0HMEORRDBTE8G:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:35.8163320+01:00 0HMEORRDBTE8G:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.5992ms (afa2e885)
2022-01-16T11:56:35.8164090+01:00 0HMEORRDBTE8G:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:35.8169610+01:00 0HMEORRDBTE8G:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 88.8343ms (791a596a)
2022-01-16T11:56:36.6957280+01:00 0HMEORRDBTE8G:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:36.6966420+01:00 0HMEORRDBTE8G:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:36.6969090+01:00 0HMEORRDBTE8G:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:36.6970790+01:00 0HMEORRDBTE8G:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:36.6979460+01:00 0HMEORRDBTE8G:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:36.6995470+01:00 0HMEORRDBTE8G:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:36.7006270+01:00 0HMEORRDBTE8G:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:36.7008170+01:00 0HMEORRDBTE8G:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.6887ms (afa2e885)
2022-01-16T11:56:36.7008960+01:00 0HMEORRDBTE8G:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:36.7012430+01:00 0HMEORRDBTE8G:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.5543ms (791a596a)
2022-01-16T11:56:36.9130960+01:00 0HMEORRDBTE8G:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:36.9146210+01:00 0HMEORRDBTE8G:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:36.9147130+01:00 0HMEORRDBTE8G:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:36.9148440+01:00 0HMEORRDBTE8G:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:36.9156930+01:00 0HMEORRDBTE8G:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:36.9175100+01:00 0HMEORRDBTE8G:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:36.9188310+01:00 0HMEORRDBTE8G:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:36.9190690+01:00 0HMEORRDBTE8G:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.1206ms (afa2e885)
2022-01-16T11:56:36.9191160+01:00 0HMEORRDBTE8G:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:36.9193670+01:00 0HMEORRDBTE8G:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.2852ms (791a596a)
2022-01-16T11:56:37.5522740+01:00 0HMEORRDBTE8G:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T11:56:37.5536030+01:00 0HMEORRDBTE8G:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:37.5536710+01:00 0HMEORRDBTE8G:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:37.5538520+01:00 0HMEORRDBTE8G:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:37.5545660+01:00 0HMEORRDBTE8G:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:37.5568730+01:00 0HMEORRDBTE8G:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:37.5577460+01:00 0HMEORRDBTE8G:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T11:56:37.5579790+01:00 0HMEORRDBTE8G:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.0507ms (afa2e885)
2022-01-16T11:56:37.5580580+01:00 0HMEORRDBTE8G:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:37.5583410+01:00 0HMEORRDBTE8G:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.0733ms (791a596a)
2022-01-16T11:56:39.6645740+01:00 0HMEORRDBTE8G:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T11:56:39.6661150+01:00 0HMEORRDBTE8G:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:39.6661940+01:00 0HMEORRDBTE8G:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:39.6663440+01:00 0HMEORRDBTE8G:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:39.6709630+01:00 0HMEORRDBTE8G:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:39.7169520+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:40.0074590+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:56:40.0499100+01:00 0HMEORRDBTE8G:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T11:56:47.0258740+01:00 0HMEORRDBTE8G:00000009 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T11:56:47.0297260+01:00 0HMEORRDBTE8G:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7363.7083ms (afa2e885)
2022-01-16T11:56:47.0313780+01:00 0HMEORRDBTE8G:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:47.0415080+01:00 0HMEORRDBTE8G:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7377.2965ms (791a596a)
2022-01-16T11:56:47.0455480+01:00 0HMEORRDBTE8G:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T11:56:47.0469080+01:00 0HMEORRDBTE8G:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:47.0470320+01:00 0HMEORRDBTE8G:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:47.0540130+01:00 0HMEORRDBTE8G:0000000A [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:47.0583620+01:00 0HMEORRDBTE8G:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:47.0616820+01:00 0HMEORRDBTE8G:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T11:56:47.2358460+01:00 0HMEORRDBTE8G:0000000A [INF] Executed DbCommand ("9"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T11:56:47.2537680+01:00 0HMEORRDBTE8G:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T11:56:47.2817060+01:00 0HMEORRDBTE8G:0000000A [INF] Executed ViewResult - view "Index" executed in 30.3087ms. (f66409e9)
2022-01-16T11:56:47.2818220+01:00 0HMEORRDBTE8G:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 227.7504ms (afa2e885)
2022-01-16T11:56:47.2818550+01:00 0HMEORRDBTE8G:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:47.2821130+01:00 0HMEORRDBTE8G:0000000A [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 236.5865ms (791a596a)
2022-01-16T11:56:56.1002950+01:00 0HMEORRDBTE8G:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - (ca22a1cb)
2022-01-16T11:56:56.1021260+01:00 0HMEORRDBTE8G:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T11:56:56.1022880+01:00 0HMEORRDBTE8G:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T11:56:56.1134230+01:00 0HMEORRDBTE8G:0000000B [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T11:56:56.1205070+01:00 0HMEORRDBTE8G:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T11:56:56.1604200+01:00 0HMEORRDBTE8G:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T11:56:56.1627590+01:00 0HMEORRDBTE8G:0000000B [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T11:56:56.1760070+01:00 0HMEORRDBTE8G:0000000B [INF] Executed ViewResult - view "Invoice" executed in 14.5155ms. (f66409e9)
2022-01-16T11:56:56.1762220+01:00 0HMEORRDBTE8G:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 62.6871ms (afa2e885)
2022-01-16T11:56:56.1762850+01:00 0HMEORRDBTE8G:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T11:56:56.1765350+01:00 0HMEORRDBTE8G:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - - 200 - text/html;+charset=utf-8 76.2488ms (791a596a)
2022-01-16T12:02:12.5401920+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:13.4485250+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:02:13.8520610+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:02:13.8664250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:02:14.1347620+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2388090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.2765220+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2876210+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.2952740+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.2958000+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:02:14.3334910+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:02:14.3633340+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.4828750+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:14.7347230+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:02:14.7348110+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:02:14.7350670+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:02:14.7351390+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:02:14.7351800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:02:28.9388240+01:00 0HMEORUNST5RJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - (ca22a1cb)
2022-01-16T12:02:29.0405210+01:00 0HMEORUNST5RJ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:29.0422380+01:00 0HMEORUNST5RJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:29.0841780+01:00 0HMEORUNST5RJ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:29.1120950+01:00 0HMEORUNST5RJ:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:29.3805800+01:00 0HMEORUNST5RJ:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T12:02:29.5618700+01:00 0HMEORUNST5RJ:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T12:02:29.6434660+01:00 0HMEORUNST5RJ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:29.8900320+01:00 0HMEORUNST5RJ:00000002 [INF] Executed ViewResult - view "Invoice" executed in 333.1116ms. (f66409e9)
2022-01-16T12:02:29.8909290+01:00 0HMEORUNST5RJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 805.8245ms (afa2e885)
2022-01-16T12:02:29.8922500+01:00 0HMEORUNST5RJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:29.9021720+01:00 0HMEORUNST5RJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/94 - - - 200 - text/html;+charset=utf-8 966.1563ms (791a596a)
2022-01-16T12:02:30.4962230+01:00 0HMEORUNST5RJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:02:30.5014280+01:00 0HMEORUNST5RJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:30.5042830+01:00 0HMEORUNST5RJ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:30.5067280+01:00 0HMEORUNST5RJ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:02:30.5643870+01:00 0HMEORUNST5RJ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:30.5710230+01:00 0HMEORUNST5RJ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:02:30.5878290+01:00 0HMEORUNST5RJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:02:30.5906660+01:00 0HMEORUNST5RJ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:02:30.6123390+01:00 0HMEORUNST5RJ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:30.6308110+01:00 0HMEORUNST5RJ:00000003 [INF] Executed ViewResult - view "Index" executed in 41.7318ms. (f66409e9)
2022-01-16T12:02:30.6310450+01:00 0HMEORUNST5RJ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 126.6311ms (afa2e885)
2022-01-16T12:02:30.6311590+01:00 0HMEORUNST5RJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:30.6316250+01:00 0HMEORUNST5RJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 135.4682ms (791a596a)
2022-01-16T12:02:33.3838250+01:00 0HMEORUNST5RJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:33.4001170+01:00 0HMEORUNST5RJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:33.4005310+01:00 0HMEORUNST5RJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:33.4022960+01:00 0HMEORUNST5RJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:33.4144580+01:00 0HMEORUNST5RJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:02:33.4152970+01:00 0HMEORUNST5RJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:33.4196160+01:00 0HMEORUNST5RJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:33.6655330+01:00 0HMEORUNST5RJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:33.6870420+01:00 0HMEORUNST5RJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 284.6572ms (afa2e885)
2022-01-16T12:02:33.6872680+01:00 0HMEORUNST5RJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:33.6881940+01:00 0HMEORUNST5RJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"60749125-f075-51c5-5e87-39e04282bad4" (1d7cf8c0)
2022-01-16T12:02:33.6890970+01:00 0HMEORUNST5RJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 305.3825ms (791a596a)
2022-01-16T12:02:34.0947530+01:00 0HMEORUNST5RJ:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:34.0985550+01:00 0HMEORUNST5RJ:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:34.0989930+01:00 0HMEORUNST5RJ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:34.0993350+01:00 0HMEORUNST5RJ:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:34.1012960+01:00 0HMEORUNST5RJ:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:34.1042940+01:00 0HMEORUNST5RJ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:34.1828880+01:00 0HMEORUNST5RJ:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:34.1831570+01:00 0HMEORUNST5RJ:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 83.7622ms (afa2e885)
2022-01-16T12:02:34.1832110+01:00 0HMEORUNST5RJ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:34.1836270+01:00 0HMEORUNST5RJ:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 88.9392ms (791a596a)
2022-01-16T12:02:34.7779210+01:00 0HMEORUNST5RJ:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:34.7793460+01:00 0HMEORUNST5RJ:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:34.7794510+01:00 0HMEORUNST5RJ:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:34.7797640+01:00 0HMEORUNST5RJ:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:34.7818530+01:00 0HMEORUNST5RJ:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:34.7839830+01:00 0HMEORUNST5RJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:34.8000940+01:00 0HMEORUNST5RJ:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:34.8004030+01:00 0HMEORUNST5RJ:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 20.5577ms (afa2e885)
2022-01-16T12:02:34.8004800+01:00 0HMEORUNST5RJ:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:34.8010820+01:00 0HMEORUNST5RJ:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 23.1583ms (791a596a)
2022-01-16T12:02:35.0104090+01:00 0HMEORUNST5RJ:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:35.0120120+01:00 0HMEORUNST5RJ:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:35.0121150+01:00 0HMEORUNST5RJ:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:35.0123440+01:00 0HMEORUNST5RJ:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:35.0129860+01:00 0HMEORUNST5RJ:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:35.0149370+01:00 0HMEORUNST5RJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:35.0161820+01:00 0HMEORUNST5RJ:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:35.0163610+01:00 0HMEORUNST5RJ:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9393ms (afa2e885)
2022-01-16T12:02:35.0163990+01:00 0HMEORUNST5RJ:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:35.0165820+01:00 0HMEORUNST5RJ:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.2405ms (791a596a)
2022-01-16T12:02:35.8100260+01:00 0HMEORUNST5RJ:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:35.8110330+01:00 0HMEORUNST5RJ:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:35.8111560+01:00 0HMEORUNST5RJ:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:35.8112910+01:00 0HMEORUNST5RJ:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:35.8120450+01:00 0HMEORUNST5RJ:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:35.8141740+01:00 0HMEORUNST5RJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:35.8146920+01:00 0HMEORUNST5RJ:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:35.8148840+01:00 0HMEORUNST5RJ:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.5307ms (afa2e885)
2022-01-16T12:02:35.8149300+01:00 0HMEORUNST5RJ:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:35.8151510+01:00 0HMEORUNST5RJ:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.2199ms (791a596a)
2022-01-16T12:02:36.0784090+01:00 0HMEORUNST5RJ:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:36.0801120+01:00 0HMEORUNST5RJ:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:36.0802200+01:00 0HMEORUNST5RJ:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:36.0803640+01:00 0HMEORUNST5RJ:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:36.0811980+01:00 0HMEORUNST5RJ:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:36.0832550+01:00 0HMEORUNST5RJ:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:36.0841270+01:00 0HMEORUNST5RJ:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:36.0843570+01:00 0HMEORUNST5RJ:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9274ms (afa2e885)
2022-01-16T12:02:36.0844270+01:00 0HMEORUNST5RJ:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:36.0846860+01:00 0HMEORUNST5RJ:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.3004ms (791a596a)
2022-01-16T12:02:37.0096520+01:00 0HMEORUNST5RJ:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:02:37.0106650+01:00 0HMEORUNST5RJ:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:37.0107570+01:00 0HMEORUNST5RJ:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:37.0108690+01:00 0HMEORUNST5RJ:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:37.0114310+01:00 0HMEORUNST5RJ:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:37.0150160+01:00 0HMEORUNST5RJ:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:37.0155290+01:00 0HMEORUNST5RJ:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:02:37.0159150+01:00 0HMEORUNST5RJ:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8155ms (afa2e885)
2022-01-16T12:02:37.0160010+01:00 0HMEORUNST5RJ:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:37.0162680+01:00 0HMEORUNST5RJ:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.6302ms (791a596a)
2022-01-16T12:02:39.0783100+01:00 0HMEORUNST5RJ:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:02:39.0791560+01:00 0HMEORUNST5RJ:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:39.0792340+01:00 0HMEORUNST5RJ:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:39.0880590+01:00 0HMEORUNST5RJ:0000000B [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:39.0971630+01:00 0HMEORUNST5RJ:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:39.1217900+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:39.4001850+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:02:39.4645290+01:00 0HMEORUNST5RJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Double), @p22='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p19, @p20, @p21, @p22);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:02:46.6991010+01:00 0HMEORUNST5RJ:0000000B [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:02:46.7031190+01:00 0HMEORUNST5RJ:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7615.3776ms (afa2e885)
2022-01-16T12:02:46.7048250+01:00 0HMEORUNST5RJ:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:46.7139020+01:00 0HMEORUNST5RJ:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7635.8444ms (791a596a)
2022-01-16T12:02:46.7169230+01:00 0HMEORUNST5RJ:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:02:46.7182230+01:00 0HMEORUNST5RJ:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T12:02:46.7183010+01:00 0HMEORUNST5RJ:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:02:46.7240040+01:00 0HMEORUNST5RJ:0000000C [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:02:46.7279340+01:00 0HMEORUNST5RJ:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:02:46.7315500+01:00 0HMEORUNST5RJ:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:02:46.7660680+01:00 0HMEORUNST5RJ:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:02:46.7728150+01:00 0HMEORUNST5RJ:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:02:46.7874240+01:00 0HMEORUNST5RJ:0000000C [INF] Executed ViewResult - view "Index" executed in 15.6468ms. (f66409e9)
2022-01-16T12:02:46.7875200+01:00 0HMEORUNST5RJ:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 63.4456ms (afa2e885)
2022-01-16T12:02:46.7875680+01:00 0HMEORUNST5RJ:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:02:46.7877770+01:00 0HMEORUNST5RJ:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 70.8805ms (791a596a)
2022-01-16T12:05:38.5708930+01:00 0HMEORUNST5RL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/95 - - (ca22a1cb)
2022-01-16T12:05:38.5750740+01:00 0HMEORUNST5RL:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:05:38.5752280+01:00 0HMEORUNST5RL:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:05:38.5755650+01:00 0HMEORUNST5RL:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:05:38.5773010+01:00 0HMEORUNST5RL:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:05:38.5830340+01:00 0HMEORUNST5RL:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T12:05:38.5843590+01:00 0HMEORUNST5RL:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T12:05:38.5869690+01:00 0HMEORUNST5RL:00000002 [INF] Executed ViewResult - view "Invoice" executed in 2.7956ms. (f66409e9)
2022-01-16T12:05:38.5870950+01:00 0HMEORUNST5RL:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 11.438ms (afa2e885)
2022-01-16T12:05:38.5871560+01:00 0HMEORUNST5RL:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:05:38.5874280+01:00 0HMEORUNST5RL:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/95 - - - 200 - text/html;+charset=utf-8 16.6450ms (791a596a)
2022-01-16T12:09:46.2834560+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:46.8575660+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:09:47.0743570+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:09:47.0825380+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:09:47.2713750+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3592090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3761400+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3765570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3790960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.3792930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:09:47.3969600+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:09:47.4132260+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.4853230+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:47.6783470+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:09:47.6784190+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:09:47.6787800+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:09:47.6788780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:09:47.6789520+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:09:54.1743390+01:00 0HMEOS2RI1966:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:09:54.2640680+01:00 0HMEOS2RI1966:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:54.2652290+01:00 0HMEOS2RI1966:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:54.2952740+01:00 0HMEOS2RI1966:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:54.3197460+01:00 0HMEOS2RI1966:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:09:54.3248520+01:00 0HMEOS2RI1966:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:54.3438720+01:00 0HMEOS2RI1966:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:54.5509600+01:00 0HMEOS2RI1966:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:09:54.5898880+01:00 0HMEOS2RI1966:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 285.581ms (afa2e885)
2022-01-16T12:09:54.5908730+01:00 0HMEOS2RI1966:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:09:54.5920100+01:00 0HMEOS2RI1966:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4303a585-1ed6-d7f5-78e5-e183228d4c44" (1d7cf8c0)
2022-01-16T12:09:54.5969360+01:00 0HMEOS2RI1966:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 427.6715ms (791a596a)
2022-01-16T12:09:54.7919750+01:00 0HMEOS2RI1966:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:09:54.8026890+01:00 0HMEOS2RI1966:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:54.8028560+01:00 0HMEOS2RI1966:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:54.8032880+01:00 0HMEOS2RI1966:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:54.8424180+01:00 0HMEOS2RI1966:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:54.8453420+01:00 0HMEOS2RI1966:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:54.9051260+01:00 0HMEOS2RI1966:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:09:54.9054690+01:00 0HMEOS2RI1966:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 102.0876ms (afa2e885)
2022-01-16T12:09:54.9055230+01:00 0HMEOS2RI1966:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:09:54.9059610+01:00 0HMEOS2RI1966:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 114.0215ms (791a596a)
2022-01-16T12:09:56.8250740+01:00 0HMEOS2RI1966:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:09:56.8625650+01:00 0HMEOS2RI1966:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:09:56.8631220+01:00 0HMEOS2RI1966:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:09:56.8787960+01:00 0HMEOS2RI1966:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:09:56.8913710+01:00 0HMEOS2RI1966:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:09:56.9688180+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:09:57.2875640+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:09:57.3425660+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:09:57.3473290+01:00 0HMEOS2RI1966:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:10:03.9007160+01:00 0HMEOS2RI1966:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:10:03.9053680+01:00 0HMEOS2RI1966:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7026.2324ms (afa2e885)
2022-01-16T12:10:03.9074410+01:00 0HMEOS2RI1966:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:10:03.9214100+01:00 0HMEOS2RI1966:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7096.1800ms (791a596a)
2022-01-16T12:10:03.9247850+01:00 0HMEOS2RI1966:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:10:03.9259810+01:00 0HMEOS2RI1966:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:10:03.9260760+01:00 0HMEOS2RI1966:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:10:03.9315670+01:00 0HMEOS2RI1966:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:10:03.9362000+01:00 0HMEOS2RI1966:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:10:03.9392160+01:00 0HMEOS2RI1966:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:10:04.0908550+01:00 0HMEOS2RI1966:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:10:04.1372380+01:00 0HMEOS2RI1966:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:10:04.5839780+01:00 0HMEOS2RI1966:00000005 [INF] Executed ViewResult - view "Index" executed in 463.0453ms. (f66409e9)
2022-01-16T12:10:04.5843480+01:00 0HMEOS2RI1966:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 652.5481ms (afa2e885)
2022-01-16T12:10:04.5845470+01:00 0HMEOS2RI1966:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:10:04.5911170+01:00 0HMEOS2RI1966:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 666.3210ms (791a596a)
2022-01-16T12:11:14.1710320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:14.6161120+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:11:14.8899260+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:11:14.8976680+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:11:15.2221310+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.3433630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.3896950+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.4000370+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.4085530+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.4089270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:11:15.4417710+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:11:15.4654840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.5449370+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:15.7482570+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:11:15.7483230+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:11:15.7485230+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:11:15.7485710+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:11:15.7485950+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:11:16.1499130+01:00 0HMEOS3L0PBQ2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:11:16.2294490+01:00 0HMEOS3L0PBQ2:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:16.2304790+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:16.2511880+01:00 0HMEOS3L0PBQ2:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:16.2581030+01:00 0HMEOS3L0PBQ2:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:16.2865450+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:11:16.2938470+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 35.4127ms (afa2e885)
2022-01-16T12:11:16.2945000+01:00 0HMEOS3L0PBQ2:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:16.3031330+01:00 0HMEOS3L0PBQ2:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 155.8509ms (791a596a)
2022-01-16T12:11:16.3072050+01:00 0HMEOS3L0PBQ2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:11:16.3098300+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:16.3117650+01:00 0HMEOS3L0PBQ2:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:16.3134360+01:00 0HMEOS3L0PBQ2:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:11:16.3155910+01:00 0HMEOS3L0PBQ2:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:16.3279400+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:11:16.3470210+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:11:16.4002410+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:11:16.4520960+01:00 0HMEOS3L0PBQ2:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:16.6045680+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed ViewResult - view "Index" executed in 211.8768ms. (f66409e9)
2022-01-16T12:11:16.6047030+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 292.8403ms (afa2e885)
2022-01-16T12:11:16.6047420+01:00 0HMEOS3L0PBQ2:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:16.6093760+01:00 0HMEOS3L0PBQ2:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 302.1108ms (791a596a)
2022-01-16T12:11:21.7889620+01:00 0HMEOS3L0PBQ2:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:11:21.8125380+01:00 0HMEOS3L0PBQ2:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:21.8126870+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:21.8323050+01:00 0HMEOS3L0PBQ2:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:21.8603160+01:00 0HMEOS3L0PBQ2:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:11:21.8944710+01:00 0HMEOS3L0PBQ2:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:21.9066980+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:22.0904500+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:11:22.1111320+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 278.6783ms (afa2e885)
2022-01-16T12:11:22.1112640+01:00 0HMEOS3L0PBQ2:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:22.1119490+01:00 0HMEOS3L0PBQ2:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"ffc25e24-6f07-dc77-4c8e-15a295ad0493" (1d7cf8c0)
2022-01-16T12:11:22.1129520+01:00 0HMEOS3L0PBQ2:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 324.0961ms (791a596a)
2022-01-16T12:11:23.4373610+01:00 0HMEOS3L0PBQ2:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:11:23.4393070+01:00 0HMEOS3L0PBQ2:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:23.4396420+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:23.4398560+01:00 0HMEOS3L0PBQ2:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:23.5225890+01:00 0HMEOS3L0PBQ2:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:23.5518400+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:23.8267660+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:11:23.8678070+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:11:29.1399630+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:11:29.1443730+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5704.1986ms (afa2e885)
2022-01-16T12:11:29.1468210+01:00 0HMEOS3L0PBQ2:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:29.1583830+01:00 0HMEOS3L0PBQ2:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5720.8230ms (791a596a)
2022-01-16T12:11:29.1623780+01:00 0HMEOS3L0PBQ2:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:11:29.1635450+01:00 0HMEOS3L0PBQ2:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:11:29.1638790+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:11:29.1689290+01:00 0HMEOS3L0PBQ2:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:11:29.1733220+01:00 0HMEOS3L0PBQ2:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:11:29.1782210+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:11:29.3431780+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:11:29.3610660+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:11:29.3833200+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed ViewResult - view "Index" executed in 24.6632ms. (f66409e9)
2022-01-16T12:11:29.3834200+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 214.4123ms (afa2e885)
2022-01-16T12:11:29.3836430+01:00 0HMEOS3L0PBQ2:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:11:29.3838630+01:00 0HMEOS3L0PBQ2:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 221.5091ms (791a596a)
2022-01-16T12:22:32.9947970+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:34.1051880+01:00  [INF] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:22:34.9160360+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:22:34.9589140+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:22:35.3549610+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.4673890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.5184590+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.5378250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.5486650+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.5492120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:22:35.6032250+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:22:35.6441080+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:35.8220050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:36.3096780+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:22:36.3097950+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:22:36.3100250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:22:36.3100680+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:22:36.3101280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:22:49.9243230+01:00 0HMEOSA3P2FVI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:22:50.0113400+01:00 0HMEOSA3P2FVI:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:50.0319370+01:00 0HMEOSA3P2FVI:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:50.0350810+01:00 0HMEOSA3P2FVI:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:22:50.0374770+01:00 0HMEOSA3P2FVI:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:50.0516990+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:22:50.0708030+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:22:50.1259670+01:00 0HMEOSA3P2FVI:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:22:50.2131280+01:00 0HMEOSA3P2FVI:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:22:50.4203940+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed ViewResult - view "Index" executed in 293.0176ms. (f66409e9)
2022-01-16T12:22:50.4209280+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 388.457ms (afa2e885)
2022-01-16T12:22:50.4216640+01:00 0HMEOSA3P2FVI:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:50.4301750+01:00 0HMEOSA3P2FVI:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 509.8839ms (791a596a)
2022-01-16T12:22:52.5345810+01:00 0HMEOSA3P2FVI:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:52.5543680+01:00 0HMEOSA3P2FVI:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:52.5557740+01:00 0HMEOSA3P2FVI:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:52.5836430+01:00 0HMEOSA3P2FVI:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:52.6214600+01:00 0HMEOSA3P2FVI:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:22:52.7142670+01:00 0HMEOSA3P2FVI:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:52.7348770+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:52.9630800+01:00 0HMEOSA3P2FVI:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:52.9871010+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 403.1836ms (afa2e885)
2022-01-16T12:22:52.9871950+01:00 0HMEOSA3P2FVI:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:52.9879160+01:00 0HMEOSA3P2FVI:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"b5368cd8-f8c7-4f2b-693b-be2a92a87c05" (1d7cf8c0)
2022-01-16T12:22:52.9890790+01:00 0HMEOSA3P2FVI:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 454.5427ms (791a596a)
2022-01-16T12:22:53.1373920+01:00 0HMEOSA3P2FVI:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:53.1635680+01:00 0HMEOSA3P2FVI:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:53.1637050+01:00 0HMEOSA3P2FVI:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:53.1639450+01:00 0HMEOSA3P2FVI:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:53.1661730+01:00 0HMEOSA3P2FVI:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:53.1688200+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:53.2423550+01:00 0HMEOSA3P2FVI:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:53.2428200+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 78.6374ms (afa2e885)
2022-01-16T12:22:53.2429670+01:00 0HMEOSA3P2FVI:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:53.2434260+01:00 0HMEOSA3P2FVI:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 106.0601ms (791a596a)
2022-01-16T12:22:53.3490310+01:00 0HMEOSA3P2FVI:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:22:53.3517310+01:00 0HMEOSA3P2FVI:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:53.3522700+01:00 0HMEOSA3P2FVI:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:53.3524850+01:00 0HMEOSA3P2FVI:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:53.3545560+01:00 0HMEOSA3P2FVI:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:53.3568880+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:53.3579460+01:00 0HMEOSA3P2FVI:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:22:53.3581790+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.6151ms (afa2e885)
2022-01-16T12:22:53.3582310+01:00 0HMEOSA3P2FVI:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:22:53.3587420+01:00 0HMEOSA3P2FVI:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 9.5846ms (791a596a)
2022-01-16T12:22:55.1655470+01:00 0HMEOSA3P2FVI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:22:55.1670020+01:00 0HMEOSA3P2FVI:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:22:55.1670930+01:00 0HMEOSA3P2FVI:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:22:55.1755940+01:00 0HMEOSA3P2FVI:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:22:55.1849730+01:00 0HMEOSA3P2FVI:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:22:55.2266840+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:22:55.5669130+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:22:55.6486650+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:22:55.6530620+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:23:03.1580190+01:00 0HMEOSA3P2FVI:00000006 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:23:03.1631150+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7987.1336ms (afa2e885)
2022-01-16T12:23:03.1665430+01:00 0HMEOSA3P2FVI:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:23:03.1808570+01:00 0HMEOSA3P2FVI:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8014.9857ms (791a596a)
2022-01-16T12:23:03.1851910+01:00 0HMEOSA3P2FVI:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:23:03.1869330+01:00 0HMEOSA3P2FVI:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:23:03.1870380+01:00 0HMEOSA3P2FVI:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:23:03.1948780+01:00 0HMEOSA3P2FVI:00000007 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:23:03.2012170+01:00 0HMEOSA3P2FVI:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:23:03.2054010+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:23:03.7290340+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:23:03.7725730+01:00 0HMEOSA3P2FVI:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:23:03.9924650+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed ViewResult - view "Index" executed in 223.8759ms. (f66409e9)
2022-01-16T12:23:03.9927920+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 797.7662ms (afa2e885)
2022-01-16T12:23:03.9929520+01:00 0HMEOSA3P2FVI:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:23:04.0356020+01:00 0HMEOSA3P2FVI:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 850.3227ms (791a596a)
2022-01-16T12:24:30.9012980+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:31.5923250+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:24:31.9681820+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:24:31.9812350+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:24:32.1726740+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.2595790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.2871800+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.2991580+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.3046930+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.3050610+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:24:32.3332800+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:24:32.3559200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.4479330+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:32.6567230+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:24:32.6568940+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:24:32.6573280+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:24:32.6574050+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:24:32.6574380+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:24:39.5918540+01:00 0HMEOSB3PTPIE:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:24:39.6814950+01:00 0HMEOSB3PTPIE:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:39.6827350+01:00 0HMEOSB3PTPIE:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:39.6991550+01:00 0HMEOSB3PTPID:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:24:39.7064010+01:00 0HMEOSB3PTPID:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:39.7065260+01:00 0HMEOSB3PTPID:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:39.7168040+01:00 0HMEOSB3PTPIE:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:39.7167930+01:00 0HMEOSB3PTPID:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:39.7491980+01:00 0HMEOSB3PTPIE:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:24:39.7491860+01:00 0HMEOSB3PTPID:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:24:39.7524990+01:00 0HMEOSB3PTPIE:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:39.7525090+01:00 0HMEOSB3PTPID:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:39.7741870+01:00 0HMEOSB3PTPID:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:39.7921290+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:40.0497470+01:00 0HMEOSB3PTPID:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:24:40.0497520+01:00 0HMEOSB3PTPIE:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:24:40.0905520+01:00 0HMEOSB3PTPID:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.3781ms (afa2e885)
2022-01-16T12:24:40.0905820+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.4332ms (afa2e885)
2022-01-16T12:24:40.0913990+01:00 0HMEOSB3PTPID:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:40.0914360+01:00 0HMEOSB3PTPIE:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:40.0925920+01:00 0HMEOSB3PTPID:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"addac566-1aa1-f678-0fa9-6457f4208dd8" (1d7cf8c0)
2022-01-16T12:24:40.0925970+01:00 0HMEOSB3PTPIE:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"54372615-808e-f14b-b3e4-9a62ab9fe16c" (1d7cf8c0)
2022-01-16T12:24:40.0996520+01:00 0HMEOSB3PTPID:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 400.0665ms (791a596a)
2022-01-16T12:24:40.0996510+01:00 0HMEOSB3PTPIE:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 512.2067ms (791a596a)
2022-01-16T12:24:42.6839780+01:00 0HMEOSB3PTPIE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:24:42.7056010+01:00 0HMEOSB3PTPIE:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:42.7059530+01:00 0HMEOSB3PTPIE:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:42.7147600+01:00 0HMEOSB3PTPIE:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:42.8204430+01:00 0HMEOSB3PTPIE:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:42.8498530+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:43.1993380+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:24:43.2488860+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:24:49.2498990+01:00 0HMEOSB3PTPIE:00000003 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T12:24:49.2524920+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6537.4189ms (afa2e885)
2022-01-16T12:24:49.2546560+01:00 0HMEOSB3PTPIE:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:49.2610790+01:00 0HMEOSB3PTPIE:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6576.9690ms (791a596a)
2022-01-16T12:24:49.2635870+01:00 0HMEOSB3PTPIE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T12:24:49.2645370+01:00 0HMEOSB3PTPIE:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:24:49.2646150+01:00 0HMEOSB3PTPIE:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:24:49.2676230+01:00 0HMEOSB3PTPIE:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:24:49.2704330+01:00 0HMEOSB3PTPIE:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:24:49.2750740+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:24:49.4817330+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T12:24:49.5308900+01:00 0HMEOSB3PTPIE:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:24:49.8387290+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed ViewResult - view "Index" executed in 317.3131ms. (f66409e9)
2022-01-16T12:24:49.8390640+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 571.3373ms (afa2e885)
2022-01-16T12:24:49.8391920+01:00 0HMEOSB3PTPIE:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:24:49.8478020+01:00 0HMEOSB3PTPIE:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 584.1559ms (791a596a)
2022-01-16T12:26:43.9449140+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:26:44.8296060+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:26:45.1890220+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:26:45.2089830+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:26:45.6700280+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7505200+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.7764720+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7875040+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.7939780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.7943020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:26:45.8177310+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:26:45.8532320+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:45.9869640+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:26:46.2263630+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:26:46.2264450+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:26:46.2266410+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:26:46.2266900+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:26:46.2267230+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:26:46.4252510+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:27:05.5649320+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:06.0644570+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:27:06.2823230+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:27:06.2904100+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:27:06.4360480+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5101480+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.5435380+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5516690+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.5823390+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.5874790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:27:06.6428990+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:27:06.7374790+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:06.8499530+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:07.2205880+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:27:07.2232650+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:27:07.2272350+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:27:07.2303710+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:27:07.2331800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:27:34.8705350+01:00 0HMEOSCOM3J8H:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:27:34.9468330+01:00 0HMEOSCOM3J8H:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:34.9625360+01:00 0HMEOSCOM3J8H:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:34.9676630+01:00 0HMEOSCOM3J8H:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:27:34.9694940+01:00 0HMEOSCOM3J8H:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:34.9807510+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:27:34.9910300+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:27:35.0248630+01:00 0HMEOSCOM3J8H:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:27:35.0860060+01:00 0HMEOSCOM3J8H:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:27:35.2323010+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed ViewResult - view "Index" executed in 210.2857ms. (f66409e9)
2022-01-16T12:27:35.2332690+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 270.0765ms (afa2e885)
2022-01-16T12:27:35.2337610+01:00 0HMEOSCOM3J8H:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:27:35.2404570+01:00 0HMEOSCOM3J8H:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 371.4330ms (791a596a)
2022-01-16T12:27:37.9149560+01:00 0HMEOSCOM3J8H:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:27:37.9311320+01:00 0HMEOSCOM3J8H:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:27:37.9325950+01:00 0HMEOSCOM3J8H:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:37.9457950+01:00 0HMEOSCOM3J8H:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:37.9750120+01:00 0HMEOSCOM3J8H:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:27:37.9896630+01:00 0HMEOSCOM3J8H:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:37.9968100+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:38.1322960+01:00 0HMEOSCOM3J8H:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:27:38.1428750+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 196.9125ms (afa2e885)
2022-01-16T12:27:38.1429550+01:00 0HMEOSCOM3J8H:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:27:38.1436410+01:00 0HMEOSCOM3J8H:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c3cd3713-f8ab-7677-2e62-6fbf6f0682d6" (1d7cf8c0)
2022-01-16T12:27:38.1446820+01:00 0HMEOSCOM3J8H:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 229.8178ms (791a596a)
2022-01-16T12:27:40.2215190+01:00 0HMEOSCOM3J8H:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:27:40.2381170+01:00 0HMEOSCOM3J8H:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:27:40.2383330+01:00 0HMEOSCOM3J8H:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:27:40.2443880+01:00 0HMEOSCOM3J8H:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:27:40.2954630+01:00 0HMEOSCOM3J8H:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:27:40.3901160+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:27:40.6699550+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:27:40.6992510+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:28:08.3677000+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 28122.2926ms (afa2e885)
2022-01-16T12:28:08.3694760+01:00 0HMEOSCOM3J8H:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:28:08.3833840+01:00 0HMEOSCOM3J8H:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 139
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:28:08.4167550+01:00 0HMEOSCOM3J8H:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 28194.4841ms (791a596a)
2022-01-16T12:28:29.2154510+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:28:29.7560730+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:28:30.0608070+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:28:30.0678990+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:28:30.2662320+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3480850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3668320+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3675060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3705040+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.3710970+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:28:30.3941940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:28:30.4112260+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.4941430+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:28:30.7153360+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:28:30.7154270+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:28:30.7157400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:28:30.7158160+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:28:30.7158900+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:31:48.5699790+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:31:58.3218250+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:31:59.6607680+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:32:00.0462010+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:00.0597840+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:00.3918070+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.4860790+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5117820+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.5206930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5271810+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.5275170+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:32:00.5587170+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:32:00.5950650+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:00.7676170+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:01.0841870+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:32:01.0842830+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:32:01.0845580+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:32:01.0846450+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:32:01.0847010+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:32:01.4459390+01:00 0HMEOSF84MF7C:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:01.5491720+01:00 0HMEOSF84MF7C:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:01.5703680+01:00 0HMEOSF84MF7C:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:01.5727780+01:00 0HMEOSF84MF7C:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:32:01.5752910+01:00 0HMEOSF84MF7C:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:01.5922430+01:00 0HMEOSF84MF7C:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:01.5943290+01:00 0HMEOSF84MF7B:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:01.5981170+01:00 0HMEOSF84MF7B:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:01.5985660+01:00 0HMEOSF84MF7B:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:01.6000700+01:00 0HMEOSF84MF7B:00000002 [INF] Index viewed (84b92a55)
2022-01-16T12:32:01.6180820+01:00 0HMEOSF84MF7C:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:01.6662870+01:00 0HMEOSF84MF7B:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:01.6714890+01:00 0HMEOSF84MF7B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:01.6734330+01:00 0HMEOSF84MF7B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:01.7074270+01:00 0HMEOSF84MF7C:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:01.7074460+01:00 0HMEOSF84MF7B:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:01.8140870+01:00 0HMEOSF84MF7C:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:01.8140870+01:00 0HMEOSF84MF7B:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:02.0104820+01:00 0HMEOSF84MF7C:00000002 [INF] Executed ViewResult - view "Index" executed in 310.0695ms. (f66409e9)
2022-01-16T12:32:02.0105140+01:00 0HMEOSF84MF7B:00000002 [INF] Executed ViewResult - view "Index" executed in 315.1477ms. (f66409e9)
2022-01-16T12:32:02.0111710+01:00 0HMEOSF84MF7C:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 440.1397ms (afa2e885)
2022-01-16T12:32:02.0111610+01:00 0HMEOSF84MF7B:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 412.0757ms (afa2e885)
2022-01-16T12:32:02.0123780+01:00 0HMEOSF84MF7B:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.0124090+01:00 0HMEOSF84MF7C:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.0239950+01:00 0HMEOSF84MF7B:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 429.1811ms (791a596a)
2022-01-16T12:32:02.0251210+01:00 0HMEOSF84MF7C:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 585.1550ms (791a596a)
2022-01-16T12:32:02.3938360+01:00 0HMEOSF84MF7B:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:32:02.4402470+01:00 0HMEOSF84MF7B:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:02.4408380+01:00 0HMEOSF84MF7B:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:02.4412580+01:00 0HMEOSF84MF7B:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:32:02.4436960+01:00 0HMEOSF84MF7B:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:02.4529540+01:00 0HMEOSF84MF7B:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:32:02.4618980+01:00 0HMEOSF84MF7B:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:32:02.4633050+01:00 0HMEOSF84MF7B:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:32:02.4682260+01:00 0HMEOSF84MF7B:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:02.4746540+01:00 0HMEOSF84MF7B:00000003 [INF] Executed ViewResult - view "Index" executed in 11.8514ms. (f66409e9)
2022-01-16T12:32:02.4748890+01:00 0HMEOSF84MF7B:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 33.9212ms (afa2e885)
2022-01-16T12:32:02.4750140+01:00 0HMEOSF84MF7B:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:02.4755510+01:00 0HMEOSF84MF7B:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 81.6904ms (791a596a)
2022-01-16T12:32:06.5039130+01:00 0HMEOSF84MF7B:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:32:06.5212250+01:00 0HMEOSF84MF7B:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:06.5223090+01:00 0HMEOSF84MF7B:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:06.5431320+01:00 0HMEOSF84MF7B:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:06.5784020+01:00 0HMEOSF84MF7B:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:32:06.5799360+01:00 0HMEOSF84MF7B:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:06.5902970+01:00 0HMEOSF84MF7B:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:06.8040040+01:00 0HMEOSF84MF7B:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:32:06.8286490+01:00 0HMEOSF84MF7B:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 285.2867ms (afa2e885)
2022-01-16T12:32:06.8287730+01:00 0HMEOSF84MF7B:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:06.8297250+01:00 0HMEOSF84MF7B:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"299a0285-25e5-c137-9bc1-a98502fe226f" (1d7cf8c0)
2022-01-16T12:32:06.8305990+01:00 0HMEOSF84MF7B:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 326.9740ms (791a596a)
2022-01-16T12:32:07.0857510+01:00 0HMEOSF84MF7B:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:32:07.0908270+01:00 0HMEOSF84MF7B:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:07.0909100+01:00 0HMEOSF84MF7B:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:07.0911250+01:00 0HMEOSF84MF7B:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:07.0923840+01:00 0HMEOSF84MF7B:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:07.0936950+01:00 0HMEOSF84MF7B:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:07.1728140+01:00 0HMEOSF84MF7B:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:32:07.1731810+01:00 0HMEOSF84MF7B:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 81.9619ms (afa2e885)
2022-01-16T12:32:07.1733220+01:00 0HMEOSF84MF7B:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:07.1736520+01:00 0HMEOSF84MF7B:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 87.9441ms (791a596a)
2022-01-16T12:32:08.9481670+01:00 0HMEOSF84MF7B:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:32:08.9501440+01:00 0HMEOSF84MF7B:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:32:08.9507310+01:00 0HMEOSF84MF7B:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:32:08.9586420+01:00 0HMEOSF84MF7B:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:32:08.9692400+01:00 0HMEOSF84MF7B:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:32:09.0093860+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:32:09.3501160+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4079140+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4110210+01:00 0HMEOSF84MF7B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:32:09.4982930+01:00 0HMEOSF84MF7B:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 539.4735ms (afa2e885)
2022-01-16T12:32:09.4996660+01:00 0HMEOSF84MF7B:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:32:09.5402330+01:00 0HMEOSF84MF7B:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:32:09.5923990+01:00 0HMEOSF84MF7B:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 644.2089ms (791a596a)
2022-01-16T12:32:51.8529870+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:33:01.3645450+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:02.1355060+01:00  [INF] Executed DbCommand ("58"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:33:02.7104440+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:02.7232780+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:02.9586340+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.2542240+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.3680980+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.3965280+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.4052730+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.4057570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:03.4480940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:33:03.4789470+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.5786800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:03.7992710+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:33:03.7993780+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:33:03.7996060+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:33:03.7996760+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:33:03.7997170+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:33:05.8708270+01:00 0HMEOSFRB1A70:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:05.9851000+01:00 0HMEOSFRB1A70:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:05.9870230+01:00 0HMEOSFRB1A70:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:06.0256300+01:00 0HMEOSFRB1A70:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:06.0357190+01:00 0HMEOSFRB1A70:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:06.0785480+01:00 0HMEOSFRB1A70:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:33:06.0887100+01:00 0HMEOSFRB1A70:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 53.1429ms (afa2e885)
2022-01-16T12:33:06.0898910+01:00 0HMEOSFRB1A70:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:06.0997040+01:00 0HMEOSFRB1A70:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 233.7991ms (791a596a)
2022-01-16T12:33:06.1053970+01:00 0HMEOSFRB1A70:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:33:06.1099810+01:00 0HMEOSFRB1A70:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:06.1120390+01:00 0HMEOSFRB1A70:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:06.1144590+01:00 0HMEOSFRB1A70:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:33:06.1174240+01:00 0HMEOSFRB1A70:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:06.1367110+01:00 0HMEOSFRB1A70:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:06.1615900+01:00 0HMEOSFRB1A70:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:06.2212470+01:00 0HMEOSFRB1A70:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:33:06.2800620+01:00 0HMEOSFRB1A70:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:06.4860010+01:00 0HMEOSFRB1A70:00000003 [INF] Executed ViewResult - view "Index" executed in 272.8542ms. (f66409e9)
2022-01-16T12:33:06.4861370+01:00 0HMEOSFRB1A70:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 373.9982ms (afa2e885)
2022-01-16T12:33:06.4862050+01:00 0HMEOSFRB1A70:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:06.4927280+01:00 0HMEOSFRB1A70:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 387.2438ms (791a596a)
2022-01-16T12:33:09.6580080+01:00 0HMEOSFRB1A70:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:33:09.6820030+01:00 0HMEOSFRB1A70:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:09.6821480+01:00 0HMEOSFRB1A70:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:09.7015870+01:00 0HMEOSFRB1A70:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:09.7304150+01:00 0HMEOSFRB1A70:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:09.7648060+01:00 0HMEOSFRB1A70:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:09.7759620+01:00 0HMEOSFRB1A70:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:09.9740290+01:00 0HMEOSFRB1A70:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:33:09.9957900+01:00 0HMEOSFRB1A70:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 294.0739ms (afa2e885)
2022-01-16T12:33:09.9959000+01:00 0HMEOSFRB1A70:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:09.9965890+01:00 0HMEOSFRB1A70:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d63ebcb7-eeae-c2eb-6c1f-c39985d8b0ff" (1d7cf8c0)
2022-01-16T12:33:09.9974150+01:00 0HMEOSFRB1A70:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 339.4482ms (791a596a)
2022-01-16T12:33:11.3533500+01:00 0HMEOSFRB1A70:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:11.3559450+01:00 0HMEOSFRB1A70:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:11.3562780+01:00 0HMEOSFRB1A70:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:11.3564890+01:00 0HMEOSFRB1A70:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:11.4382530+01:00 0HMEOSFRB1A70:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:11.4684190+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:11.8173650+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:11.8822060+01:00 0HMEOSFRB1A70:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:11.9448180+01:00 0HMEOSFRB1A70:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 588.202ms (afa2e885)
2022-01-16T12:33:11.9464900+01:00 0HMEOSFRB1A70:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:12.0056200+01:00 0HMEOSFRB1A70:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:33:12.0511460+01:00 0HMEOSFRB1A70:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 697.8906ms (791a596a)
2022-01-16T12:33:29.9114050+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T12:33:41.0289530+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:42.0944200+01:00  [INF] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T12:33:42.5195510+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:42.5319700+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:42.7915820+01:00  [INF] Executed DbCommand ("42"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:42.9648290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:42.9982670+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.0108940+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:43.0188820+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.0193000+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T12:33:43.0505850+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T12:33:43.0751000+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.1689060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:43.5070800+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T12:33:43.5071850+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T12:33:43.5073950+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T12:33:43.5074430+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T12:33:43.5074740+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T12:33:45.7245180+01:00 0HMEOSG77BFLM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:45.8174260+01:00 0HMEOSG77BFLM:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:45.8187460+01:00 0HMEOSG77BFLM:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:45.8408700+01:00 0HMEOSG77BFLM:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:45.8462330+01:00 0HMEOSG77BFLM:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:45.8746590+01:00 0HMEOSG77BFLM:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T12:33:45.8824380+01:00 0HMEOSG77BFLM:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 34.0036ms (afa2e885)
2022-01-16T12:33:45.8832310+01:00 0HMEOSG77BFLM:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:45.8918920+01:00 0HMEOSG77BFLM:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 170.0901ms (791a596a)
2022-01-16T12:33:45.8961820+01:00 0HMEOSG77BFLM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T12:33:45.8988550+01:00 0HMEOSG77BFLM:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:45.9005670+01:00 0HMEOSG77BFLM:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:45.9021780+01:00 0HMEOSG77BFLM:00000003 [INF] Index viewed (84b92a55)
2022-01-16T12:33:45.9042270+01:00 0HMEOSG77BFLM:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:45.9180190+01:00 0HMEOSG77BFLM:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T12:33:45.9397400+01:00 0HMEOSG77BFLM:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T12:33:46.0036280+01:00 0HMEOSG77BFLM:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T12:33:46.0734110+01:00 0HMEOSG77BFLM:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:46.2443550+01:00 0HMEOSG77BFLM:00000003 [INF] Executed ViewResult - view "Index" executed in 252.1549ms. (f66409e9)
2022-01-16T12:33:46.2444750+01:00 0HMEOSG77BFLM:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 343.8358ms (afa2e885)
2022-01-16T12:33:46.2445290+01:00 0HMEOSG77BFLM:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:46.2501640+01:00 0HMEOSG77BFLM:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 353.9276ms (791a596a)
2022-01-16T12:33:49.4084920+01:00 0HMEOSG77BFLM:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T12:33:49.4334840+01:00 0HMEOSG77BFLM:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:49.4336220+01:00 0HMEOSG77BFLM:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:49.4524310+01:00 0HMEOSG77BFLM:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:49.4809550+01:00 0HMEOSG77BFLM:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T12:33:49.5141720+01:00 0HMEOSG77BFLM:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:49.5234200+01:00 0HMEOSG77BFLM:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:49.7040240+01:00 0HMEOSG77BFLM:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T12:33:49.7276780+01:00 0HMEOSG77BFLM:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 275.1146ms (afa2e885)
2022-01-16T12:33:49.7281210+01:00 0HMEOSG77BFLM:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:49.7294300+01:00 0HMEOSG77BFLM:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"2ee81ccc-8d47-1334-4c0b-6d03d879695d" (1d7cf8c0)
2022-01-16T12:33:49.7308590+01:00 0HMEOSG77BFLM:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 322.4753ms (791a596a)
2022-01-16T12:33:51.0549930+01:00 0HMEOSG77BFLM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T12:33:51.0567950+01:00 0HMEOSG77BFLM:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T12:33:51.0571240+01:00 0HMEOSG77BFLM:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T12:33:51.0573300+01:00 0HMEOSG77BFLM:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T12:33:51.1383250+01:00 0HMEOSG77BFLM:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T12:33:51.1694100+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T12:33:51.5257430+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:51.5825830+01:00 0HMEOSG77BFLM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T12:33:51.6632000+01:00 0HMEOSG77BFLM:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 605.749ms (afa2e885)
2022-01-16T12:33:51.6645960+01:00 0HMEOSG77BFLM:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T12:33:51.7167630+01:00 0HMEOSG77BFLM:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T12:33:51.7938620+01:00 0HMEOSG77BFLM:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 738.8260ms (791a596a)
2022-01-16T13:26:53.1580330+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:27:00.6416900+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:01.0908990+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:27:01.3027330+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:27:01.3138300+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:27:01.4796640+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5575920+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5733840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5738290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5759870+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.5761700+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:27:01.5932940+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:27:01.6088900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.6859870+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:01.9240970+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:27:01.9241720+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:27:01.9243810+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:27:01.9244430+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:27:01.9244810+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:27:10.4193270+01:00 0HMEOTE29G1A7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:10.5102800+01:00 0HMEOTE29G1A7:00000002 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-16T13:27:10.5234040+01:00 0HMEOTE29G1A7:00000002 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-16T13:27:10.5297910+01:00 0HMEOTE29G1A7:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 113.7211ms (791a596a)
2022-01-16T13:27:10.5363950+01:00 0HMEOTE29G1A7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:10.5400060+01:00 0HMEOTE29G1A7:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:10.5717130+01:00 0HMEOTE29G1A7:00000003 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:10.6151550+01:00 0HMEOTE29G1A7:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-16T13:27:10.8255390+01:00 0HMEOTE29G1A7:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:11.0759010+01:00 0HMEOTE29G1A7:00000003 [INF] Executed ViewResult - view "Login" executed in 421.1228ms. (f66409e9)
2022-01-16T13:27:11.0768540+01:00 0HMEOTE29G1A7:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 504.4003ms (afa2e885)
2022-01-16T13:27:11.0776810+01:00 0HMEOTE29G1A7:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:11.0853640+01:00 0HMEOTE29G1A7:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login?ReturnUrl=%2FCustomer%2FCustomerOrderNotCart%2FApproveOrderInSession - - - 200 - text/html;+charset=utf-8 548.9372ms (791a596a)
2022-01-16T13:27:44.2964790+01:00 0HMEOTE29G1A7:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-16T13:27:44.3003770+01:00 0HMEOTE29G1A7:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:44.3311920+01:00 0HMEOTE29G1A7:00000004 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:44.3874080+01:00 0HMEOTE29G1A7:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:44.3904230+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:44.5480140+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-16T13:27:44.5902960+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-16T13:27:44.5944840+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:44.6050740+01:00 0HMEOTE29G1A7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-16T13:27:44.6228110+01:00 0HMEOTE29G1A7:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-16T13:27:44.6376850+01:00 0HMEOTE29G1A7:00000004 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:27:44.6408580+01:00 0HMEOTE29G1A7:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 309.5531ms (afa2e885)
2022-01-16T13:27:44.6422580+01:00 0HMEOTE29G1A7:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:44.6538790+01:00 0HMEOTE29G1A7:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 357.5132ms (791a596a)
2022-01-16T13:27:44.6541370+01:00 0HMEOTE29G1A7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:27:44.6588480+01:00 0HMEOTE29G1A7:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:44.6601710+01:00 0HMEOTE29G1A7:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:44.6618860+01:00 0HMEOTE29G1A7:00000005 [INF] Index viewed (84b92a55)
2022-01-16T13:27:44.7043930+01:00 0HMEOTE29G1A7:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:44.7159420+01:00 0HMEOTE29G1A7:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:27:44.7328420+01:00 0HMEOTE29G1A7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:27:44.7696530+01:00 0HMEOTE29G1A7:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:27:44.7932880+01:00 0HMEOTE29G1A7:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:44.8183330+01:00 0HMEOTE29G1A7:00000005 [INF] Executed ViewResult - view "Index" executed in 51.3163ms. (f66409e9)
2022-01-16T13:27:44.8184310+01:00 0HMEOTE29G1A7:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 158.211ms (afa2e885)
2022-01-16T13:27:44.8184900+01:00 0HMEOTE29G1A7:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:44.8188230+01:00 0HMEOTE29G1A7:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 164.6190ms (791a596a)
2022-01-16T13:27:47.3627390+01:00 0HMEOTE29G1A7:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:27:47.3747710+01:00 0HMEOTE29G1A7:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:27:47.3749820+01:00 0HMEOTE29G1A7:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:47.3789800+01:00 0HMEOTE29G1A7:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:47.3864260+01:00 0HMEOTE29G1A7:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:27:47.3889630+01:00 0HMEOTE29G1A7:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:47.3966280+01:00 0HMEOTE29G1A7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:47.5732130+01:00 0HMEOTE29G1A7:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:27:47.5873650+01:00 0HMEOTE29G1A7:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 208.2802ms (afa2e885)
2022-01-16T13:27:47.5874940+01:00 0HMEOTE29G1A7:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:47.5882480+01:00 0HMEOTE29G1A7:00000006 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"1cc2630c-c898-2cba-87a7-0dbb15cc0958" (1d7cf8c0)
2022-01-16T13:27:47.5891690+01:00 0HMEOTE29G1A7:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 226.6118ms (791a596a)
2022-01-16T13:27:49.0323340+01:00 0HMEOTE29G1A7:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:27:49.0490450+01:00 0HMEOTE29G1A7:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:27:49.0493650+01:00 0HMEOTE29G1A7:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:27:49.0570030+01:00 0HMEOTE29G1A7:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:27:49.1343650+01:00 0HMEOTE29G1A7:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:27:49.1496520+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:27:49.3924730+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:27:49.4361990+01:00 0HMEOTE29G1A7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:27:49.4991910+01:00 0HMEOTE29G1A7:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 442.1196ms (afa2e885)
2022-01-16T13:27:49.4993090+01:00 0HMEOTE29G1A7:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:27:49.5403500+01:00 0HMEOTE29G1A7:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T13:27:49.5701110+01:00 0HMEOTE29G1A7:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 537.8253ms (791a596a)
2022-01-16T13:28:59.1628910+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:29:05.6761670+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:06.0310220+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:29:06.2377200+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:29:06.2467170+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:29:06.4233050+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5014760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5173070+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5178070+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5206030+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.5208020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:29:06.5392530+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:29:06.5588090+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.6261630+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:06.8197400+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:29:06.8198000+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:29:06.8199490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:29:06.8199930+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:29:06.8200160+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:29:17.3570000+01:00 0HMEOTF84AM3T:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:29:17.4375910+01:00 0HMEOTF84AM3T:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:17.4386600+01:00 0HMEOTF84AM3T:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:17.4591870+01:00 0HMEOTF84AM3T:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:17.4638520+01:00 0HMEOTF84AM3T:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:17.4918220+01:00 0HMEOTF84AM3T:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:29:17.4985990+01:00 0HMEOTF84AM3T:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 32.8476ms (afa2e885)
2022-01-16T13:29:17.4992470+01:00 0HMEOTF84AM3T:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:17.5061360+01:00 0HMEOTF84AM3T:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 151.7721ms (791a596a)
2022-01-16T13:29:17.5102590+01:00 0HMEOTF84AM3T:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:29:17.5126350+01:00 0HMEOTF84AM3T:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:17.5144600+01:00 0HMEOTF84AM3T:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:17.5159490+01:00 0HMEOTF84AM3T:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:29:17.5177930+01:00 0HMEOTF84AM3T:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:17.5293600+01:00 0HMEOTF84AM3T:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:29:17.5429480+01:00 0HMEOTF84AM3T:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:29:17.5890930+01:00 0HMEOTF84AM3T:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:29:17.6364980+01:00 0HMEOTF84AM3T:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:17.7995190+01:00 0HMEOTF84AM3T:00000003 [INF] Executed ViewResult - view "Index" executed in 217.8985ms. (f66409e9)
2022-01-16T13:29:17.7997320+01:00 0HMEOTF84AM3T:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 285.2192ms (afa2e885)
2022-01-16T13:29:17.7997690+01:00 0HMEOTF84AM3T:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:17.8048420+01:00 0HMEOTF84AM3T:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 294.5087ms (791a596a)
2022-01-16T13:29:20.3876050+01:00 0HMEOTF84AM3T:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:29:20.4154640+01:00 0HMEOTF84AM3T:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:20.4156190+01:00 0HMEOTF84AM3T:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:20.4363290+01:00 0HMEOTF84AM3T:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:20.4644930+01:00 0HMEOTF84AM3T:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:29:20.5001170+01:00 0HMEOTF84AM3T:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:20.5163010+01:00 0HMEOTF84AM3T:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:20.6825350+01:00 0HMEOTF84AM3T:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:29:20.6972090+01:00 0HMEOTF84AM3T:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 260.7377ms (afa2e885)
2022-01-16T13:29:20.6972930+01:00 0HMEOTF84AM3T:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:20.6980170+01:00 0HMEOTF84AM3T:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"11898b94-f51d-f2d3-5044-e635406660a9" (1d7cf8c0)
2022-01-16T13:29:20.6989430+01:00 0HMEOTF84AM3T:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 311.6450ms (791a596a)
2022-01-16T13:29:20.9371920+01:00 0HMEOTF84AM3T:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:29:20.9394680+01:00 0HMEOTF84AM3T:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:20.9399470+01:00 0HMEOTF84AM3T:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:20.9401860+01:00 0HMEOTF84AM3T:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:20.9431880+01:00 0HMEOTF84AM3T:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:20.9459690+01:00 0HMEOTF84AM3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:21.0123130+01:00 0HMEOTF84AM3T:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:29:21.0125480+01:00 0HMEOTF84AM3T:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 72.2822ms (afa2e885)
2022-01-16T13:29:21.0125990+01:00 0HMEOTF84AM3T:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:21.0130060+01:00 0HMEOTF84AM3T:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 75.8693ms (791a596a)
2022-01-16T13:29:22.8108420+01:00 0HMEOTF84AM3T:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:29:22.8119470+01:00 0HMEOTF84AM3T:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:29:22.8120120+01:00 0HMEOTF84AM3T:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:29:22.8121300+01:00 0HMEOTF84AM3T:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:29:22.8175010+01:00 0HMEOTF84AM3T:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:29:22.8648380+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:29:23.1299350+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.1792510+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.1818700+01:00 0HMEOTF84AM3T:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:29:23.2600430+01:00 0HMEOTF84AM3T:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 447.8381ms (afa2e885)
2022-01-16T13:29:23.2612800+01:00 0HMEOTF84AM3T:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:29:23.2995050+01:00 0HMEOTF84AM3T:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 90
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 136
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T13:29:23.3288920+01:00 0HMEOTF84AM3T:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 518.0864ms (791a596a)
2022-01-16T13:52:55.0779530+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T13:53:13.2704830+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:13.7212090+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:53:13.9455800+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:53:13.9549990+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:53:14.0928810+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.1516890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.1756810+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.1833270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.2465180+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.2528800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:53:14.3603170+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:53:14.4371970+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.5259000+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:14.8289790+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:53:14.8318370+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:53:14.8348020+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:53:14.8374500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:53:14.8401760+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:53:31.1411210+01:00 0HMEOTSPCFOIH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:53:31.2274170+01:00 0HMEOTSPCFOIH:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:31.2282920+01:00 0HMEOTSPCFOIH:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:31.2489680+01:00 0HMEOTSPCFOIH:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:31.2548410+01:00 0HMEOTSPCFOIH:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:31.2976740+01:00 0HMEOTSPCFOIH:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:53:31.3024570+01:00 0HMEOTSPCFOIH:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 49.4261ms (afa2e885)
2022-01-16T13:53:31.3027870+01:00 0HMEOTSPCFOIH:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:31.3193280+01:00 0HMEOTSPCFOIH:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 180.1328ms (791a596a)
2022-01-16T13:53:31.3352330+01:00 0HMEOTSPCFOIH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:53:31.3369490+01:00 0HMEOTSPCFOIH:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:31.3382120+01:00 0HMEOTSPCFOIH:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:31.3419280+01:00 0HMEOTSPCFOIH:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:53:31.3434300+01:00 0HMEOTSPCFOIH:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:31.3499190+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:53:31.3587380+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:53:31.3930660+01:00 0HMEOTSPCFOIH:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:53:31.4272700+01:00 0HMEOTSPCFOIH:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:31.5609010+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed ViewResult - view "Index" executed in 175.9255ms. (f66409e9)
2022-01-16T13:53:31.5610150+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 222.7423ms (afa2e885)
2022-01-16T13:53:31.5610680+01:00 0HMEOTSPCFOIH:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:31.5645050+01:00 0HMEOTSPCFOIH:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 229.2049ms (791a596a)
2022-01-16T13:53:36.5477460+01:00 0HMEOTSPCFOIH:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T13:53:36.5598650+01:00 0HMEOTSPCFOIH:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:36.5601060+01:00 0HMEOTSPCFOIH:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:36.5737950+01:00 0HMEOTSPCFOIH:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:36.6052550+01:00 0HMEOTSPCFOIH:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:53:36.6203340+01:00 0HMEOTSPCFOIH:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:36.6262220+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:36.7569920+01:00 0HMEOTSPCFOIH:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T13:53:36.7673300+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 193.3977ms (afa2e885)
2022-01-16T13:53:36.7674390+01:00 0HMEOTSPCFOIH:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:53:36.7682830+01:00 0HMEOTSPCFOIH:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d5bd0a0a-108b-0ce7-a3b0-779d8eb91545" (1d7cf8c0)
2022-01-16T13:53:36.7693440+01:00 0HMEOTSPCFOIH:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 221.7737ms (791a596a)
2022-01-16T13:53:38.4472780+01:00 0HMEOTSPCFOIH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:53:38.4486830+01:00 0HMEOTSPCFOIH:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:53:38.4490090+01:00 0HMEOTSPCFOIH:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:53:38.4492880+01:00 0HMEOTSPCFOIH:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:53:38.5015250+01:00 0HMEOTSPCFOIH:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:53:38.5735810+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("53"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T13:53:38.8616840+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:53:38.8894110+01:00 0HMEOTSPCFOIH:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T13:55:21.4063880+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:55:22.1158910+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T13:55:22.4135870+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:55:22.4243980+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:55:22.6362460+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7203060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.7595440+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7708470+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.7798060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:22.7838680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T13:55:22.8633080+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T13:55:23.0702820+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:23.2005770+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T13:55:23.5623120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T13:55:23.5654070+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T13:55:23.5686250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T13:55:23.5718820+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T13:55:23.5750870+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T13:56:17.7599090+01:00 0HMEOTUB0TRIQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T13:56:17.8531270+01:00 0HMEOTUB0TRIQ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T13:56:17.8540350+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:56:17.8751930+01:00 0HMEOTUB0TRIQ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:56:17.8831920+01:00 0HMEOTUB0TRIQ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:56:17.9320800+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T13:56:17.9375070+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 57.4348ms (afa2e885)
2022-01-16T13:56:17.9382030+01:00 0HMEOTUB0TRIQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:56:17.9485930+01:00 0HMEOTUB0TRIQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 190.6278ms (791a596a)
2022-01-16T13:56:17.9657530+01:00 0HMEOTUB0TRIQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T13:56:17.9679120+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T13:56:17.9699460+01:00 0HMEOTUB0TRIQ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T13:56:17.9737200+01:00 0HMEOTUB0TRIQ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T13:56:17.9752390+01:00 0HMEOTUB0TRIQ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T13:56:17.9849020+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T13:56:17.9934400+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T13:56:18.0355270+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T13:56:18.0753430+01:00 0HMEOTUB0TRIQ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T13:56:18.2512650+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed ViewResult - view "Index" executed in 225.658ms. (f66409e9)
2022-01-16T13:56:18.2513860+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 281.3739ms (afa2e885)
2022-01-16T13:56:18.2514430+01:00 0HMEOTUB0TRIQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T13:56:18.2547710+01:00 0HMEOTUB0TRIQ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 288.8401ms (791a596a)
2022-01-16T14:01:19.6424160+01:00 0HMEOTUB0TRIR:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:01:19.6549780+01:00 0HMEOTUB0TRIR:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:01:19.6552150+01:00 0HMEOTUB0TRIR:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:01:19.6680790+01:00 0HMEOTUB0TRIR:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:01:19.6995180+01:00 0HMEOTUB0TRIR:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:01:19.7146320+01:00 0HMEOTUB0TRIR:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:01:19.7364640+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:01:19.8776390+01:00 0HMEOTUB0TRIR:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:01:19.8897390+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 221.3737ms (afa2e885)
2022-01-16T14:01:19.8899240+01:00 0HMEOTUB0TRIR:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:01:19.8905170+01:00 0HMEOTUB0TRIR:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"3a5c1a8c-8daf-f3d4-0fb8-a04ba415db5c" (1d7cf8c0)
2022-01-16T14:01:19.8913070+01:00 0HMEOTUB0TRIR:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 249.0417ms (791a596a)
2022-01-16T14:01:21.4398910+01:00 0HMEOTUB0TRIR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:01:21.4417280+01:00 0HMEOTUB0TRIR:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:01:21.4421680+01:00 0HMEOTUB0TRIR:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:01:21.4424520+01:00 0HMEOTUB0TRIR:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:01:21.5050400+01:00 0HMEOTUB0TRIR:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:01:21.5511620+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:01:21.7339550+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:01:21.7845960+01:00 0HMEOTUB0TRIR:00000003 [INF] Executed DbCommand ("25"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:29.6002450+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:30.1200400+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:02:30.3313470+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:02:30.3410940+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:02:30.5170320+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.5871630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.6788680+01:00  [INF] Executed DbCommand ("71"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.6930050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.8352870+01:00  [INF] Executed DbCommand ("64"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:30.8417450+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:02:30.9152050+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:02:31.0534790+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:31.1477050+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:31.5129350+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:02:31.5155640+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:02:31.5396490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:02:31.5429500+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:02:31.5457400+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:02:36.7593180+01:00 0HMEOU1RVMR3B:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:02:36.8410450+01:00 0HMEOU1RVMR3B:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:36.8418670+01:00 0HMEOU1RVMR3B:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:36.8603340+01:00 0HMEOU1RVMR3B:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:36.8653130+01:00 0HMEOU1RVMR3B:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:36.9078610+01:00 0HMEOU1RVMR3B:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:02:36.9121230+01:00 0HMEOU1RVMR3B:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 48.0946ms (afa2e885)
2022-01-16T14:02:36.9124710+01:00 0HMEOU1RVMR3B:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:36.9197050+01:00 0HMEOU1RVMR3B:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 161.7284ms (791a596a)
2022-01-16T14:02:36.9337140+01:00 0HMEOU1RVMR3B:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:02:36.9355180+01:00 0HMEOU1RVMR3B:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:36.9372410+01:00 0HMEOU1RVMR3B:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:36.9408540+01:00 0HMEOU1RVMR3B:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:02:36.9423920+01:00 0HMEOU1RVMR3B:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:36.9513770+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:02:36.9604290+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:02:36.9935920+01:00 0HMEOU1RVMR3B:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:02:37.0272310+01:00 0HMEOU1RVMR3B:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:37.1633760+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed ViewResult - view "Index" executed in 175.1148ms. (f66409e9)
2022-01-16T14:02:37.1635010+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 226.1617ms (afa2e885)
2022-01-16T14:02:37.1635560+01:00 0HMEOU1RVMR3B:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:37.1671100+01:00 0HMEOU1RVMR3B:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 233.2894ms (791a596a)
2022-01-16T14:02:43.8758090+01:00 0HMEOU1RVMR3B:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:43.8886020+01:00 0HMEOU1RVMR3B:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:43.8888320+01:00 0HMEOU1RVMR3B:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:43.9017410+01:00 0HMEOU1RVMR3B:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:43.9343110+01:00 0HMEOU1RVMR3B:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:02:43.9520780+01:00 0HMEOU1RVMR3B:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:43.9595030+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:44.1124900+01:00 0HMEOU1RVMR3B:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:44.1272390+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 225.3215ms (afa2e885)
2022-01-16T14:02:44.1274970+01:00 0HMEOU1RVMR3B:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:44.1281440+01:00 0HMEOU1RVMR3B:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"58aa1030-911f-38fd-b54f-5a52f7acd68e" (1d7cf8c0)
2022-01-16T14:02:44.1290900+01:00 0HMEOU1RVMR3B:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 253.4748ms (791a596a)
2022-01-16T14:02:44.4971480+01:00 0HMEOU1RVMR3B:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:44.4988020+01:00 0HMEOU1RVMR3B:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:44.4991260+01:00 0HMEOU1RVMR3B:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:44.4993880+01:00 0HMEOU1RVMR3B:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:44.5018690+01:00 0HMEOU1RVMR3B:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:44.5045850+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:44.5585310+01:00 0HMEOU1RVMR3B:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:44.5588850+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 59.3969ms (afa2e885)
2022-01-16T14:02:44.5589760+01:00 0HMEOU1RVMR3B:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:44.5598440+01:00 0HMEOU1RVMR3B:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 62.6940ms (791a596a)
2022-01-16T14:02:45.3979280+01:00 0HMEOU1RVMR3B:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:02:45.3992290+01:00 0HMEOU1RVMR3B:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:45.3993510+01:00 0HMEOU1RVMR3B:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:45.3995430+01:00 0HMEOU1RVMR3B:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:45.4006200+01:00 0HMEOU1RVMR3B:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:45.4028830+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:45.4043560+01:00 0HMEOU1RVMR3B:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:02:45.4046990+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.0139ms (afa2e885)
2022-01-16T14:02:45.4048110+01:00 0HMEOU1RVMR3B:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:02:45.4052060+01:00 0HMEOU1RVMR3B:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.2883ms (791a596a)
2022-01-16T14:02:47.4122550+01:00 0HMEOU1RVMR3B:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:02:47.4135190+01:00 0HMEOU1RVMR3B:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:02:47.4136380+01:00 0HMEOU1RVMR3B:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:02:47.4137930+01:00 0HMEOU1RVMR3B:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:02:47.4294050+01:00 0HMEOU1RVMR3B:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:02:47.5106530+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:02:47.7909950+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8239240+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8527310+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:02:47.8595900+01:00 0HMEOU1RVMR3B:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:38.0109070+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:38.4942810+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:04:38.7227040+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:04:38.7338620+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:04:38.9253440+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:38.9978640+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.0236680+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.0309890+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.2507090+01:00  [INF] Executed DbCommand ("79"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.2592460+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:04:39.3352300+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:04:39.4057720+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.4962760+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:39.8648810+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:04:39.8678770+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:04:39.8710450+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:04:39.8739940+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:04:39.8769900+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:04:44.4302380+01:00 0HMEOU321IR4O:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:04:44.5210070+01:00 0HMEOU321IR4O:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:44.5218820+01:00 0HMEOU321IR4O:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:44.5393100+01:00 0HMEOU321IR4O:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:44.5444030+01:00 0HMEOU321IR4O:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:44.5875800+01:00 0HMEOU321IR4O:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:04:44.5924630+01:00 0HMEOU321IR4O:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 48.9429ms (afa2e885)
2022-01-16T14:04:44.5928300+01:00 0HMEOU321IR4O:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:44.5997210+01:00 0HMEOU321IR4O:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 171.6970ms (791a596a)
2022-01-16T14:04:44.6148950+01:00 0HMEOU321IR4O:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:04:44.6167640+01:00 0HMEOU321IR4O:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:44.6181070+01:00 0HMEOU321IR4O:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:44.6214320+01:00 0HMEOU321IR4O:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:04:44.6234190+01:00 0HMEOU321IR4O:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:44.6375560+01:00 0HMEOU321IR4O:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:04:44.6477590+01:00 0HMEOU321IR4O:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:04:44.6923930+01:00 0HMEOU321IR4O:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:04:44.7379820+01:00 0HMEOU321IR4O:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:44.8904530+01:00 0HMEOU321IR4O:00000003 [INF] Executed ViewResult - view "Index" executed in 208.0776ms. (f66409e9)
2022-01-16T14:04:44.8906120+01:00 0HMEOU321IR4O:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 272.4388ms (afa2e885)
2022-01-16T14:04:44.8907010+01:00 0HMEOU321IR4O:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:44.8955420+01:00 0HMEOU321IR4O:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 280.5248ms (791a596a)
2022-01-16T14:04:47.5396990+01:00 0HMEOU321IR4O:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:47.5527240+01:00 0HMEOU321IR4O:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:47.5529310+01:00 0HMEOU321IR4O:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:47.5658950+01:00 0HMEOU321IR4O:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:47.5979340+01:00 0HMEOU321IR4O:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:04:47.6140300+01:00 0HMEOU321IR4O:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:47.6199960+01:00 0HMEOU321IR4O:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:47.7501760+01:00 0HMEOU321IR4O:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:47.7617810+01:00 0HMEOU321IR4O:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 195.7198ms (afa2e885)
2022-01-16T14:04:47.7618900+01:00 0HMEOU321IR4O:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:47.7627750+01:00 0HMEOU321IR4O:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"56a24c37-1518-b18c-2f24-bb35d8e402f0" (1d7cf8c0)
2022-01-16T14:04:47.7639530+01:00 0HMEOU321IR4O:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 224.3092ms (791a596a)
2022-01-16T14:04:48.3894970+01:00 0HMEOU321IR4O:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:48.3914660+01:00 0HMEOU321IR4O:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:48.3920240+01:00 0HMEOU321IR4O:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:48.3924420+01:00 0HMEOU321IR4O:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:48.3955060+01:00 0HMEOU321IR4O:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:48.3984740+01:00 0HMEOU321IR4O:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:48.4548930+01:00 0HMEOU321IR4O:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:48.4554300+01:00 0HMEOU321IR4O:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 62.8281ms (afa2e885)
2022-01-16T14:04:48.4556010+01:00 0HMEOU321IR4O:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:48.4567930+01:00 0HMEOU321IR4O:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 67.3745ms (791a596a)
2022-01-16T14:04:48.5933330+01:00 0HMEOU321IR4O:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:48.5948860+01:00 0HMEOU321IR4O:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:48.5950580+01:00 0HMEOU321IR4O:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:48.5952840+01:00 0HMEOU321IR4O:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:48.5966570+01:00 0HMEOU321IR4O:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:48.5990870+01:00 0HMEOU321IR4O:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:48.6001210+01:00 0HMEOU321IR4O:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:48.6003580+01:00 0HMEOU321IR4O:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.9804ms (afa2e885)
2022-01-16T14:04:48.6004370+01:00 0HMEOU321IR4O:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:48.6007410+01:00 0HMEOU321IR4O:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.4333ms (791a596a)
2022-01-16T14:04:49.4077360+01:00 0HMEOU321IR4O:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:04:49.4094040+01:00 0HMEOU321IR4O:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:49.4095660+01:00 0HMEOU321IR4O:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:49.4098960+01:00 0HMEOU321IR4O:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:49.4107960+01:00 0HMEOU321IR4O:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:49.4132370+01:00 0HMEOU321IR4O:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:49.4139520+01:00 0HMEOU321IR4O:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:04:49.4141810+01:00 0HMEOU321IR4O:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.1768ms (afa2e885)
2022-01-16T14:04:49.4143600+01:00 0HMEOU321IR4O:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:04:49.4147610+01:00 0HMEOU321IR4O:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.1578ms (791a596a)
2022-01-16T14:04:51.3040000+01:00 0HMEOU321IR4O:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:04:51.3062870+01:00 0HMEOU321IR4O:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:04:51.3064540+01:00 0HMEOU321IR4O:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:04:51.3068280+01:00 0HMEOU321IR4O:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:04:51.3110620+01:00 0HMEOU321IR4O:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:04:51.4246480+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("79"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:04:51.6691940+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.6990560+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.7022760+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:04:51.7308680+01:00 0HMEOU321IR4O:00000008 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:06:03.3443150+01:00 0HMEOU321IR4O:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 72039.3871ms (afa2e885)
2022-01-16T14:06:03.3462170+01:00 0HMEOU321IR4O:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:03.3795040+01:00 0HMEOU321IR4O:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 91
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:06:03.4043080+01:00 0HMEOU321IR4O:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 72102.4841ms (791a596a)
2022-01-16T14:06:48.5372360+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:49.0034970+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:06:49.2273930+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:06:49.2344840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:06:49.4328790+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.5035250+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.5279330+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.5349080+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.6764020+01:00  [INF] Executed DbCommand ("86"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.6823040+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:06:49.7868220+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:06:49.8682560+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:49.9878670+01:00  [INF] Executed DbCommand ("53"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:50.3574140+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:06:50.3601070+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:06:50.3632400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:06:50.3660890+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:06:50.3688200+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:06:56.0279140+01:00 0HMEOU48II22A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:56.1223290+01:00 0HMEOU48II22A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:56.1232300+01:00 0HMEOU48II22A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:56.1462810+01:00 0HMEOU48II22A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:56.1697960+01:00 0HMEOU48II22A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:06:56.1817080+01:00 0HMEOU48II229:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:56.1829210+01:00 0HMEOU48II22A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:56.1855280+01:00 0HMEOU48II229:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:56.1856460+01:00 0HMEOU48II229:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:56.1859570+01:00 0HMEOU48II229:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:56.1870470+01:00 0HMEOU48II229:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:06:56.1955970+01:00 0HMEOU48II22A:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:56.2041290+01:00 0HMEOU48II229:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:56.2513940+01:00 0HMEOU48II229:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:56.4066510+01:00 0HMEOU48II22A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:56.4066510+01:00 0HMEOU48II229:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:56.4360200+01:00 0HMEOU48II22A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 283.5362ms (afa2e885)
2022-01-16T14:06:56.4360040+01:00 0HMEOU48II229:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 244.1429ms (afa2e885)
2022-01-16T14:06:56.4366910+01:00 0HMEOU48II22A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:56.4366910+01:00 0HMEOU48II229:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:56.4384570+01:00 0HMEOU48II229:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4aa23c04-d8bf-0366-fdf0-1c041cf7f902" (1d7cf8c0)
2022-01-16T14:06:56.4385250+01:00 0HMEOU48II22A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"d84ba5f7-0962-d959-9274-3bfee6cbc39f" (1d7cf8c0)
2022-01-16T14:06:56.4460820+01:00 0HMEOU48II22A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 421.5936ms (791a596a)
2022-01-16T14:06:56.4460820+01:00 0HMEOU48II229:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 263.4520ms (791a596a)
2022-01-16T14:06:57.1097850+01:00 0HMEOU48II22A:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.1206470+01:00 0HMEOU48II22A:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.1208980+01:00 0HMEOU48II22A:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.1210860+01:00 0HMEOU48II22A:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.1229450+01:00 0HMEOU48II22A:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.1259280+01:00 0HMEOU48II22A:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.1793150+01:00 0HMEOU48II22A:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.1799450+01:00 0HMEOU48II22A:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 58.7244ms (afa2e885)
2022-01-16T14:06:57.1800800+01:00 0HMEOU48II22A:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.1807390+01:00 0HMEOU48II22A:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 70.9257ms (791a596a)
2022-01-16T14:06:57.7582030+01:00 0HMEOU48II22A:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.7595100+01:00 0HMEOU48II22A:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.7596170+01:00 0HMEOU48II22A:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.7598060+01:00 0HMEOU48II22A:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.7606900+01:00 0HMEOU48II22A:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.7641290+01:00 0HMEOU48II22A:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.7653500+01:00 0HMEOU48II22A:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.7656410+01:00 0HMEOU48II22A:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.7241ms (afa2e885)
2022-01-16T14:06:57.7657580+01:00 0HMEOU48II22A:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.7661440+01:00 0HMEOU48II22A:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 8.1550ms (791a596a)
2022-01-16T14:06:57.9224830+01:00 0HMEOU48II22A:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:06:57.9238270+01:00 0HMEOU48II22A:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:57.9240800+01:00 0HMEOU48II22A:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:57.9242770+01:00 0HMEOU48II22A:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:57.9255130+01:00 0HMEOU48II22A:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:57.9278510+01:00 0HMEOU48II22A:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:06:57.9287790+01:00 0HMEOU48II22A:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:06:57.9292860+01:00 0HMEOU48II22A:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8248ms (afa2e885)
2022-01-16T14:06:57.9294060+01:00 0HMEOU48II22A:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:06:57.9298440+01:00 0HMEOU48II22A:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.3289ms (791a596a)
2022-01-16T14:06:59.7635280+01:00 0HMEOU48II22A:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:06:59.7651770+01:00 0HMEOU48II22A:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:06:59.7653030+01:00 0HMEOU48II22A:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:06:59.7723040+01:00 0HMEOU48II22A:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:06:59.7797640+01:00 0HMEOU48II22A:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:06:59.8695550+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:07:00.1624580+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.1943750+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.1980010+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:07:00.2011980+01:00 0HMEOU48II22A:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:14:54.0957500+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:54.6811470+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:14:55.1553210+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:14:55.1789500+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:14:55.5995360+01:00  [INF] Executed DbCommand ("46"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.7558920+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.7975630+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.8138960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.8273680+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:55.8281490+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:14:55.8982740+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:14:55.9447430+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:56.0452900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:14:56.2618930+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:14:56.2619570+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:14:56.2620890+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:14:56.2621160+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:14:56.2621440+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:14:56.6213020+01:00 0HMEOU8OFPDMJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:14:56.7161230+01:00 0HMEOU8OFPDMJ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:14:56.7176960+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:56.7428130+01:00 0HMEOU8OFPDMJ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:56.7492330+01:00 0HMEOU8OFPDMJ:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:56.7802490+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:14:56.7882560+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 37.7509ms (afa2e885)
2022-01-16T14:14:56.7891360+01:00 0HMEOU8OFPDMJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:14:56.8084880+01:00 0HMEOU8OFPDMJ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 191.5911ms (791a596a)
2022-01-16T14:14:56.8132630+01:00 0HMEOU8OFPDMJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:14:56.8159930+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:56.8179540+01:00 0HMEOU8OFPDMJ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:56.8196230+01:00 0HMEOU8OFPDMJ:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:14:56.8218650+01:00 0HMEOU8OFPDMJ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:56.8305240+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:14:56.8476590+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:14:56.8939500+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:14:56.9482280+01:00 0HMEOU8OFPDMJ:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:57.1533300+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed ViewResult - view "Index" executed in 266.6391ms. (f66409e9)
2022-01-16T14:14:57.1535940+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 335.5241ms (afa2e885)
2022-01-16T14:14:57.1536830+01:00 0HMEOU8OFPDMJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:14:57.1590680+01:00 0HMEOU8OFPDMJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 345.6650ms (791a596a)
2022-01-16T14:14:59.8727410+01:00 0HMEOU8OFPDMJ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:14:59.8987050+01:00 0HMEOU8OFPDMJ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:14:59.8989300+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:14:59.9190830+01:00 0HMEOU8OFPDMJ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:14:59.9481260+01:00 0HMEOU8OFPDMJ:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:14:59.9818620+01:00 0HMEOU8OFPDMJ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:14:59.9924650+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.0634640+01:00 0HMEOU8OFPDMK:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:00.0646760+01:00 0HMEOU8OFPDMK:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:00.0649630+01:00 0HMEOU8OFPDMK:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:00.0651090+01:00 0HMEOU8OFPDMK:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:00.0665470+01:00 0HMEOU8OFPDMK:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:15:00.0671490+01:00 0HMEOU8OFPDMK:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:00.0694180+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.1860770+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.1860810+01:00 0HMEOU8OFPDMK:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.2107320+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 145.5391ms (afa2e885)
2022-01-16T14:15:00.2107420+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 291.5208ms (afa2e885)
2022-01-16T14:15:00.2108170+01:00 0HMEOU8OFPDMJ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:00.2108180+01:00 0HMEOU8OFPDMK:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:00.2114930+01:00 0HMEOU8OFPDMJ:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cd847ff2-705b-b7bc-6d64-aee7f2aec4c6" (1d7cf8c0)
2022-01-16T14:15:00.2114880+01:00 0HMEOU8OFPDMK:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"534b2b88-827f-ca28-149a-460684dd9f18" (1d7cf8c0)
2022-01-16T14:15:00.2125260+01:00 0HMEOU8OFPDMJ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 339.9558ms (791a596a)
2022-01-16T14:15:00.2125080+01:00 0HMEOU8OFPDMK:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 149.0070ms (791a596a)
2022-01-16T14:15:00.9069900+01:00 0HMEOU8OFPDMK:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:00.9084560+01:00 0HMEOU8OFPDMK:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:00.9086080+01:00 0HMEOU8OFPDMK:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:00.9093320+01:00 0HMEOU8OFPDMK:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:00.9109890+01:00 0HMEOU8OFPDMK:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:00.9131600+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:00.9997240+01:00 0HMEOU8OFPDMK:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:00.9999980+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 90.5642ms (afa2e885)
2022-01-16T14:15:01.0000890+01:00 0HMEOU8OFPDMK:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:01.0004190+01:00 0HMEOU8OFPDMK:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 93.5644ms (791a596a)
2022-01-16T14:15:01.0735080+01:00 0HMEOU8OFPDMK:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:15:01.0748280+01:00 0HMEOU8OFPDMK:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:01.0749160+01:00 0HMEOU8OFPDMK:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:01.0750780+01:00 0HMEOU8OFPDMK:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:01.0757670+01:00 0HMEOU8OFPDMK:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:01.0778590+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:01.0798120+01:00 0HMEOU8OFPDMK:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:15:01.0801300+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.982ms (afa2e885)
2022-01-16T14:15:01.0801900+01:00 0HMEOU8OFPDMK:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:01.0806330+01:00 0HMEOU8OFPDMK:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.0771ms (791a596a)
2022-01-16T14:15:03.6546510+01:00 0HMEOU8OFPDMK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:15:03.6555470+01:00 0HMEOU8OFPDMK:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:03.6556450+01:00 0HMEOU8OFPDMK:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:03.6558390+01:00 0HMEOU8OFPDMK:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:03.6603480+01:00 0HMEOU8OFPDMK:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:03.7073290+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:03.9814000+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:04.0229650+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:04.0259010+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:15:10.9742260+01:00 0HMEOU8OFPDMK:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:15:10.9783690+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7322.5503ms (afa2e885)
2022-01-16T14:15:10.9802650+01:00 0HMEOU8OFPDMK:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:10.9897200+01:00 0HMEOU8OFPDMK:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7335.2002ms (791a596a)
2022-01-16T14:15:10.9931630+01:00 0HMEOU8OFPDMK:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:15:10.9947700+01:00 0HMEOU8OFPDMK:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:15:10.9948540+01:00 0HMEOU8OFPDMK:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:15:11.0001770+01:00 0HMEOU8OFPDMK:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:15:11.0051070+01:00 0HMEOU8OFPDMK:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:15:11.0084990+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:15:11.1762890+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:15:11.1941940+01:00 0HMEOU8OFPDMK:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:15:11.2151270+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed ViewResult - view "Index" executed in 22.4839ms. (f66409e9)
2022-01-16T14:15:11.2152090+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 214.9627ms (afa2e885)
2022-01-16T14:15:11.2152550+01:00 0HMEOU8OFPDMK:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:15:11.2155000+01:00 0HMEOU8OFPDMK:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 222.3799ms (791a596a)
2022-01-16T14:18:37.9326120+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:38.5198110+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:18:38.7885460+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:18:38.7983220+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:18:38.9969900+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.0976230+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1156050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.1160570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1188300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.1191860+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:18:39.1429340+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:18:39.1660140+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.2618710+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:39.4521850+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:18:39.4522670+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:18:39.4524420+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:18:39.4524840+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:18:39.4525020+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:18:46.5021580+01:00 0HMEOUAT07P77:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:18:46.5805600+01:00 0HMEOUAT07P77:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:46.5984600+01:00 0HMEOUAT07P77:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:46.6006140+01:00 0HMEOUAT07P77:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:18:46.6025000+01:00 0HMEOUAT07P77:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:46.6144610+01:00 0HMEOUAT07P77:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:18:46.6291120+01:00 0HMEOUAT07P77:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:18:46.6797160+01:00 0HMEOUAT07P77:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:18:46.7707110+01:00 0HMEOUAT07P77:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:46.9601530+01:00 0HMEOUAT07P77:00000002 [INF] Executed ViewResult - view "Index" executed in 278.8325ms. (f66409e9)
2022-01-16T14:18:46.9608000+01:00 0HMEOUAT07P77:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 361.689ms (afa2e885)
2022-01-16T14:18:46.9615970+01:00 0HMEOUAT07P77:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:46.9702210+01:00 0HMEOUAT07P77:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 471.3992ms (791a596a)
2022-01-16T14:18:49.0196300+01:00 0HMEOUAT07P77:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.0399680+01:00 0HMEOUAT07P77:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.0413550+01:00 0HMEOUAT07P77:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.0627810+01:00 0HMEOUAT07P77:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.0920440+01:00 0HMEOUAT07P77:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.1276070+01:00 0HMEOUAT07P77:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.1370950+01:00 0HMEOUAT07P77:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.1467840+01:00 0HMEOUAT07P78:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.1608670+01:00 0HMEOUAT07P78:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.1609650+01:00 0HMEOUAT07P78:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.1611900+01:00 0HMEOUAT07P78:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.1620640+01:00 0HMEOUAT07P78:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.1623970+01:00 0HMEOUAT07P78:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.1644660+01:00 0HMEOUAT07P78:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.3109310+01:00 0HMEOUAT07P79:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:18:49.3127360+01:00 0HMEOUAT07P79:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:49.3130580+01:00 0HMEOUAT07P79:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:49.3132550+01:00 0HMEOUAT07P79:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:49.3144130+01:00 0HMEOUAT07P79:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:18:49.3147590+01:00 0HMEOUAT07P79:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:49.3165860+01:00 0HMEOUAT07P79:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:49.3358170+01:00 0HMEOUAT07P78:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3358170+01:00 0HMEOUAT07P79:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3358200+01:00 0HMEOUAT07P77:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P79:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 46.7748ms (afa2e885)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P78:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 198.8392ms (afa2e885)
2022-01-16T14:18:49.3601220+01:00 0HMEOUAT07P77:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 297.2195ms (afa2e885)
2022-01-16T14:18:49.3603310+01:00 0HMEOUAT07P78:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3603390+01:00 0HMEOUAT07P77:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3604950+01:00 0HMEOUAT07P79:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:49.3613240+01:00 0HMEOUAT07P79:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"45c1363b-c3a3-dfd1-6d35-99d79ccaf71d" (1d7cf8c0)
2022-01-16T14:18:49.3613610+01:00 0HMEOUAT07P78:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"45f7e5c6-d44c-bf66-1a2c-cb5faf24d021" (1d7cf8c0)
2022-01-16T14:18:49.3613240+01:00 0HMEOUAT07P77:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"bf7b65a6-eb41-27a8-73c5-db49ab8ad742" (1d7cf8c0)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P79:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 51.5736ms (791a596a)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P78:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 215.7637ms (791a596a)
2022-01-16T14:18:49.3625590+01:00 0HMEOUAT07P77:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 342.9756ms (791a596a)
2022-01-16T14:18:51.1819240+01:00 0HMEOUAT07P77:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:18:51.1832050+01:00 0HMEOUAT07P77:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:18:51.1832940+01:00 0HMEOUAT07P77:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:18:51.1925870+01:00 0HMEOUAT07P77:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:18:51.2726830+01:00 0HMEOUAT07P77:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:18:51.3006510+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:18:51.5981270+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:18:51.6509180+01:00 0HMEOUAT07P77:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:18:51.7022680+01:00 0HMEOUAT07P77:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 509.5694ms (afa2e885)
2022-01-16T14:18:51.7035290+01:00 0HMEOUAT07P77:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:18:51.7405120+01:00 0HMEOUAT07P77:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 89
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:18:51.7729940+01:00 0HMEOUAT07P77:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 591.0969ms (791a596a)
2022-01-16T14:19:09.3643830+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:19:18.0264310+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:18.8745630+01:00  [INF] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:19:19.4632910+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:19.4721120+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:19.7364260+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8474430+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.8809280+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8931560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.8995940+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:19.8999270+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:19:19.9354960+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:19:19.9829060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:20.2079780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:20.6190890+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:19:20.6192390+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:19:20.6195490+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:19:20.6196290+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:19:20.6196800+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:19:21.8074450+01:00 0HMEOUB7GTGA6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:19:21.9089310+01:00 0HMEOUB7GTGA6:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:21.9102440+01:00 0HMEOUB7GTGA6:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:21.9379790+01:00 0HMEOUB7GTGA6:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:21.9445900+01:00 0HMEOUB7GTGA6:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:21.9800240+01:00 0HMEOUB7GTGA6:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:19:21.9886180+01:00 0HMEOUB7GTGA6:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 42.3219ms (afa2e885)
2022-01-16T14:19:21.9893760+01:00 0HMEOUB7GTGA6:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:21.9988140+01:00 0HMEOUB7GTGA6:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 194.7344ms (791a596a)
2022-01-16T14:19:22.0036640+01:00 0HMEOUB7GTGA6:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:22.0068210+01:00 0HMEOUB7GTGA6:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:22.0088810+01:00 0HMEOUB7GTGA6:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:22.0108040+01:00 0HMEOUB7GTGA6:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:19:22.0133900+01:00 0HMEOUB7GTGA6:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:22.0281060+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:22.0469640+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:22.0997760+01:00 0HMEOUB7GTGA6:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:22.1574250+01:00 0HMEOUB7GTGA6:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:22.3208540+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed ViewResult - view "Index" executed in 230.1418ms. (f66409e9)
2022-01-16T14:19:22.3209650+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 312.0282ms (afa2e885)
2022-01-16T14:19:22.3210160+01:00 0HMEOUB7GTGA6:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:22.3258270+01:00 0HMEOUB7GTGA6:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 322.1259ms (791a596a)
2022-01-16T14:19:23.5433570+01:00 0HMEOUB7GTGA6:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:23.5628100+01:00 0HMEOUB7GTGA6:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:23.5630730+01:00 0HMEOUB7GTGA6:00000004 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:23.5633320+01:00 0HMEOUB7GTGA6:00000004 [INF] Index viewed (84b92a55)
2022-01-16T14:19:23.6411950+01:00 0HMEOUB7GTGA6:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:23.6459920+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:23.6484260+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:23.6493640+01:00 0HMEOUB7GTGA6:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:23.6529520+01:00 0HMEOUB7GTGA6:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:23.6585670+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed ViewResult - view "Index" executed in 9.3611ms. (f66409e9)
2022-01-16T14:19:23.6587420+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 95.6136ms (afa2e885)
2022-01-16T14:19:23.6588580+01:00 0HMEOUB7GTGA6:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:23.6591650+01:00 0HMEOUB7GTGA6:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 115.8969ms (791a596a)
2022-01-16T14:19:24.9173140+01:00 0HMEOUB7GTGA6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:19:24.9187610+01:00 0HMEOUB7GTGA6:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:24.9190780+01:00 0HMEOUB7GTGA6:00000005 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:24.9196100+01:00 0HMEOUB7GTGA6:00000005 [INF] Index viewed (84b92a55)
2022-01-16T14:19:24.9201810+01:00 0HMEOUB7GTGA6:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:24.9221500+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:19:24.9243640+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:19:24.9249820+01:00 0HMEOUB7GTGA6:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:19:24.9268630+01:00 0HMEOUB7GTGA6:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:24.9288140+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed ViewResult - view "Index" executed in 3.8317ms. (f66409e9)
2022-01-16T14:19:24.9289500+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.7848ms (afa2e885)
2022-01-16T14:19:24.9292120+01:00 0HMEOUB7GTGA6:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:24.9296090+01:00 0HMEOUB7GTGA6:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 12.3582ms (791a596a)
2022-01-16T14:19:26.7535720+01:00 0HMEOUB7GTGA6:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:19:26.7610850+01:00 0HMEOUB7GTGA6:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:26.7613110+01:00 0HMEOUB7GTGA6:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:26.7802840+01:00 0HMEOUB7GTGA6:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:26.8159440+01:00 0HMEOUB7GTGA6:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:19:26.8173560+01:00 0HMEOUB7GTGA6:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:26.8282620+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:27.0607680+01:00 0HMEOUB7GTGA6:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:19:27.0878560+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 307.3961ms (afa2e885)
2022-01-16T14:19:27.0879600+01:00 0HMEOUB7GTGA6:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:27.0886540+01:00 0HMEOUB7GTGA6:00000006 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"0d7b3f2d-46ba-ec74-d9d3-18e1699beb63" (1d7cf8c0)
2022-01-16T14:19:27.0894540+01:00 0HMEOUB7GTGA6:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 335.9033ms (791a596a)
2022-01-16T14:19:27.6249720+01:00 0HMEOUB7GTGA6:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:19:27.6273600+01:00 0HMEOUB7GTGA6:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:27.6277580+01:00 0HMEOUB7GTGA6:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:27.6279490+01:00 0HMEOUB7GTGA6:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:27.6311050+01:00 0HMEOUB7GTGA6:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:27.6337040+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:27.7158540+01:00 0HMEOUB7GTGA6:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:19:27.7161220+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 88.0651ms (afa2e885)
2022-01-16T14:19:27.7161920+01:00 0HMEOUB7GTGA6:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:27.7166030+01:00 0HMEOUB7GTGA6:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 91.6996ms (791a596a)
2022-01-16T14:19:30.2629620+01:00 0HMEOUB7GTGA6:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:19:30.2647190+01:00 0HMEOUB7GTGA6:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:19:30.2648070+01:00 0HMEOUB7GTGA6:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:19:30.2650110+01:00 0HMEOUB7GTGA6:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:19:30.2700000+01:00 0HMEOUB7GTGA6:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:19:30.3168600+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:19:30.6151090+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.6670390+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.6702240+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:19:30.7360790+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 470.9879ms (afa2e885)
2022-01-16T14:19:30.7382500+01:00 0HMEOUB7GTGA6:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:19:30.7957030+01:00 0HMEOUB7GTGA6:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:19:30.8400040+01:00 0HMEOUB7GTGA6:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 577.0656ms (791a596a)
2022-01-16T14:20:18.8996190+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:20:38.5004680+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:20:39.6497360+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:20:39.9833910+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:20:39.9989840+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:20:40.3373570+01:00  [INF] Executed DbCommand ("48"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.4529570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.5542690+01:00  [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.5680500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.7023200+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.7059560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:20:40.7850320+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:20:40.8672280+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:40.9776400+01:00  [INF] Executed DbCommand ("49"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:20:41.4022860+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:20:41.4051810+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:20:41.4084760+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:20:41.4114940+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:20:41.4147280+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:22:11.4052550+01:00 0HMEOUCPBKS0A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:22:11.5872290+01:00 0HMEOUCPBKS0A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:22:11.5889140+01:00 0HMEOUCPBKS0A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:22:11.6328820+01:00 0HMEOUCPBKS0A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:22:11.6793470+01:00 0HMEOUCPBKS0A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:22:11.6989680+01:00 0HMEOUCPBKS0A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:22:11.7126410+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:22:11.8883480+01:00 0HMEOUCPBKS0A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:22:11.9096060+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 272.6645ms (afa2e885)
2022-01-16T14:22:11.9101170+01:00 0HMEOUCPBKS0A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:22:11.9109790+01:00 0HMEOUCPBKS0A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"c0cf7ad0-52fe-0aee-3ed0-037ac63a5ff1" (1d7cf8c0)
2022-01-16T14:22:11.9157520+01:00 0HMEOUCPBKS0A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 514.8097ms (791a596a)
2022-01-16T14:22:13.1457570+01:00 0HMEOUCPBKS0A:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:22:13.1537410+01:00 0HMEOUCPBKS0A:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:22:13.1539500+01:00 0HMEOUCPBKS0A:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:22:13.1595820+01:00 0HMEOUCPBKS0A:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:22:13.2215480+01:00 0HMEOUCPBKS0A:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:22:13.3192520+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("53"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:22:13.6374260+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:22:13.6910650+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:22:58.9951630+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 45831.788ms (afa2e885)
2022-01-16T14:22:58.9971950+01:00 0HMEOUCPBKS0A:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:22:59.0713420+01:00 0HMEOUCPBKS0A:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order, List`1 orderItems) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 88
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:22:59.0998340+01:00 0HMEOUCPBKS0A:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 45950.3394ms (791a596a)
2022-01-16T14:23:00.2302060+01:00 0HMEOUCPBKS0A:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:23:00.2422490+01:00 0HMEOUCPBKS0A:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:23:00.2426090+01:00 0HMEOUCPBKS0A:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:23:00.2428810+01:00 0HMEOUCPBKS0A:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:23:00.2440880+01:00 0HMEOUCPBKS0A:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:23:00.3966360+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("62"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:23:00.4466330+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:23:00.4850140+01:00 0HMEOUCPBKS0A:00000004 [INF] Executed DbCommand ("35"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:34:56.7961470+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:34:57.3265000+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:34:57.5705340+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:34:57.5778340+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:34:57.7275030+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.7858810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:57.8570080+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.8689800+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:57.9365490+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:57.9406510+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:34:58.0218750+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:34:58.0692780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:58.2700050+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:34:58.6271420+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:34:58.6297510+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:34:58.6329350+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:34:58.6355780+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:34:58.6384260+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:35:06.3100900+01:00 0HMEOUK10FH64:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:35:06.3947450+01:00 0HMEOUK10FH64:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:06.3956210+01:00 0HMEOUK10FH64:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:06.4123890+01:00 0HMEOUK10FH64:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:06.4186180+01:00 0HMEOUK10FH64:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:06.4621030+01:00 0HMEOUK10FH64:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:35:06.4670140+01:00 0HMEOUK10FH64:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 50.2492ms (afa2e885)
2022-01-16T14:35:06.4673650+01:00 0HMEOUK10FH64:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:06.4822500+01:00 0HMEOUK10FH64:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 173.8144ms (791a596a)
2022-01-16T14:35:06.4965230+01:00 0HMEOUK10FH64:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:35:06.4982510+01:00 0HMEOUK10FH64:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:06.4994780+01:00 0HMEOUK10FH64:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:06.5028070+01:00 0HMEOUK10FH64:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:35:06.5042740+01:00 0HMEOUK10FH64:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:06.5105610+01:00 0HMEOUK10FH64:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:35:06.5203440+01:00 0HMEOUK10FH64:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:35:06.5617030+01:00 0HMEOUK10FH64:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:35:06.6064430+01:00 0HMEOUK10FH64:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:06.7608530+01:00 0HMEOUK10FH64:00000003 [INF] Executed ViewResult - view "Index" executed in 206.3538ms. (f66409e9)
2022-01-16T14:35:06.7609740+01:00 0HMEOUK10FH64:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 261.4423ms (afa2e885)
2022-01-16T14:35:06.7610380+01:00 0HMEOUK10FH64:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:06.7647700+01:00 0HMEOUK10FH64:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 268.1786ms (791a596a)
2022-01-16T14:35:12.6331670+01:00 0HMEOUK10FH64:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:35:12.6471860+01:00 0HMEOUK10FH64:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:12.6473710+01:00 0HMEOUK10FH64:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:12.6606900+01:00 0HMEOUK10FH64:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:12.6917400+01:00 0HMEOUK10FH64:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:35:12.7070930+01:00 0HMEOUK10FH64:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:12.7135630+01:00 0HMEOUK10FH64:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:35:12.8539150+01:00 0HMEOUK10FH64:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:35:12.8659510+01:00 0HMEOUK10FH64:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 205.1169ms (afa2e885)
2022-01-16T14:35:12.8660910+01:00 0HMEOUK10FH64:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:35:12.8665720+01:00 0HMEOUK10FH64:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"94b560d2-80fa-df60-8979-07ef2c1b460c" (1d7cf8c0)
2022-01-16T14:35:12.8675410+01:00 0HMEOUK10FH64:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 234.6711ms (791a596a)
2022-01-16T14:35:14.2587870+01:00 0HMEOUK10FH64:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:35:14.2612530+01:00 0HMEOUK10FH64:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:35:14.2618030+01:00 0HMEOUK10FH64:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:35:14.2621900+01:00 0HMEOUK10FH64:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:35:14.3190770+01:00 0HMEOUK10FH64:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:35:14.3889980+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:35:14.6876360+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:35:14.7164400+01:00 0HMEOUK10FH64:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:01.7604080+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:02.3933020+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:37:02.6100520+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:37:02.6188510+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:37:02.8492120+01:00  [INF] Executed DbCommand ("77"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:02.9669600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.0203120+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.0347780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.1030140+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.1084720+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:37:03.2036660+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:37:03.2567090+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.3444780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:03.7041090+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:37:03.7295340+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:37:03.7324780+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:37:03.7351460+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:37:03.7380050+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:37:06.4071300+01:00 0HMEOUL4P7RHF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:37:06.5038080+01:00 0HMEOUL4P7RHF:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:06.5048280+01:00 0HMEOUL4P7RHF:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:06.5259350+01:00 0HMEOUL4P7RHF:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:06.5317900+01:00 0HMEOUL4P7RHF:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:06.5835360+01:00 0HMEOUL4P7RHF:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:37:06.5884240+01:00 0HMEOUL4P7RHF:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 58.3017ms (afa2e885)
2022-01-16T14:37:06.5888420+01:00 0HMEOUL4P7RHF:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:06.5971470+01:00 0HMEOUL4P7RHF:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 192.8990ms (791a596a)
2022-01-16T14:37:06.6128420+01:00 0HMEOUL4P7RHF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:37:06.6148870+01:00 0HMEOUL4P7RHF:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:06.6166130+01:00 0HMEOUL4P7RHF:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:06.6203410+01:00 0HMEOUL4P7RHF:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:37:06.6222710+01:00 0HMEOUL4P7RHF:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:06.6347540+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:37:06.6451130+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:37:06.6838760+01:00 0HMEOUL4P7RHF:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:37:06.7240130+01:00 0HMEOUL4P7RHF:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:06.8823700+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed ViewResult - view "Index" executed in 205.12ms. (f66409e9)
2022-01-16T14:37:06.8825520+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 265.861ms (afa2e885)
2022-01-16T14:37:06.8826450+01:00 0HMEOUL4P7RHF:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:06.8883950+01:00 0HMEOUL4P7RHF:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 275.4146ms (791a596a)
2022-01-16T14:37:10.2203530+01:00 0HMEOUL4P7RHF:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:10.2339810+01:00 0HMEOUL4P7RHF:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:10.2341460+01:00 0HMEOUL4P7RHF:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:10.2482910+01:00 0HMEOUL4P7RHF:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:10.2805240+01:00 0HMEOUL4P7RHF:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:37:10.2968290+01:00 0HMEOUL4P7RHF:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:10.3022410+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:10.4505870+01:00 0HMEOUL4P7RHF:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:10.4642180+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 215.7752ms (afa2e885)
2022-01-16T14:37:10.4643260+01:00 0HMEOUL4P7RHF:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:10.4648500+01:00 0HMEOUL4P7RHF:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"3f1c74c6-1416-1f2f-f5f8-511922018151" (1d7cf8c0)
2022-01-16T14:37:10.4660490+01:00 0HMEOUL4P7RHF:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 245.8651ms (791a596a)
2022-01-16T14:37:10.8312030+01:00 0HMEOUL4P7RHF:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:10.8335580+01:00 0HMEOUL4P7RHF:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:10.8339390+01:00 0HMEOUL4P7RHF:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:10.8342340+01:00 0HMEOUL4P7RHF:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:10.8370330+01:00 0HMEOUL4P7RHF:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:10.8397930+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:10.8935360+01:00 0HMEOUL4P7RHF:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:10.8939370+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 59.5951ms (afa2e885)
2022-01-16T14:37:10.8940410+01:00 0HMEOUL4P7RHF:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:10.8950850+01:00 0HMEOUL4P7RHF:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 63.8710ms (791a596a)
2022-01-16T14:37:11.0150210+01:00 0HMEOUL4P7RHF:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:37:11.0169220+01:00 0HMEOUL4P7RHF:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:11.0171020+01:00 0HMEOUL4P7RHF:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:11.0175070+01:00 0HMEOUL4P7RHF:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:11.0186630+01:00 0HMEOUL4P7RHF:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:11.0209380+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:11.0221800+01:00 0HMEOUL4P7RHF:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:37:11.0224590+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.8308ms (afa2e885)
2022-01-16T14:37:11.0225300+01:00 0HMEOUL4P7RHF:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:11.0229330+01:00 0HMEOUL4P7RHF:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.9447ms (791a596a)
2022-01-16T14:37:12.9845540+01:00 0HMEOUL4P7RHF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:37:12.9864140+01:00 0HMEOUL4P7RHF:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:37:12.9865800+01:00 0HMEOUL4P7RHF:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:37:12.9867720+01:00 0HMEOUL4P7RHF:00000007 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:37:12.9908300+01:00 0HMEOUL4P7RHF:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:37:13.0533270+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("28"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:37:13.2972390+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:13.3292460+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:13.3325520+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:37:28.8154940+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 15828.9635ms (afa2e885)
2022-01-16T14:37:28.8173300+01:00 0HMEOUL4P7RHF:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:37:28.8411600+01:00 0HMEOUL4P7RHF:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 82
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:37:28.8684930+01:00 0HMEOUL4P7RHF:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 15884.4498ms (791a596a)
2022-01-16T14:39:24.7008250+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:25.2469860+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:39:25.6452070+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:39:25.6592030+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:39:25.8550340+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:25.9218900+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:25.9511080+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:25.9596300+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:26.0767660+01:00  [INF] Executed DbCommand ("66"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.0820660+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:39:26.1519870+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:39:26.2098590+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.3526010+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:26.7332030+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:39:26.7367680+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:39:26.7411580+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:39:26.7450560+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:39:26.7486370+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:39:31.0382790+01:00 0HMEOUMFT3S81:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:39:31.1206960+01:00 0HMEOUMFT3S81:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:31.1215390+01:00 0HMEOUMFT3S81:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:31.1400060+01:00 0HMEOUMFT3S81:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:31.1459100+01:00 0HMEOUMFT3S81:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:31.1905020+01:00 0HMEOUMFT3S81:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:39:31.1953720+01:00 0HMEOUMFT3S81:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 50.9882ms (afa2e885)
2022-01-16T14:39:31.1957340+01:00 0HMEOUMFT3S81:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:31.2032570+01:00 0HMEOUMFT3S81:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 166.0816ms (791a596a)
2022-01-16T14:39:31.2184830+01:00 0HMEOUMFT3S81:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:39:31.2202480+01:00 0HMEOUMFT3S81:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:31.2216140+01:00 0HMEOUMFT3S81:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:31.2248990+01:00 0HMEOUMFT3S81:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:39:31.2264570+01:00 0HMEOUMFT3S81:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:31.2366620+01:00 0HMEOUMFT3S81:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:39:31.2457600+01:00 0HMEOUMFT3S81:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:39:31.2770160+01:00 0HMEOUMFT3S81:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:39:31.3114580+01:00 0HMEOUMFT3S81:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:31.4410170+01:00 0HMEOUMFT3S81:00000003 [INF] Executed ViewResult - view "Index" executed in 169.1824ms. (f66409e9)
2022-01-16T14:39:31.4411270+01:00 0HMEOUMFT3S81:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 219.4551ms (afa2e885)
2022-01-16T14:39:31.4411810+01:00 0HMEOUMFT3S81:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:31.4447340+01:00 0HMEOUMFT3S81:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 226.1933ms (791a596a)
2022-01-16T14:39:33.6750990+01:00 0HMEOUMFT3S81:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:33.6872190+01:00 0HMEOUMFT3S81:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:33.6873880+01:00 0HMEOUMFT3S81:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:33.7012020+01:00 0HMEOUMFT3S81:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:33.7352030+01:00 0HMEOUMFT3S81:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:33.7512200+01:00 0HMEOUMFT3S81:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:33.7574850+01:00 0HMEOUMFT3S81:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:33.7979820+01:00 0HMEOUMFT3S82:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:33.7990980+01:00 0HMEOUMFT3S82:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:33.7992470+01:00 0HMEOUMFT3S82:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:33.7994170+01:00 0HMEOUMFT3S82:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:33.8005620+01:00 0HMEOUMFT3S82:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:39:33.8010030+01:00 0HMEOUMFT3S82:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:33.8027350+01:00 0HMEOUMFT3S82:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:33.8939630+01:00 0HMEOUMFT3S81:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:33.8939660+01:00 0HMEOUMFT3S82:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:33.9060750+01:00 0HMEOUMFT3S82:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 106.5487ms (afa2e885)
2022-01-16T14:39:33.9060750+01:00 0HMEOUMFT3S81:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 204.6849ms (afa2e885)
2022-01-16T14:39:33.9061790+01:00 0HMEOUMFT3S82:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:33.9061900+01:00 0HMEOUMFT3S81:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:33.9067870+01:00 0HMEOUMFT3S82:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"5a70082c-bac0-1127-715d-e16e39ed6d24" (1d7cf8c0)
2022-01-16T14:39:33.9068150+01:00 0HMEOUMFT3S81:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"b9d11d93-cbcb-91c8-887b-59c4c6eee86c" (1d7cf8c0)
2022-01-16T14:39:33.9079320+01:00 0HMEOUMFT3S82:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 109.9221ms (791a596a)
2022-01-16T14:39:33.9079320+01:00 0HMEOUMFT3S81:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 232.8730ms (791a596a)
2022-01-16T14:39:34.3298780+01:00 0HMEOUMFT3S82:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:34.3313650+01:00 0HMEOUMFT3S82:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:34.3316080+01:00 0HMEOUMFT3S82:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:34.3319810+01:00 0HMEOUMFT3S82:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:34.3338990+01:00 0HMEOUMFT3S82:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:34.3372350+01:00 0HMEOUMFT3S82:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:34.3923880+01:00 0HMEOUMFT3S82:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:34.3927540+01:00 0HMEOUMFT3S82:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 60.6585ms (afa2e885)
2022-01-16T14:39:34.3928300+01:00 0HMEOUMFT3S82:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:34.3934740+01:00 0HMEOUMFT3S82:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 63.7580ms (791a596a)
2022-01-16T14:39:34.9328100+01:00 0HMEOUMFT3S82:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:39:34.9341170+01:00 0HMEOUMFT3S82:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:34.9342510+01:00 0HMEOUMFT3S82:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:34.9344620+01:00 0HMEOUMFT3S82:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:34.9356170+01:00 0HMEOUMFT3S82:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:34.9378000+01:00 0HMEOUMFT3S82:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:34.9385940+01:00 0HMEOUMFT3S82:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:39:34.9388870+01:00 0HMEOUMFT3S82:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 4.3278ms (afa2e885)
2022-01-16T14:39:34.9389710+01:00 0HMEOUMFT3S82:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:34.9393160+01:00 0HMEOUMFT3S82:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 6.5236ms (791a596a)
2022-01-16T14:39:37.0318920+01:00 0HMEOUMFT3S82:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:39:37.0334910+01:00 0HMEOUMFT3S82:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:39:37.0336650+01:00 0HMEOUMFT3S82:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:39:37.0340290+01:00 0HMEOUMFT3S82:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:39:37.0382750+01:00 0HMEOUMFT3S82:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:39:37.1772350+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("55"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:39:37.4756250+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.5079900+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.5111450+01:00 0HMEOUMFT3S82:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:39:37.6736890+01:00 0HMEOUMFT3S82:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 639.505ms (afa2e885)
2022-01-16T14:39:37.6743590+01:00 0HMEOUMFT3S82:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:39:37.7381690+01:00 0HMEOUMFT3S82:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 27
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:39:37.7678210+01:00 0HMEOUMFT3S82:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 736.0503ms (791a596a)
2022-01-16T14:45:52.8450960+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:53.6062410+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:45:53.8947840+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:45:53.9031890+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:45:54.1211030+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2461880+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2701900+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2706930+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2736180+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.2738440+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:45:54.2974980+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:45:54.3193700+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.3984640+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:54.6174180+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:45:54.6175510+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:45:54.6177250+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:45:54.6177720+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:45:54.6178160+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:45:56.1360570+01:00 0HMEOUQ2LLV59:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:45:56.2154800+01:00 0HMEOUQ2LLV59:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:56.2166110+01:00 0HMEOUQ2LLV59:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:56.2385360+01:00 0HMEOUQ2LLV59:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:56.2444750+01:00 0HMEOUQ2LLV59:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:56.2738530+01:00 0HMEOUQ2LLV59:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-16T14:45:56.2823010+01:00 0HMEOUQ2LLV59:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 35.5376ms (afa2e885)
2022-01-16T14:45:56.2831770+01:00 0HMEOUQ2LLV59:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:56.2920970+01:00 0HMEOUQ2LLV59:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 158.5727ms (791a596a)
2022-01-16T14:45:56.2965690+01:00 0HMEOUQ2LLV59:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:45:56.2995390+01:00 0HMEOUQ2LLV59:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:56.3014760+01:00 0HMEOUQ2LLV59:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:56.3038740+01:00 0HMEOUQ2LLV59:00000003 [INF] Index viewed (84b92a55)
2022-01-16T14:45:56.3073070+01:00 0HMEOUQ2LLV59:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:56.3221170+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:45:56.3399150+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:45:56.3892560+01:00 0HMEOUQ2LLV59:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:45:56.4491790+01:00 0HMEOUQ2LLV59:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:56.6047040+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed ViewResult - view "Index" executed in 224.665ms. (f66409e9)
2022-01-16T14:45:56.6048100+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 303.2772ms (afa2e885)
2022-01-16T14:45:56.6048590+01:00 0HMEOUQ2LLV59:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:56.6098630+01:00 0HMEOUQ2LLV59:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 313.2000ms (791a596a)
2022-01-16T14:45:58.6689820+01:00 0HMEOUQ2LLV59:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:45:58.6946650+01:00 0HMEOUQ2LLV59:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:58.6947980+01:00 0HMEOUQ2LLV59:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:58.7144840+01:00 0HMEOUQ2LLV59:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:58.7434590+01:00 0HMEOUQ2LLV59:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:58.7803210+01:00 0HMEOUQ2LLV59:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:58.7923280+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:58.8220530+01:00 0HMEOUQ2LLV5A:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:45:58.8239140+01:00 0HMEOUQ2LLV5A:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:45:58.8241890+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:45:58.8243320+01:00 0HMEOUQ2LLV5A:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:45:58.8260230+01:00 0HMEOUQ2LLV5A:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:45:58.8263650+01:00 0HMEOUQ2LLV5A:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:45:58.8283620+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:45:58.9785300+01:00 0HMEOUQ2LLV59:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:45:58.9785300+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:45:58.9966270+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 172.201ms (afa2e885)
2022-01-16T14:45:58.9966270+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 282.0226ms (afa2e885)
2022-01-16T14:45:58.9967140+01:00 0HMEOUQ2LLV59:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:58.9967280+01:00 0HMEOUQ2LLV5A:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:45:58.9974270+01:00 0HMEOUQ2LLV5A:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"f4319ada-46c1-8d06-c5fa-483d7d0ade33" (1d7cf8c0)
2022-01-16T14:45:58.9974380+01:00 0HMEOUQ2LLV59:00000004 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"abb049c5-5c70-a13d-e211-abbf1ce7cb4b" (1d7cf8c0)
2022-01-16T14:45:58.9983570+01:00 0HMEOUQ2LLV5A:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 176.3047ms (791a596a)
2022-01-16T14:45:58.9983690+01:00 0HMEOUQ2LLV59:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 329.4389ms (791a596a)
2022-01-16T14:46:00.4961240+01:00 0HMEOUQ2LLV59:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:46:00.4973840+01:00 0HMEOUQ2LLV59:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:46:00.4974830+01:00 0HMEOUQ2LLV59:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:46:00.4979240+01:00 0HMEOUQ2LLV59:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:46:00.5811400+01:00 0HMEOUQ2LLV59:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:46:00.6116780+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:46:00.9190260+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:46:00.9667940+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:46:01.1464520+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:46:09.1496420+01:00 0HMEOUQ2LLV59:00000005 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:46:09.1546330+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 8656.8313ms (afa2e885)
2022-01-16T14:46:09.1565260+01:00 0HMEOUQ2LLV59:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:46:09.1697680+01:00 0HMEOUQ2LLV59:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 8673.8640ms (791a596a)
2022-01-16T14:46:09.1734550+01:00 0HMEOUQ2LLV59:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:46:09.1755880+01:00 0HMEOUQ2LLV59:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:46:09.1758020+01:00 0HMEOUQ2LLV59:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:46:09.1845200+01:00 0HMEOUQ2LLV59:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:46:09.1886710+01:00 0HMEOUQ2LLV59:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:46:09.1931820+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:46:09.2238850+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:46:09.2395760+01:00 0HMEOUQ2LLV59:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:46:09.2691660+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed ViewResult - view "Index" executed in 32.3519ms. (f66409e9)
2022-01-16T14:46:09.2693450+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 84.7372ms (afa2e885)
2022-01-16T14:46:09.2693970+01:00 0HMEOUQ2LLV59:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:46:09.2696470+01:00 0HMEOUQ2LLV59:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 96.2887ms (791a596a)
2022-01-16T14:49:37.2730470+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:38.0977720+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:49:38.6054560+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:49:38.6152210+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:49:38.8849620+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:38.9974710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.0336400+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.0528050+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.0661620+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.0669420+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:49:39.1303710+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:49:39.1762060+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.2715690+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:39.6054610+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:49:39.6055700+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:49:39.6058450+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:49:39.6059270+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:49:39.6060070+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:49:43.0667510+01:00 0HMEOUS69RMGC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:49:43.1398160+01:00 0HMEOUS69RMGC:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:43.1590410+01:00 0HMEOUS69RMGC:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:43.1613960+01:00 0HMEOUS69RMGC:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:49:43.1634370+01:00 0HMEOUS69RMGC:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:43.1766560+01:00 0HMEOUS69RMGC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:49:43.1972520+01:00 0HMEOUS69RMGC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:49:43.3063760+01:00 0HMEOUS69RMGC:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:49:43.4689430+01:00 0HMEOUS69RMGC:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:49:43.8425010+01:00 0HMEOUS69RMGC:00000002 [INF] Executed ViewResult - view "Index" executed in 530.5153ms. (f66409e9)
2022-01-16T14:49:43.8438310+01:00 0HMEOUS69RMGC:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 683.7886ms (afa2e885)
2022-01-16T14:49:43.8513650+01:00 0HMEOUS69RMGC:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:43.8759090+01:00 0HMEOUS69RMGC:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 811.2915ms (791a596a)
2022-01-16T14:49:46.1444290+01:00 0HMEOUS69RMGC:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:46.1633230+01:00 0HMEOUS69RMGC:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:46.1647620+01:00 0HMEOUS69RMGC:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:46.1849430+01:00 0HMEOUS69RMGC:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:46.2123380+01:00 0HMEOUS69RMGC:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:49:46.2512310+01:00 0HMEOUS69RMGC:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:46.2647600+01:00 0HMEOUS69RMGC:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:46.5229010+01:00 0HMEOUS69RMGC:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:46.5489550+01:00 0HMEOUS69RMGC:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 363.8947ms (afa2e885)
2022-01-16T14:49:46.5490760+01:00 0HMEOUS69RMGC:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:46.5504650+01:00 0HMEOUS69RMGC:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"773d7b36-fbab-6417-09d3-20a58680a782" (1d7cf8c0)
2022-01-16T14:49:46.5518040+01:00 0HMEOUS69RMGC:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 407.5568ms (791a596a)
2022-01-16T14:49:46.6946910+01:00 0HMEOUS69RMGC:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:46.7215040+01:00 0HMEOUS69RMGC:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:46.7217150+01:00 0HMEOUS69RMGC:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:46.7221230+01:00 0HMEOUS69RMGC:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:46.7239420+01:00 0HMEOUS69RMGC:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:46.7269010+01:00 0HMEOUS69RMGC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:46.7981750+01:00 0HMEOUS69RMGC:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:46.7984210+01:00 0HMEOUS69RMGC:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 76.2103ms (afa2e885)
2022-01-16T14:49:46.7984650+01:00 0HMEOUS69RMGC:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:46.7987760+01:00 0HMEOUS69RMGC:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 104.1294ms (791a596a)
2022-01-16T14:49:47.7705150+01:00 0HMEOUS69RMGC:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:47.7731850+01:00 0HMEOUS69RMGC:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:47.7735960+01:00 0HMEOUS69RMGC:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:47.7737880+01:00 0HMEOUS69RMGC:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:47.7759990+01:00 0HMEOUS69RMGC:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:47.7780950+01:00 0HMEOUS69RMGC:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:47.7798820+01:00 0HMEOUS69RMGC:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:47.7802270+01:00 0HMEOUS69RMGC:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 6.2815ms (afa2e885)
2022-01-16T14:49:47.7803470+01:00 0HMEOUS69RMGC:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:47.7808080+01:00 0HMEOUS69RMGC:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 10.4226ms (791a596a)
2022-01-16T14:49:48.1360420+01:00 0HMEOUS69RMGC:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:48.1371570+01:00 0HMEOUS69RMGC:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:48.1372600+01:00 0HMEOUS69RMGC:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:48.1374050+01:00 0HMEOUS69RMGC:00000006 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:48.1385240+01:00 0HMEOUS69RMGC:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:48.1411500+01:00 0HMEOUS69RMGC:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:48.1428630+01:00 0HMEOUS69RMGC:00000006 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:48.1432820+01:00 0HMEOUS69RMGC:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.8001ms (afa2e885)
2022-01-16T14:49:48.1434260+01:00 0HMEOUS69RMGC:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:48.1437540+01:00 0HMEOUS69RMGC:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.7096ms (791a596a)
2022-01-16T14:49:48.7856530+01:00 0HMEOUS69RMGC:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:49:48.7868910+01:00 0HMEOUS69RMGC:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:48.7869670+01:00 0HMEOUS69RMGC:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:48.7871230+01:00 0HMEOUS69RMGC:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:48.7877280+01:00 0HMEOUS69RMGC:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:48.7896250+01:00 0HMEOUS69RMGC:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:48.7904490+01:00 0HMEOUS69RMGC:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:49:48.7907250+01:00 0HMEOUS69RMGC:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.5208ms (afa2e885)
2022-01-16T14:49:48.7907900+01:00 0HMEOUS69RMGC:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:48.7911290+01:00 0HMEOUS69RMGC:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.4441ms (791a596a)
2022-01-16T14:49:51.7849570+01:00 0HMEOUS69RMGC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:49:51.7888160+01:00 0HMEOUS69RMGC:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:51.7890320+01:00 0HMEOUS69RMGC:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:51.8056550+01:00 0HMEOUS69RMGC:00000008 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:51.8767620+01:00 0HMEOUS69RMGC:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:51.9358990+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:52.2693610+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:49:52.3172670+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:49:52.5742590+01:00 0HMEOUS69RMGC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:49:59.3246450+01:00 0HMEOUS69RMGC:00000008 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:49:59.3297090+01:00 0HMEOUS69RMGC:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 7524.1539ms (afa2e885)
2022-01-16T14:49:59.3319040+01:00 0HMEOUS69RMGC:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:59.3443970+01:00 0HMEOUS69RMGC:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 7559.6346ms (791a596a)
2022-01-16T14:49:59.3477720+01:00 0HMEOUS69RMGC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:49:59.3490180+01:00 0HMEOUS69RMGC:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:49:59.3491200+01:00 0HMEOUS69RMGC:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:49:59.3543710+01:00 0HMEOUS69RMGC:00000009 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:49:59.3585280+01:00 0HMEOUS69RMGC:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:49:59.3623660+01:00 0HMEOUS69RMGC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:49:59.3900100+01:00 0HMEOUS69RMGC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:49:59.4025190+01:00 0HMEOUS69RMGC:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:49:59.4307860+01:00 0HMEOUS69RMGC:00000009 [INF] Executed ViewResult - view "Index" executed in 31.4311ms. (f66409e9)
2022-01-16T14:49:59.4309090+01:00 0HMEOUS69RMGC:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 76.4461ms (afa2e885)
2022-01-16T14:49:59.4309610+01:00 0HMEOUS69RMGC:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:49:59.4312280+01:00 0HMEOUS69RMGC:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 83.4890ms (791a596a)
2022-01-16T14:54:34.0370520+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:34.6579690+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:54:34.9186210+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:54:34.9277460+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:54:35.1061560+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.1819060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2073140+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.2164310+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2220910+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.2223500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:54:35.2402310+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:54:35.2579650+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.3252920+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:35.5289260+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:54:35.5289830+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:54:35.5291550+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:54:35.5291840+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:54:35.5291990+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:54:40.8868600+01:00 0HMEOUUV2346U:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:54:40.9563720+01:00 0HMEOUUV2346U:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:40.9750560+01:00 0HMEOUUV2346U:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:40.9779010+01:00 0HMEOUUV2346U:00000002 [INF] Index viewed (84b92a55)
2022-01-16T14:54:40.9807840+01:00 0HMEOUUV2346U:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:40.9936310+01:00 0HMEOUUV2346U:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:54:41.0101780+01:00 0HMEOUUV2346U:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:54:41.0521970+01:00 0HMEOUUV2346U:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:54:41.1239690+01:00 0HMEOUUV2346U:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:41.3137240+01:00 0HMEOUUV2346U:00000002 [INF] Executed ViewResult - view "Index" executed in 259.4271ms. (f66409e9)
2022-01-16T14:54:41.3144690+01:00 0HMEOUUV2346U:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 338.5966ms (afa2e885)
2022-01-16T14:54:41.3152540+01:00 0HMEOUUV2346U:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:41.3238850+01:00 0HMEOUUV2346U:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 439.7101ms (791a596a)
2022-01-16T14:54:43.7693500+01:00 0HMEOUUV2346U:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:43.7898580+01:00 0HMEOUUV2346U:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:43.7912410+01:00 0HMEOUUV2346U:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:43.8105780+01:00 0HMEOUUV2346U:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:43.8385350+01:00 0HMEOUUV2346U:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:43.8741320+01:00 0HMEOUUV2346U:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:43.8844680+01:00 0HMEOUUV2346U:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:43.9330550+01:00 0HMEOUUV2346T:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:43.9458900+01:00 0HMEOUUV2346T:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:43.9461940+01:00 0HMEOUUV2346T:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:43.9463360+01:00 0HMEOUUV2346T:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:43.9474280+01:00 0HMEOUUV2346T:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:54:43.9477960+01:00 0HMEOUUV2346T:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:43.9496170+01:00 0HMEOUUV2346T:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:44.0428880+01:00 0HMEOUUV2346T:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.0428870+01:00 0HMEOUUV2346U:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.0582490+01:00 0HMEOUUV2346T:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 111.8353ms (afa2e885)
2022-01-16T14:54:44.0582490+01:00 0HMEOUUV2346U:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 247.5584ms (afa2e885)
2022-01-16T14:54:44.0583380+01:00 0HMEOUUV2346T:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.0583540+01:00 0HMEOUUV2346U:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.0588810+01:00 0HMEOUUV2346T:00000002 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"4d586436-9b3d-6e5b-3ce7-4c1d02a0adf8" (1d7cf8c0)
2022-01-16T14:54:44.0588810+01:00 0HMEOUUV2346U:00000003 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"cd96c653-dd67-2e09-103f-241fad2401ef" (1d7cf8c0)
2022-01-16T14:54:44.0597280+01:00 0HMEOUUV2346T:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 126.6369ms (791a596a)
2022-01-16T14:54:44.0597320+01:00 0HMEOUUV2346U:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 290.4551ms (791a596a)
2022-01-16T14:54:44.7780540+01:00 0HMEOUUV2346T:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:54:44.7804850+01:00 0HMEOUUV2346T:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:44.7809740+01:00 0HMEOUUV2346T:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:44.7811960+01:00 0HMEOUUV2346T:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:44.7842850+01:00 0HMEOUUV2346T:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:44.7866790+01:00 0HMEOUUV2346T:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:44.8679550+01:00 0HMEOUUV2346T:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:54:44.8681990+01:00 0HMEOUUV2346T:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 86.9288ms (afa2e885)
2022-01-16T14:54:44.8682390+01:00 0HMEOUUV2346T:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:44.8684810+01:00 0HMEOUUV2346T:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 90.5468ms (791a596a)
2022-01-16T14:54:46.8343680+01:00 0HMEOUUV2346T:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:54:46.8358080+01:00 0HMEOUUV2346T:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:46.8360070+01:00 0HMEOUUV2346T:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:46.8443500+01:00 0HMEOUUV2346T:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:46.8559720+01:00 0HMEOUUV2346T:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:46.8947080+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:47.1721350+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.2225460+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.2249010+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:54:47.3784980+01:00 0HMEOUUV2346T:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:54:52.4844620+01:00 0HMEOUUV2346T:00000004 [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:54:52.4883020+01:00 0HMEOUUV2346T:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 5644.0086ms (afa2e885)
2022-01-16T14:54:52.4898740+01:00 0HMEOUUV2346T:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:52.4991930+01:00 0HMEOUUV2346T:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 5664.9437ms (791a596a)
2022-01-16T14:54:52.5024280+01:00 0HMEOUUV2346T:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:54:52.5034350+01:00 0HMEOUUV2346T:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:52.5035180+01:00 0HMEOUUV2346T:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:52.5090790+01:00 0HMEOUUV2346T:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:52.5140140+01:00 0HMEOUUV2346T:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:54:52.5172910+01:00 0HMEOUUV2346T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:54:52.5500530+01:00 0HMEOUUV2346T:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:54:52.5605300+01:00 0HMEOUUV2346T:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:54:52.5836750+01:00 0HMEOUUV2346T:00000005 [INF] Executed ViewResult - view "Index" executed in 24.6373ms. (f66409e9)
2022-01-16T14:54:52.5837600+01:00 0HMEOUUV2346T:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 74.6111ms (afa2e885)
2022-01-16T14:54:52.5838110+01:00 0HMEOUUV2346T:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:52.5841460+01:00 0HMEOUUV2346T:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 81.6686ms (791a596a)
2022-01-16T14:54:58.2902160+01:00 0HMEOUUV2346T:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:54:58.2917510+01:00 0HMEOUUV2346T:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:54:58.2918480+01:00 0HMEOUUV2346T:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:54:58.3002830+01:00 0HMEOUUV2346T:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:54:58.3073140+01:00 0HMEOUUV2346T:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 6.9081ms (afa2e885)
2022-01-16T14:54:58.3075380+01:00 0HMEOUUV2346T:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:54:58.3520810+01:00 0HMEOUUV2346T:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:54:58.3864910+01:00 0HMEOUUV2346T:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 96.3108ms (791a596a)
2022-01-16T14:56:32.6948600+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:56:33.3034130+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:56:33.6067730+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:56:33.6148180+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:56:33.8186230+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9212760+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9521250+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9625710+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9683970+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:33.9686960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:56:33.9978230+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:56:34.0223720+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:34.1027100+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:56:34.3125480+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:56:34.3126630+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:56:34.3128430+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:56:34.3128800+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:56:34.3129080+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:57:05.1051230+01:00 0HMEOV09HNTQQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:05.1883020+01:00 0HMEOV09HNTQQ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:05.1892830+01:00 0HMEOV09HNTQQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:05.2168920+01:00 0HMEOV09HNTQQ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:05.2447120+01:00 0HMEOV09HNTQQ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 19.9837ms (afa2e885)
2022-01-16T14:57:05.2458300+01:00 0HMEOV09HNTQQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:05.2715190+01:00 0HMEOV09HNTQQ:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:05.3103770+01:00 0HMEOV09HNTQQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 208.8582ms (791a596a)
2022-01-16T14:57:06.3878070+01:00 0HMEOV09HNTQQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:06.3960620+01:00 0HMEOV09HNTQQ:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:06.3961920+01:00 0HMEOV09HNTQQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:06.3965030+01:00 0HMEOV09HNTQQ:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:06.3980100+01:00 0HMEOV09HNTQQ:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.413ms (afa2e885)
2022-01-16T14:57:06.3982130+01:00 0HMEOV09HNTQQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:06.3999370+01:00 0HMEOV09HNTQQ:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:06.4081930+01:00 0HMEOV09HNTQQ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 20.3914ms (791a596a)
2022-01-16T14:57:07.5666670+01:00 0HMEOV09HNTQQ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.5883820+01:00 0HMEOV09HNTQQ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.5887470+01:00 0HMEOV09HNTQQ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.5889530+01:00 0HMEOV09HNTQQ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.5900410+01:00 0HMEOV09HNTQQ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 0.9817ms (afa2e885)
2022-01-16T14:57:07.5903240+01:00 0HMEOV09HNTQQ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.5917580+01:00 0HMEOV09HNTQQ:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.5966670+01:00 0HMEOV09HNTQQ:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 29.9611ms (791a596a)
2022-01-16T14:57:07.7633430+01:00 0HMEOV09HNTQQ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.7648930+01:00 0HMEOV09HNTQQ:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.7649970+01:00 0HMEOV09HNTQQ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.7651700+01:00 0HMEOV09HNTQQ:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.7663990+01:00 0HMEOV09HNTQQ:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.1208ms (afa2e885)
2022-01-16T14:57:07.7667250+01:00 0HMEOV09HNTQQ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.7688740+01:00 0HMEOV09HNTQQ:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.7749110+01:00 0HMEOV09HNTQQ:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 11.5070ms (791a596a)
2022-01-16T14:57:07.9445450+01:00 0HMEOV09HNTQQ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:07.9464640+01:00 0HMEOV09HNTQQ:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:07.9466400+01:00 0HMEOV09HNTQQ:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:07.9468480+01:00 0HMEOV09HNTQQ:00000006 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:07.9486060+01:00 0HMEOV09HNTQQ:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 1.5869ms (afa2e885)
2022-01-16T14:57:07.9488610+01:00 0HMEOV09HNTQQ:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:07.9507150+01:00 0HMEOV09HNTQQ:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice(Int32 id) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 188
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-16T14:57:07.9557770+01:00 0HMEOV09HNTQQ:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 500 - text/html;+charset=utf-8 11.3353ms (791a596a)
2022-01-16T14:57:35.2690340+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-16T14:57:42.1741980+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:42.6446550+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-16T14:57:43.0392220+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:57:43.0492910+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:57:43.2465550+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3326160+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3494000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3498590+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3525690+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.3527690+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-16T14:57:43.3725180+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-16T14:57:43.3904960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.4914800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-16T14:57:43.7722590+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-16T14:57:43.7723400+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-16T14:57:43.7725400+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-16T14:57:43.7726280+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-16T14:57:43.7726810+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-16T14:57:44.2693780+01:00 0HMEOV0LMU9F7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:44.3505390+01:00 0HMEOV0LMU9F7:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:44.3517160+01:00 0HMEOV0LMU9F7:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:44.3832580+01:00 0HMEOV0LMU9F7:00000002 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:44.4012940+01:00 0HMEOV0LMU9F7:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:44.5785670+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:44.6801260+01:00 0HMEOV0LMU9F7:00000002 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:44.7346270+01:00 0HMEOV0LMU9F7:00000002 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:44.9309000+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed ViewResult - view "Invoice" executed in 249.386ms. (f66409e9)
2022-01-16T14:57:44.9317150+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 547.6245ms (afa2e885)
2022-01-16T14:57:44.9328810+01:00 0HMEOV0LMU9F7:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:44.9440600+01:00 0HMEOV0LMU9F7:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 677.1466ms (791a596a)
2022-01-16T14:57:46.5813090+01:00 0HMEOV0LMU9F7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:46.5900840+01:00 0HMEOV0LMU9F7:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:46.5902400+01:00 0HMEOV0LMU9F7:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:46.5908940+01:00 0HMEOV0LMU9F7:00000003 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:46.6432940+01:00 0HMEOV0LMU9F7:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:46.6477900+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:46.6488440+01:00 0HMEOV0LMU9F7:00000003 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:46.6508290+01:00 0HMEOV0LMU9F7:00000003 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:46.6524450+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed ViewResult - view "Invoice" executed in 3.7014ms. (f66409e9)
2022-01-16T14:57:46.6525150+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 61.5526ms (afa2e885)
2022-01-16T14:57:46.6526590+01:00 0HMEOV0LMU9F7:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:46.6529410+01:00 0HMEOV0LMU9F7:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 71.6934ms (791a596a)
2022-01-16T14:57:48.7971390+01:00 0HMEOV0LMU9F7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/120 - - (ca22a1cb)
2022-01-16T14:57:48.8223370+01:00 0HMEOV0LMU9F7:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:48.8226960+01:00 0HMEOV0LMU9F7:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:48.8228540+01:00 0HMEOV0LMU9F7:00000004 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:48.8233840+01:00 0HMEOV0LMU9F7:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:48.8267630+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:48.8277540+01:00 0HMEOV0LMU9F7:00000004 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:48.8296710+01:00 0HMEOV0LMU9F7:00000004 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:48.8316170+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed ViewResult - view "Invoice" executed in 3.8981ms. (f66409e9)
2022-01-16T14:57:48.8317520+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 8.8175ms (afa2e885)
2022-01-16T14:57:48.8318430+01:00 0HMEOV0LMU9F7:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:48.8321080+01:00 0HMEOV0LMU9F7:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/120 - - - 200 - text/html;+charset=utf-8 35.0350ms (791a596a)
2022-01-16T14:57:52.3448110+01:00 0HMEOV0LMU9F7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - (ca22a1cb)
2022-01-16T14:57:52.3463200+01:00 0HMEOV0LMU9F7:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:57:52.3464370+01:00 0HMEOV0LMU9F7:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:52.3470920+01:00 0HMEOV0LMU9F7:00000005 [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:52.3479980+01:00 0HMEOV0LMU9F7:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:52.3510790+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:57:52.3517790+01:00 0HMEOV0LMU9F7:00000005 [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:57:52.3525570+01:00 0HMEOV0LMU9F7:00000005 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:52.3535560+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed ViewResult - view "Invoice" executed in 1.8127ms. (f66409e9)
2022-01-16T14:57:52.3536260+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 6.4673ms (afa2e885)
2022-01-16T14:57:52.3536720+01:00 0HMEOV0LMU9F7:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:52.3539620+01:00 0HMEOV0LMU9F7:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/121 - - - 200 - text/html;+charset=utf-8 9.1589ms (791a596a)
2022-01-16T14:57:59.2817510+01:00 0HMEOV0LMU9F7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:57:59.2830920+01:00 0HMEOV0LMU9F7:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:57:59.2863270+01:00 0HMEOV0LMU9F7:00000006 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:57:59.2883190+01:00 0HMEOV0LMU9F7:00000006 [INF] Index viewed (84b92a55)
2022-01-16T14:57:59.2895330+01:00 0HMEOV0LMU9F7:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:57:59.2965860+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:57:59.3169130+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:57:59.3217770+01:00 0HMEOV0LMU9F7:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:57:59.3417830+01:00 0HMEOV0LMU9F7:00000006 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:57:59.3546700+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed ViewResult - view "Index" executed in 36.4241ms. (f66409e9)
2022-01-16T14:57:59.3547590+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 68.36ms (afa2e885)
2022-01-16T14:57:59.3548180+01:00 0HMEOV0LMU9F7:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:57:59.3549920+01:00 0HMEOV0LMU9F7:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 73.2762ms (791a596a)
2022-01-16T14:58:02.0532970+01:00 0HMEOV0LMU9F7:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:02.0545090+01:00 0HMEOV0LMU9F7:00000007 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:02.0545980+01:00 0HMEOV0LMU9F7:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:02.0572470+01:00 0HMEOV0LMU9F7:00000007 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:02.0752100+01:00 0HMEOV0LMU9F7:00000007 [INF] Accessing expired session, Key:"71213e30-1459-5e84-4de8-08e6c8f49b65" (08c5a9e7)
2022-01-16T14:58:02.0765720+01:00 0HMEOV0LMU9F7:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:02.0835550+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:02.2892620+01:00 0HMEOV0LMU9F7:00000007 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:02.3049380+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 247.5999ms (afa2e885)
2022-01-16T14:58:02.3049940+01:00 0HMEOV0LMU9F7:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:02.3055130+01:00 0HMEOV0LMU9F7:00000007 [INF] Session started; Key:"71213e30-1459-5e84-4de8-08e6c8f49b65", Id:"82457dd7-5163-4187-6b86-8bced71d04df" (1d7cf8c0)
2022-01-16T14:58:02.3062170+01:00 0HMEOV0LMU9F7:00000007 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 253.1345ms (791a596a)
2022-01-16T14:58:02.8008580+01:00 0HMEOV0LMU9F7:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:02.8040640+01:00 0HMEOV0LMU9F7:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:02.8042040+01:00 0HMEOV0LMU9F7:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:02.8043850+01:00 0HMEOV0LMU9F7:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:02.8062710+01:00 0HMEOV0LMU9F7:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:02.8080160+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:02.8960150+01:00 0HMEOV0LMU9F7:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:02.8962360+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 91.7497ms (afa2e885)
2022-01-16T14:58:02.8962740+01:00 0HMEOV0LMU9F7:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:02.8966430+01:00 0HMEOV0LMU9F7:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 95.8523ms (791a596a)
2022-01-16T14:58:03.7689470+01:00 0HMEOV0LMU9F7:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:03.7705560+01:00 0HMEOV0LMU9F7:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:03.7706620+01:00 0HMEOV0LMU9F7:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:03.7708000+01:00 0HMEOV0LMU9F7:00000009 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:03.7731190+01:00 0HMEOV0LMU9F7:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:03.7752690+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:03.7762970+01:00 0HMEOV0LMU9F7:00000009 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:03.7765050+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 5.6486ms (afa2e885)
2022-01-16T14:58:03.7765500+01:00 0HMEOV0LMU9F7:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:03.7767830+01:00 0HMEOV0LMU9F7:00000009 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 7.8661ms (791a596a)
2022-01-16T14:58:04.1849140+01:00 0HMEOV0LMU9F7:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:04.1862210+01:00 0HMEOV0LMU9F7:0000000A [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:04.1863150+01:00 0HMEOV0LMU9F7:0000000A [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:04.1864450+01:00 0HMEOV0LMU9F7:0000000A [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:04.1871100+01:00 0HMEOV0LMU9F7:0000000A [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:04.1893620+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:04.1901220+01:00 0HMEOV0LMU9F7:0000000A [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:04.1904270+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.9147ms (afa2e885)
2022-01-16T14:58:04.1905430+01:00 0HMEOV0LMU9F7:0000000A [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:04.1908040+01:00 0HMEOV0LMU9F7:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.9213ms (791a596a)
2022-01-16T14:58:04.9124040+01:00 0HMEOV0LMU9F7:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-16T14:58:04.9133290+01:00 0HMEOV0LMU9F7:0000000B [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:04.9134070+01:00 0HMEOV0LMU9F7:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:04.9135220+01:00 0HMEOV0LMU9F7:0000000B [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:04.9140750+01:00 0HMEOV0LMU9F7:0000000B [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:04.9163150+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:04.9170710+01:00 0HMEOV0LMU9F7:0000000B [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-16T14:58:04.9172950+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 3.7157ms (afa2e885)
2022-01-16T14:58:04.9173430+01:00 0HMEOV0LMU9F7:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:04.9176000+01:00 0HMEOV0LMU9F7:0000000B [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 5.1669ms (791a596a)
2022-01-16T14:58:07.5673230+01:00 0HMEOV0LMU9F7:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-16T14:58:07.5682580+01:00 0HMEOV0LMU9F7:0000000C [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:07.5683540+01:00 0HMEOV0LMU9F7:0000000C [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:07.5741800+01:00 0HMEOV0LMU9F7:0000000C [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:07.5847810+01:00 0HMEOV0LMU9F7:0000000C [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:07.6096250+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:07.8127560+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:58:07.8472830+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Double), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Double), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p7, @p8, @p9, @p10);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p11, @p12, @p13, @p14);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();

INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p15, @p16, @p17, @p18);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-16T14:58:07.8909460+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__order_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__order_ID_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:58:13.8259020+01:00 0HMEOV0LMU9F7:0000000C [INF] Executing RedirectResult, redirecting to "/Customer/CustomerOrders". (d98d540e)
2022-01-16T14:58:13.8303620+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 6256.1584ms (afa2e885)
2022-01-16T14:58:13.8322500+01:00 0HMEOV0LMU9F7:0000000C [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:13.8415510+01:00 0HMEOV0LMU9F7:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 6274.3312ms (791a596a)
2022-01-16T14:58:13.8451370+01:00 0HMEOV0LMU9F7:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - (ca22a1cb)
2022-01-16T14:58:13.8470820+01:00 0HMEOV0LMU9F7:0000000D [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:13.8471640+01:00 0HMEOV0LMU9F7:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:13.8529050+01:00 0HMEOV0LMU9F7:0000000D [INF] Route matched with "{area = \"Customer\", action = \"Index\", controller = \"CustomerOrders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:13.8574960+01:00 0HMEOV0LMU9F7:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:13.8614750+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-16T14:58:13.8928060+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentUser_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`, `t`.`ID`, `t`.`Amount`, `t`.`OrderID`, `t`.`Price`, `t`.`ProductID`, `t`.`Id0`, `t`.`Description`, `t`.`ImageAlt`, `t`.`ImageSource`, `t`.`Name`, `t`.`Price0`
FROM `Order` AS `o`
INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t` ON `o`.`ID` = `t`.`OrderID`
WHERE `o`.`UserId` = @__currentUser_Id_0
ORDER BY `o`.`ID`, `u`.`Id`, `t`.`ID`, `t`.`Id0`" (0723d8ff)
2022-01-16T14:58:13.9006730+01:00 0HMEOV0LMU9F7:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:58:13.9150790+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed ViewResult - view "Index" executed in 15.5541ms. (f66409e9)
2022-01-16T14:58:13.9151980+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)" in 62.209ms (afa2e885)
2022-01-16T14:58:13.9152400+01:00 0HMEOV0LMU9F7:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrdersController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:13.9155110+01:00 0HMEOV0LMU9F7:0000000D [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrders - - - 200 - text/html;+charset=utf-8 70.6499ms (791a596a)
2022-01-16T14:58:23.2266180+01:00 0HMEOV0LMU9F7:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/122 - - (ca22a1cb)
2022-01-16T14:58:23.2279430+01:00 0HMEOV0LMU9F7:0000000E [INF] Authorization was successful. (0d575a54)
2022-01-16T14:58:23.2280720+01:00 0HMEOV0LMU9F7:0000000E [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:23.2283300+01:00 0HMEOV0LMU9F7:0000000E [INF] Route matched with "{area = \"Customer\", action = \"Invoice\", controller = \"CustomerInvoice\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoice(Int32)" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:23.2300400+01:00 0HMEOV0LMU9F7:0000000E [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:23.2344060+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`ID`, `t`.`DateTimeCreated`, `t`.`OrderNumber`, `t`.`TotalPrice`, `t`.`UserId`, `t`.`Id0`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`FirstName`, `t`.`LastName`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t0`.`ID`, `t0`.`Amount`, `t0`.`OrderID`, `t0`.`Price`, `t0`.`ProductID`, `t0`.`Id0`, `t0`.`Description`, `t0`.`ImageAlt`, `t0`.`ImageSource`, `t0`.`Name`, `t0`.`Price0`
FROM (
    SELECT `o`.`ID`, `o`.`DateTimeCreated`, `o`.`OrderNumber`, `o`.`TotalPrice`, `o`.`UserId`, `u`.`Id` AS `Id0`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
    FROM `Order` AS `o`
    INNER JOIN `Users` AS `u` ON `o`.`UserId` = `u`.`Id`
    WHERE `o`.`ID` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `o0`.`ID`, `o0`.`Amount`, `o0`.`OrderID`, `o0`.`Price`, `o0`.`ProductID`, `p`.`Id` AS `Id0`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price` AS `Price0`
    FROM `OrderItem` AS `o0`
    INNER JOIN `ProductItem` AS `p` ON `o0`.`ProductID` = `p`.`Id`
) AS `t0` ON `t`.`ID` = `t0`.`OrderID`
ORDER BY `t`.`ID`, `t`.`Id0`, `t0`.`ID`, `t0`.`Id0`" (0723d8ff)
2022-01-16T14:58:23.2351670+01:00 0HMEOV0LMU9F7:0000000E [INF] Executing ViewResult, running view "Invoice". (c83d0e25)
2022-01-16T14:58:23.2371850+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed ViewResult - view "Invoice" executed in 2.0443ms. (f66409e9)
2022-01-16T14:58:23.2373980+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)" in 8.929ms (afa2e885)
2022-01-16T14:58:23.2374880+01:00 0HMEOV0LMU9F7:0000000E [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.Invoice (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:23.2379760+01:00 0HMEOV0LMU9F7:0000000E [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerInvoice/Invoice/122 - - - 200 - text/html;+charset=utf-8 11.1483ms (791a596a)
2022-01-16T14:58:43.2569530+01:00 0HMEOV0LMU9F7:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-16T14:58:43.2577930+01:00 0HMEOV0LMU9F7:0000000F [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-16T14:58:43.2579950+01:00 0HMEOV0LMU9F7:0000000F [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-16T14:58:43.2584760+01:00 0HMEOV0LMU9F7:0000000F [INF] Index viewed (84b92a55)
2022-01-16T14:58:43.2593160+01:00 0HMEOV0LMU9F7:0000000F [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-16T14:58:43.2612150+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-16T14:58:43.2643310+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-16T14:58:43.2648150+01:00 0HMEOV0LMU9F7:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-16T14:58:43.2676660+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed ViewResult - view "Index" executed in 2.8827ms. (f66409e9)
2022-01-16T14:58:43.2677810+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 9.6958ms (afa2e885)
2022-01-16T14:58:43.2680740+01:00 0HMEOV0LMU9F7:0000000F [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-16T14:58:43.2683410+01:00 0HMEOV0LMU9F7:0000000F [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 11.3953ms (791a596a)
