2022-01-14T15:18:26.8663490+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:18:27.7014210+01:00  [INF] Executed DbCommand ("92"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:18:28.3058840+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:18:28.3271610+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:18:28.9733160+01:00  [INF] Executed DbCommand ("84"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:18:29.1954180+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:18:29.2757080+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:18:29.3005090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:18:29.3157420+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:18:29.3170830+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:18:29.3795240+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:18:29.4161010+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:18:29.5636560+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:18:30.2040120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:18:30.2041640+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:18:30.2046180+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:18:30.2047510+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:18:30.2051750+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:19:00.3677790+01:00 0HMEND37IGR1F:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:19:00.5768600+01:00 0HMEND37IGR1F:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:00.6335980+01:00 0HMEND37IGR1F:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:00.6400570+01:00 0HMEND37IGR1F:00000002 [INF] Index viewed (84b92a55)
2022-01-14T15:19:00.6444130+01:00 0HMEND37IGR1F:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:00.6747130+01:00 0HMEND37IGR1F:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:19:00.7103830+01:00 0HMEND37IGR1F:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:19:00.8286260+01:00 0HMEND37IGR1F:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:19:01.0383540+01:00 0HMEND37IGR1F:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:19:01.4697700+01:00 0HMEND37IGR1F:00000002 [INF] Executed ViewResult - view "Index" executed in 636.9971ms. (f66409e9)
2022-01-14T15:19:01.4716540+01:00 0HMEND37IGR1F:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 836.4505ms (afa2e885)
2022-01-14T15:19:01.4734260+01:00 0HMEND37IGR1F:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:01.4894120+01:00 0HMEND37IGR1F:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1128.9168ms (791a596a)
2022-01-14T15:19:01.7136640+01:00 0HMEND37IGR1G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - (ca22a1cb)
2022-01-14T15:19:01.7238080+01:00 0HMEND37IGR1F:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/site.css - - (ca22a1cb)
2022-01-14T15:19:01.7318410+01:00 0HMEND37IGR1F:00000003 [INF] The file "/css/site.css" was not modified (f1f8d725)
2022-01-14T15:19:01.7319930+01:00 0HMEND37IGR1G:00000002 [INF] The file "/css/shop_homepage.css" was not modified (f1f8d725)
2022-01-14T15:19:01.7350980+01:00 0HMEND37IGR1F:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/site.css - - - 304 - text/css 11.2002ms (791a596a)
2022-01-14T15:19:01.7353310+01:00 0HMEND37IGR1G:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/shop_homepage.css - - - 304 - text/css 21.4064ms (791a596a)
2022-01-14T15:19:01.7480590+01:00 0HMEND37IGR1G:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - (ca22a1cb)
2022-01-14T15:19:01.7481280+01:00 0HMEND37IGR1F:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - (ca22a1cb)
2022-01-14T15:19:01.7485150+01:00 0HMEND37IGR1F:00000004 [INF] The file "/lib/bootstrap/dist/css/bootstrap.min.css" was not modified (f1f8d725)
2022-01-14T15:19:01.7485100+01:00 0HMEND37IGR1G:00000003 [INF] The file "/js/vanilla-tilt.js" was not modified (f1f8d725)
2022-01-14T15:19:01.7489250+01:00 0HMEND37IGR1G:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/vanilla-tilt.js - - - 304 - application/javascript 0.8513ms (791a596a)
2022-01-14T15:19:01.7491200+01:00 0HMEND37IGR1F:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 0.8080ms (791a596a)
2022-01-14T15:19:01.7562540+01:00 0HMEND37IGR1G:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - (ca22a1cb)
2022-01-14T15:19:01.7567890+01:00 0HMEND37IGR1G:00000004 [INF] The file "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" was not modified (f1f8d725)
2022-01-14T15:19:01.7571260+01:00 0HMEND37IGR1G:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - application/javascript 1.1953ms (791a596a)
2022-01-14T15:19:01.7574180+01:00 0HMEND37IGR1F:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - (ca22a1cb)
2022-01-14T15:19:01.7577570+01:00 0HMEND37IGR1F:00000005 [INF] The file "/lib/jquery/dist/jquery.min.js" was not modified (f1f8d725)
2022-01-14T15:19:01.7578300+01:00 0HMEND37IGR1H:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - (ca22a1cb)
2022-01-14T15:19:01.7580110+01:00 0HMEND37IGR1F:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 304 - application/javascript 0.5911ms (791a596a)
2022-01-14T15:19:01.7583060+01:00 0HMEND37IGR1H:00000002 [INF] The file "/js/site.js" was not modified (f1f8d725)
2022-01-14T15:19:01.7587420+01:00 0HMEND37IGR1H:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/site.js?v=BxFAw9RUJ1E4NycpKEjCNDeoSvr4RPHixdBq5wDnkeY - - - 304 - application/javascript 0.8292ms (791a596a)
2022-01-14T15:19:01.7687230+01:00 0HMEND37IGR1G:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/js/Product.js - - (ca22a1cb)
2022-01-14T15:19:01.7691760+01:00 0HMEND37IGR1F:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7691810+01:00 0HMEND37IGR1G:00000005 [INF] The file "/js/Product.js" was not modified (f1f8d725)
2022-01-14T15:19:01.7694600+01:00 0HMEND37IGR1F:00000006 [INF] The file "/img/product/Rombas9.jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7694570+01:00 0HMEND37IGR1G:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/js/Product.js - - - 304 - application/javascript 0.7612ms (791a596a)
2022-01-14T15:19:01.7697600+01:00 0HMEND37IGR1F:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Rombas9.jpeg - - - 304 - image/jpeg 0.6053ms (791a596a)
2022-01-14T15:19:01.7706140+01:00 0HMEND37IGR1H:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7709790+01:00 0HMEND37IGR1H:00000003 [INF] The file "/img/product/ETA Raggio.jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7713960+01:00 0HMEND37IGR1H:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/ETA Raggio.jpeg - - - 304 - image/jpeg 0.7147ms (791a596a)
2022-01-14T15:19:01.7792210+01:00 0HMEND37IGR1F:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7792210+01:00 0HMEND37IGR1G:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7795060+01:00 0HMEND37IGR1H:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7795630+01:00 0HMEND37IGR1G:00000006 [INF] The file "/img/product/Roborock tyčový vysavač H7.jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7795410+01:00 0HMEND37IGR1F:00000007 [INF] The file "/img/product/Xiaomi Roidmi EVE Plus .jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7797900+01:00 0HMEND37IGR1H:00000004 [INF] The file "/img/product/Roborock S7 White.jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7798240+01:00 0HMEND37IGR1G:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock tyčový vysavač H7.jpeg - - - 304 - image/jpeg 0.6091ms (791a596a)
2022-01-14T15:19:01.7798240+01:00 0HMEND37IGR1F:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Xiaomi Roidmi EVE Plus .jpeg - - - 304 - image/jpeg 0.6374ms (791a596a)
2022-01-14T15:19:01.7800130+01:00 0HMEND37IGR1H:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Roborock S7 White.jpeg - - - 304 - image/jpeg 0.5104ms (791a596a)
2022-01-14T15:19:01.7852460+01:00 0HMEND37IGR1G:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - (ca22a1cb)
2022-01-14T15:19:01.7856470+01:00 0HMEND37IGR1G:00000007 [INF] The file "/img/product/Concept VR1000.jpeg" was not modified (f1f8d725)
2022-01-14T15:19:01.7859780+01:00 0HMEND37IGR1G:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/product/Concept VR1000.jpeg - - - 304 - image/jpeg 0.7112ms (791a596a)
2022-01-14T15:19:01.8042240+01:00 0HMEND37IGR1G:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/img/parallax.png - - (ca22a1cb)
2022-01-14T15:19:01.8045990+01:00 0HMEND37IGR1G:00000008 [INF] The file "/img/parallax.png" was not modified (f1f8d725)
2022-01-14T15:19:01.8053390+01:00 0HMEND37IGR1G:00000008 [INF] Request finished HTTP/1.1 GET https://localhost:5001/img/parallax.png - - - 304 - image/png 1.1062ms (791a596a)
2022-01-14T15:19:02.1320590+01:00 0HMEND37IGR1G:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico - - (ca22a1cb)
2022-01-14T15:19:02.1324670+01:00 0HMEND37IGR1G:00000009 [INF] The file "/favicon.ico" was not modified (f1f8d725)
2022-01-14T15:19:02.1328100+01:00 0HMEND37IGR1G:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/favicon.ico - - - 304 - image/x-icon 0.8535ms (791a596a)
2022-01-14T15:19:04.3441580+01:00 0HMEND37IGR1G:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:19:04.3638020+01:00 0HMEND37IGR1G:0000000A [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-14T15:19:04.3788370+01:00 0HMEND37IGR1G:0000000A [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-14T15:19:04.3795290+01:00 0HMEND37IGR1G:0000000A [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 401 0 - 35.4150ms (791a596a)
2022-01-14T15:19:08.4434800+01:00 0HMEND37IGR1G:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - (ca22a1cb)
2022-01-14T15:19:08.4476880+01:00 0HMEND37IGR1G:0000000B [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:08.4514930+01:00 0HMEND37IGR1G:0000000B [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:08.4591400+01:00 0HMEND37IGR1G:0000000B [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-14T15:19:08.5462600+01:00 0HMEND37IGR1G:0000000B [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:19:08.5532930+01:00 0HMEND37IGR1G:0000000B [INF] Executed ViewResult - view "Login" executed in 96.1109ms. (f66409e9)
2022-01-14T15:19:08.5534310+01:00 0HMEND37IGR1G:0000000B [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 101.8561ms (afa2e885)
2022-01-14T15:19:08.5536030+01:00 0HMEND37IGR1G:0000000B [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:08.5540020+01:00 0HMEND37IGR1G:0000000B [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - - 200 - text/html;+charset=utf-8 110.4928ms (791a596a)
2022-01-14T15:19:08.6075910+01:00 0HMEND37IGR1G:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/css/login.css - - (ca22a1cb)
2022-01-14T15:19:08.6080590+01:00 0HMEND37IGR1G:0000000C [INF] The file "/css/login.css" was not modified (f1f8d725)
2022-01-14T15:19:08.6083680+01:00 0HMEND37IGR1G:0000000C [INF] Request finished HTTP/1.1 GET https://localhost:5001/css/login.css - - - 304 - text/css 0.7972ms (791a596a)
2022-01-14T15:19:10.5405180+01:00 0HMEND37IGR1G:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-14T15:19:10.5441940+01:00 0HMEND37IGR1G:0000000D [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:10.5979590+01:00 0HMEND37IGR1G:0000000D [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:10.8357420+01:00 0HMEND37IGR1G:0000000D [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:10.8438040+01:00 0HMEND37IGR1G:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:19:11.2716950+01:00 0HMEND37IGR1G:0000000D [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-14T15:19:11.4189470+01:00 0HMEND37IGR1G:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-14T15:19:11.4326740+01:00 0HMEND37IGR1G:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:19:11.4638100+01:00 0HMEND37IGR1G:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-14T15:19:11.5139650+01:00 0HMEND37IGR1G:0000000D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-14T15:19:11.5600300+01:00 0HMEND37IGR1G:0000000D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:19:11.5691400+01:00 0HMEND37IGR1G:0000000D [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 970.8779ms (afa2e885)
2022-01-14T15:19:11.5743070+01:00 0HMEND37IGR1G:0000000D [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:11.5871730+01:00 0HMEND37IGR1G:0000000D [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 1046.7100ms (791a596a)
2022-01-14T15:19:11.5963980+01:00 0HMEND37IGR1G:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:19:11.6096350+01:00 0HMEND37IGR1G:0000000E [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:11.6101150+01:00 0HMEND37IGR1G:0000000E [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:11.6123070+01:00 0HMEND37IGR1G:0000000E [INF] Index viewed (84b92a55)
2022-01-14T15:19:11.6134710+01:00 0HMEND37IGR1G:0000000E [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:11.6161370+01:00 0HMEND37IGR1G:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:19:11.6187660+01:00 0HMEND37IGR1G:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:19:11.6195800+01:00 0HMEND37IGR1G:0000000E [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:19:11.6210490+01:00 0HMEND37IGR1G:0000000E [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:19:11.6409880+01:00 0HMEND37IGR1G:0000000E [INF] Executed ViewResult - view "Index" executed in 21.4281ms. (f66409e9)
2022-01-14T15:19:11.6412870+01:00 0HMEND37IGR1G:0000000E [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 30.9548ms (afa2e885)
2022-01-14T15:19:11.6414650+01:00 0HMEND37IGR1G:0000000E [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:11.6419090+01:00 0HMEND37IGR1G:0000000E [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 45.5080ms (791a596a)
2022-01-14T15:19:14.7237790+01:00 0HMEND37IGR1G:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:19:14.7480650+01:00 0HMEND37IGR1G:0000000F [INF] Authorization was successful. (0d575a54)
2022-01-14T15:19:14.7484100+01:00 0HMEND37IGR1G:0000000F [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:14.7552490+01:00 0HMEND37IGR1G:0000000F [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:14.7713390+01:00 0HMEND37IGR1G:0000000F [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:19:14.7743940+01:00 0HMEND37IGR1G:0000000F [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:14.8024140+01:00 0HMEND37IGR1G:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:19:14.9077570+01:00 0HMEND37IGR1H:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:19:14.9288320+01:00 0HMEND37IGR1H:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:19:14.9293910+01:00 0HMEND37IGR1H:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:14.9297340+01:00 0HMEND37IGR1H:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:14.9307790+01:00 0HMEND37IGR1H:00000005 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:19:14.9315310+01:00 0HMEND37IGR1H:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:14.9358760+01:00 0HMEND37IGR1H:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:19:15.3175990+01:00 0HMEND37IGR1G:0000000F [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:19:15.3178750+01:00 0HMEND37IGR1H:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:19:15.3880220+01:00 0HMEND37IGR1H:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 458.111ms (afa2e885)
2022-01-14T15:19:15.3881660+01:00 0HMEND37IGR1H:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:15.3882070+01:00 0HMEND37IGR1G:0000000F [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 632.7884ms (afa2e885)
2022-01-14T15:19:15.3886420+01:00 0HMEND37IGR1G:0000000F [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:15.3896020+01:00 0HMEND37IGR1G:0000000F [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"725abf8f-2fc9-f1ca-1d14-e5edf8a11a80" (1d7cf8c0)
2022-01-14T15:19:15.3900070+01:00 0HMEND37IGR1H:00000005 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"2a75e4cd-ec38-804f-dd42-351d763e314b" (1d7cf8c0)
2022-01-14T15:19:15.3918530+01:00 0HMEND37IGR1H:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 484.0909ms (791a596a)
2022-01-14T15:19:15.3918270+01:00 0HMEND37IGR1G:0000000F [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 668.0963ms (791a596a)
2022-01-14T15:19:16.6374760+01:00 0HMEND37IGR1G:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:19:16.6383690+01:00 0HMEND37IGR1G:00000010 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:19:16.6384500+01:00 0HMEND37IGR1G:00000010 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:19:16.6436120+01:00 0HMEND37IGR1G:00000010 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:19:16.8414060+01:00 0HMEND37IGR1G:00000010 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:19:16.8841280+01:00 0HMEND37IGR1G:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:19:17.6319310+01:00 0HMEND37IGR1G:00000010 [INF] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:19:17.7292550+01:00 0HMEND37IGR1G:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:19:17.8571770+01:00 0HMEND37IGR1G:00000010 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1213.4013ms (afa2e885)
2022-01-14T15:19:17.8581090+01:00 0HMEND37IGR1G:00000010 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:19:17.9405390+01:00 0HMEND37IGR1G:00000010 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 39
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:19:18.0208520+01:00 0HMEND37IGR1G:00000010 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1383.4343ms (791a596a)
2022-01-14T15:21:30.3543080+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:21:40.9812880+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:21:41.4432930+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:21:41.7283710+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:21:41.7394420+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:21:42.0361850+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:21:42.1352030+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:21:42.1629040+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:21:42.1705600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:21:42.1770960+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:21:42.1774310+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:21:42.2136160+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:21:42.2393720+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:21:42.5378770+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:21:42.8678740+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:21:42.8679730+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:21:42.8681410+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:21:42.8681790+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:21:42.8683040+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:22:22.1559260+01:00 0HMEND53O1FS4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:22:22.2605900+01:00 0HMEND53O1FS4:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:22:22.2620370+01:00 0HMEND53O1FS4:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:22:22.2856370+01:00 0HMEND53O1FS4:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:22:22.2908550+01:00 0HMEND53O1FS4:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:22:22.3212190+01:00 0HMEND53O1FS4:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:22:22.3302810+01:00 0HMEND53O1FS4:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 35.861ms (afa2e885)
2022-01-14T15:22:22.3311510+01:00 0HMEND53O1FS4:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:22:22.3426090+01:00 0HMEND53O1FS4:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 189.9230ms (791a596a)
2022-01-14T15:22:22.3477320+01:00 0HMEND53O1FS4:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:22:22.3516860+01:00 0HMEND53O1FS4:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:22:22.3538090+01:00 0HMEND53O1FS4:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:22:22.3560560+01:00 0HMEND53O1FS4:00000003 [INF] Index viewed (84b92a55)
2022-01-14T15:22:22.3593760+01:00 0HMEND53O1FS4:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:22:22.3757630+01:00 0HMEND53O1FS4:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:22:22.3985390+01:00 0HMEND53O1FS4:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:22:22.4589690+01:00 0HMEND53O1FS4:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:22:22.5191270+01:00 0HMEND53O1FS4:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:22:22.6889660+01:00 0HMEND53O1FS4:00000003 [INF] Executed ViewResult - view "Index" executed in 240.2686ms. (f66409e9)
2022-01-14T15:22:22.6891020+01:00 0HMEND53O1FS4:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 335.2345ms (afa2e885)
2022-01-14T15:22:22.6892780+01:00 0HMEND53O1FS4:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:22:22.6957040+01:00 0HMEND53O1FS4:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 347.8984ms (791a596a)
2022-01-14T15:22:28.0912770+01:00 0HMEND53O1FS4:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:22:28.1210780+01:00 0HMEND53O1FS4:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:22:28.1212400+01:00 0HMEND53O1FS4:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:22:28.1424630+01:00 0HMEND53O1FS4:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:22:28.1688350+01:00 0HMEND53O1FS4:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:22:28.2080800+01:00 0HMEND53O1FS4:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:22:28.2191560+01:00 0HMEND53O1FS4:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:22:28.4260570+01:00 0HMEND53O1FS4:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:22:28.4559000+01:00 0HMEND53O1FS4:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 313.2557ms (afa2e885)
2022-01-14T15:22:28.4560290+01:00 0HMEND53O1FS4:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:22:28.4570800+01:00 0HMEND53O1FS4:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"4780f668-9b00-e4ae-caff-40ecac215dae" (1d7cf8c0)
2022-01-14T15:22:28.4583490+01:00 0HMEND53O1FS4:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 367.2533ms (791a596a)
2022-01-14T15:22:30.4975740+01:00 0HMEND53O1FS4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:22:30.5002050+01:00 0HMEND53O1FS4:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:22:30.5005690+01:00 0HMEND53O1FS4:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:22:30.5008200+01:00 0HMEND53O1FS4:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:22:30.5848030+01:00 0HMEND53O1FS4:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:22:30.6163050+01:00 0HMEND53O1FS4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:22:30.9609390+01:00 0HMEND53O1FS4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:22:31.0247980+01:00 0HMEND53O1FS4:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:22:31.0770790+01:00 0HMEND53O1FS4:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 576.1503ms (afa2e885)
2022-01-14T15:22:31.0787700+01:00 0HMEND53O1FS4:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:22:31.1252480+01:00 0HMEND53O1FS4:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 41
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:22:31.1646860+01:00 0HMEND53O1FS4:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 667.3090ms (791a596a)
2022-01-14T15:23:04.1067970+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:23:10.9679340+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:23:11.4380480+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:23:11.7080090+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:23:11.7182670+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:23:11.9428810+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:12.0442230+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:23:12.0716090+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:12.0798430+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:23:12.0881920+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:12.0886120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:23:12.1185070+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:23:12.1440010+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:12.2485300+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:12.5007130+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:23:12.5007860+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:23:12.5009410+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:23:12.5009820+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:23:12.5010040+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:23:15.5179710+01:00 0HMEND5JKMBCP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:23:15.6450570+01:00 0HMEND5JKMBCP:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:23:15.6468490+01:00 0HMEND5JKMBCP:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:23:15.6783380+01:00 0HMEND5JKMBCP:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:23:15.6852240+01:00 0HMEND5JKMBCP:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:23:15.7166470+01:00 0HMEND5JKMBCP:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:23:15.7251300+01:00 0HMEND5JKMBCP:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 38.392ms (afa2e885)
2022-01-14T15:23:15.7259140+01:00 0HMEND5JKMBCP:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:23:15.7349870+01:00 0HMEND5JKMBCP:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 221.2864ms (791a596a)
2022-01-14T15:23:15.7393130+01:00 0HMEND5JKMBCP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:23:15.7427910+01:00 0HMEND5JKMBCP:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:23:15.7447060+01:00 0HMEND5JKMBCP:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:23:15.7465100+01:00 0HMEND5JKMBCP:00000003 [INF] Index viewed (84b92a55)
2022-01-14T15:23:15.7496570+01:00 0HMEND5JKMBCP:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:23:15.7638950+01:00 0HMEND5JKMBCP:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:23:15.7849140+01:00 0HMEND5JKMBCP:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:23:15.8452270+01:00 0HMEND5JKMBCP:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:23:15.9147330+01:00 0HMEND5JKMBCP:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:23:16.1313660+01:00 0HMEND5JKMBCP:00000003 [INF] Executed ViewResult - view "Index" executed in 295.8423ms. (f66409e9)
2022-01-14T15:23:16.1315270+01:00 0HMEND5JKMBCP:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 386.7574ms (afa2e885)
2022-01-14T15:23:16.1316160+01:00 0HMEND5JKMBCP:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:23:16.1398740+01:00 0HMEND5JKMBCP:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 400.4972ms (791a596a)
2022-01-14T15:23:19.6234120+01:00 0HMEND5JKMBCP:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:23:19.6511800+01:00 0HMEND5JKMBCP:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:23:19.6513270+01:00 0HMEND5JKMBCP:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:23:19.6696510+01:00 0HMEND5JKMBCP:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:23:19.6964810+01:00 0HMEND5JKMBCP:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:23:19.7314740+01:00 0HMEND5JKMBCP:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:23:19.7406570+01:00 0HMEND5JKMBCP:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:19.9126580+01:00 0HMEND5JKMBCP:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:23:19.9327810+01:00 0HMEND5JKMBCP:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 262.9642ms (afa2e885)
2022-01-14T15:23:19.9328860+01:00 0HMEND5JKMBCP:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:23:19.9334580+01:00 0HMEND5JKMBCP:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"d19f6253-5a4b-87e2-b20d-0556a1343a49" (1d7cf8c0)
2022-01-14T15:23:19.9341240+01:00 0HMEND5JKMBCP:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 310.8669ms (791a596a)
2022-01-14T15:23:21.3586740+01:00 0HMEND5JKMBCP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:23:21.3614380+01:00 0HMEND5JKMBCP:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:23:21.3620400+01:00 0HMEND5JKMBCP:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:23:21.3623820+01:00 0HMEND5JKMBCP:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:23:21.4392930+01:00 0HMEND5JKMBCP:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:23:21.4670550+01:00 0HMEND5JKMBCP:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:23:21.7905600+01:00 0HMEND5JKMBCP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:23:21.8353280+01:00 0HMEND5JKMBCP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:23:21.8857200+01:00 0HMEND5JKMBCP:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 523.2454ms (afa2e885)
2022-01-14T15:23:21.8871300+01:00 0HMEND5JKMBCP:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:23:21.9353420+01:00 0HMEND5JKMBCP:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 41
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:23:21.9752530+01:00 0HMEND5JKMBCP:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 616.6618ms (791a596a)
2022-01-14T15:25:19.4500840+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:25:26.9214270+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:25:27.4258640+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:25:27.7099540+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:25:27.7200420+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:25:27.9813460+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:28.1089030+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:25:28.1463130+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:28.1599020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:25:28.1697600+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:28.1701810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:25:28.2113310+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:25:28.2427770+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:28.3554830+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:28.6114310+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:25:28.6115180+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:25:28.6117230+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:25:28.6118980+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:25:28.6119510+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:25:34.3590880+01:00 0HMEND6T0LNPQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:25:34.4858920+01:00 0HMEND6T0LNPQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:25:34.5141710+01:00 0HMEND6T0LNPQ:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:25:34.5175080+01:00 0HMEND6T0LNPQ:00000002 [INF] Index viewed (84b92a55)
2022-01-14T15:25:34.5205030+01:00 0HMEND6T0LNPQ:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:25:34.5408580+01:00 0HMEND6T0LNPQ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:25:34.5652550+01:00 0HMEND6T0LNPQ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:25:34.6304740+01:00 0HMEND6T0LNPQ:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:25:34.7369460+01:00 0HMEND6T0LNPQ:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:25:34.9543640+01:00 0HMEND6T0LNPQ:00000002 [INF] Executed ViewResult - view "Index" executed in 317.9315ms. (f66409e9)
2022-01-14T15:25:34.9553470+01:00 0HMEND6T0LNPQ:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 440.2486ms (afa2e885)
2022-01-14T15:25:34.9566080+01:00 0HMEND6T0LNPQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:25:34.9745710+01:00 0HMEND6T0LNPQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 620.3049ms (791a596a)
2022-01-14T15:25:38.0671170+01:00 0HMEND6T0LNPQ:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:25:38.0899510+01:00 0HMEND6T0LNPQ:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:25:38.0912800+01:00 0HMEND6T0LNPQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:25:38.1117280+01:00 0HMEND6T0LNPQ:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:25:38.1399790+01:00 0HMEND6T0LNPQ:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:25:38.1777770+01:00 0HMEND6T0LNPQ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:25:38.1923670+01:00 0HMEND6T0LNPQ:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:38.4360480+01:00 0HMEND6T0LNPQ:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:25:38.4584900+01:00 0HMEND6T0LNPQ:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 346.6486ms (afa2e885)
2022-01-14T15:25:38.4585820+01:00 0HMEND6T0LNPQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:25:38.4592450+01:00 0HMEND6T0LNPQ:00000003 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"fbdd5be2-d556-df72-0d96-262b0b7968c6" (1d7cf8c0)
2022-01-14T15:25:38.4601570+01:00 0HMEND6T0LNPQ:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 393.1317ms (791a596a)
2022-01-14T15:25:40.5918530+01:00 0HMEND6T0LNPQ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:25:40.6222900+01:00 0HMEND6T0LNPQ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:25:40.6224380+01:00 0HMEND6T0LNPQ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:25:40.6300340+01:00 0HMEND6T0LNPQ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:25:40.7085570+01:00 0HMEND6T0LNPQ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:25:40.7453420+01:00 0HMEND6T0LNPQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:25:41.1335100+01:00 0HMEND6T0LNPQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:25:41.1928250+01:00 0HMEND6T0LNPQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:25:41.2773390+01:00 0HMEND6T0LNPQ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 647.1465ms (afa2e885)
2022-01-14T15:25:41.2801850+01:00 0HMEND6T0LNPQ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:25:41.3436250+01:00 0HMEND6T0LNPQ:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 39
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:25:41.3853990+01:00 0HMEND6T0LNPQ:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 793.9503ms (791a596a)
2022-01-14T15:27:55.4013160+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:28:02.0161650+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:28:02.4684550+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:28:02.7483100+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:28:02.7571620+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:28:02.9581670+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:03.0857720+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:28:03.1109460+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:03.1114290+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:28:03.1142700+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:03.1144730+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:28:03.1367590+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:28:03.1559110+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:03.2303660+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:03.4466690+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:28:03.4467630+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:28:03.4470720+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:28:03.4471760+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:28:03.4472530+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:28:06.4835840+01:00 0HMEND8ABNLAM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:28:06.5661050+01:00 0HMEND8ABNLAM:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:28:06.5672420+01:00 0HMEND8ABNLAM:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:28:06.5900420+01:00 0HMEND8ABNLAM:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:28:06.5963330+01:00 0HMEND8ABNLAM:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:28:06.6259200+01:00 0HMEND8ABNLAM:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:28:06.6345940+01:00 0HMEND8ABNLAM:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 36.1222ms (afa2e885)
2022-01-14T15:28:06.6355350+01:00 0HMEND8ABNLAM:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:28:06.6437670+01:00 0HMEND8ABNLAM:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 162.7122ms (791a596a)
2022-01-14T15:28:06.6483080+01:00 0HMEND8ABNLAM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:28:06.6512510+01:00 0HMEND8ABNLAM:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:28:06.6534940+01:00 0HMEND8ABNLAM:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:28:06.6560330+01:00 0HMEND8ABNLAM:00000003 [INF] Index viewed (84b92a55)
2022-01-14T15:28:06.6586890+01:00 0HMEND8ABNLAM:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:28:06.6725650+01:00 0HMEND8ABNLAM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:28:06.6913200+01:00 0HMEND8ABNLAM:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:28:06.7424100+01:00 0HMEND8ABNLAM:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:28:06.7909660+01:00 0HMEND8ABNLAM:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:28:06.9554330+01:00 0HMEND8ABNLAM:00000003 [INF] Executed ViewResult - view "Index" executed in 222.0779ms. (f66409e9)
2022-01-14T15:28:06.9555520+01:00 0HMEND8ABNLAM:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 301.9596ms (afa2e885)
2022-01-14T15:28:06.9556030+01:00 0HMEND8ABNLAM:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:28:06.9606760+01:00 0HMEND8ABNLAM:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 312.3391ms (791a596a)
2022-01-14T15:28:13.5405180+01:00 0HMEND8ABNLAM:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:28:13.5688050+01:00 0HMEND8ABNLAM:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:28:13.5689500+01:00 0HMEND8ABNLAM:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:28:13.5884560+01:00 0HMEND8ABNLAM:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:28:13.6162100+01:00 0HMEND8ABNLAM:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:28:13.6508200+01:00 0HMEND8ABNLAM:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:28:13.6617380+01:00 0HMEND8ABNLAM:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:13.8251530+01:00 0HMEND8ABNLAM:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:28:13.8434400+01:00 0HMEND8ABNLAM:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 254.8025ms (afa2e885)
2022-01-14T15:28:13.8435490+01:00 0HMEND8ABNLAM:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:28:13.8445010+01:00 0HMEND8ABNLAM:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"414b4b7d-ff5e-04e5-510f-ed7efc3a9749" (1d7cf8c0)
2022-01-14T15:28:13.8452470+01:00 0HMEND8ABNLAM:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 305.0025ms (791a596a)
2022-01-14T15:28:14.1795140+01:00 0HMEND8ABNLAM:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:28:14.1811750+01:00 0HMEND8ABNLAM:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:28:14.1814220+01:00 0HMEND8ABNLAM:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:28:14.1815740+01:00 0HMEND8ABNLAM:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:28:14.1835150+01:00 0HMEND8ABNLAM:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:28:14.1852920+01:00 0HMEND8ABNLAM:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:14.2555710+01:00 0HMEND8ABNLAM:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:28:14.2558740+01:00 0HMEND8ABNLAM:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 74.2269ms (afa2e885)
2022-01-14T15:28:14.2559500+01:00 0HMEND8ABNLAM:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:28:14.2563580+01:00 0HMEND8ABNLAM:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 76.8649ms (791a596a)
2022-01-14T15:28:16.0758460+01:00 0HMEND8ABNLAM:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:28:16.0770520+01:00 0HMEND8ABNLAM:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:28:16.0771330+01:00 0HMEND8ABNLAM:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:28:16.0772980+01:00 0HMEND8ABNLAM:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:28:16.0833620+01:00 0HMEND8ABNLAM:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:28:16.1318350+01:00 0HMEND8ABNLAM:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:28:16.4251670+01:00 0HMEND8ABNLAM:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:28:16.4725820+01:00 0HMEND8ABNLAM:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:28:16.4759050+01:00 0HMEND8ABNLAM:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:28:16.5193720+01:00 0HMEND8ABNLAM:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 442.0109ms (afa2e885)
2022-01-14T15:28:16.5205850+01:00 0HMEND8ABNLAM:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:28:16.5612250+01:00 0HMEND8ABNLAM:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 39
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:28:16.5948210+01:00 0HMEND8ABNLAM:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 519.0166ms (791a596a)
2022-01-14T15:38:14.4842490+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:38:31.8719240+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:38:32.7476920+01:00  [INF] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:38:33.4663040+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:38:33.4862420+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:38:33.9151580+01:00  [INF] Executed DbCommand ("53"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:34.1007570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:38:34.1387430+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:34.1597100+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:38:34.1903840+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:34.1912850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:38:34.2794100+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:38:34.3407120+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:34.5365880+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:35.0638760+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:38:35.0641550+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:38:35.0646540+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:38:35.0647770+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:38:35.0648680+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:38:36.3551830+01:00 0HMENDE62AJG9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:38:36.4659500+01:00 0HMENDE62AJG9:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:38:36.4932140+01:00 0HMENDE62AJG9:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:38:36.4968230+01:00 0HMENDE62AJG9:00000002 [INF] Index viewed (84b92a55)
2022-01-14T15:38:36.5001340+01:00 0HMENDE62AJG9:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:38:36.5160950+01:00 0HMENDE62AJG9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:38:36.5403280+01:00 0HMENDE62AJG9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:38:36.6104780+01:00 0HMENDE62AJG9:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:38:36.7062910+01:00 0HMENDE62AJG9:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:38:36.9395630+01:00 0HMENDE62AJG9:00000002 [INF] Executed ViewResult - view "Index" executed in 329.4749ms. (f66409e9)
2022-01-14T15:38:36.9401610+01:00 0HMENDE62AJG9:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 446.3343ms (afa2e885)
2022-01-14T15:38:36.9410090+01:00 0HMENDE62AJG9:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:38:36.9506660+01:00 0HMENDE62AJG9:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 600.7133ms (791a596a)
2022-01-14T15:38:40.3537760+01:00 0HMENDE62AJG9:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:38:40.3756360+01:00 0HMENDE62AJG9:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:38:40.3768440+01:00 0HMENDE62AJG9:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:38:40.3963830+01:00 0HMENDE62AJG9:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:38:40.4259170+01:00 0HMENDE62AJG9:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:38:40.4668620+01:00 0HMENDE62AJG9:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:38:40.4822710+01:00 0HMENDE62AJG9:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:40.6394530+01:00 0HMENDE62AJGA:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:38:40.6622920+01:00 0HMENDE62AJGA:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:38:40.6625700+01:00 0HMENDE62AJGA:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:38:40.6629150+01:00 0HMENDE62AJGA:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:38:40.6641260+01:00 0HMENDE62AJGA:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:38:40.6645230+01:00 0HMENDE62AJGA:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:38:40.6674240+01:00 0HMENDE62AJGA:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:40.7409380+01:00 0HMENDE62AJGA:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:38:40.7409550+01:00 0HMENDE62AJG9:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:38:40.7634480+01:00 0HMENDE62AJGA:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 100.4182ms (afa2e885)
2022-01-14T15:38:40.7634480+01:00 0HMENDE62AJG9:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 366.9426ms (afa2e885)
2022-01-14T15:38:40.7635740+01:00 0HMENDE62AJG9:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:38:40.7635740+01:00 0HMENDE62AJGA:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:38:40.7643730+01:00 0HMENDE62AJGA:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"e04fa1c6-9b29-0e72-3333-b1fb0f445045" (1d7cf8c0)
2022-01-14T15:38:40.7643680+01:00 0HMENDE62AJG9:00000003 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"a4bc822d-f670-f9a6-6533-d3a89a51144e" (1d7cf8c0)
2022-01-14T15:38:40.7656120+01:00 0HMENDE62AJGA:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 126.1067ms (791a596a)
2022-01-14T15:38:40.7655990+01:00 0HMENDE62AJG9:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 411.8668ms (791a596a)
2022-01-14T15:38:42.6964330+01:00 0HMENDE62AJGA:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:38:42.6997100+01:00 0HMENDE62AJGA:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:38:42.7001480+01:00 0HMENDE62AJGA:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:38:42.7091330+01:00 0HMENDE62AJGA:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:38:42.7964470+01:00 0HMENDE62AJGA:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:38:42.8346120+01:00 0HMENDE62AJGA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:38:43.2162080+01:00 0HMENDE62AJGA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:38:43.2637600+01:00 0HMENDE62AJGA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:38:43.4231280+01:00 0HMENDE62AJGA:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 713.8569ms (afa2e885)
2022-01-14T15:38:43.4248700+01:00 0HMENDE62AJGA:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:38:43.4826010+01:00 0HMENDE62AJGA:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Syncfusion.Pdf.PdfException: Blink files are missing at /BlinkBinariesWindows/
   at Syncfusion.HtmlConverter.BlinkConverter.Convert(String url)
   at Syncfusion.HtmlConverter.BlinkConverter.Convert(String htmlString, String baseurl)
   at Syncfusion.HtmlConverter.HtmlToPdfConverter.Convert(String html, String baseurl)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 45
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 57
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:38:43.5543730+01:00 0HMENDE62AJGA:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 858.5895ms (791a596a)
2022-01-14T15:40:08.7384280+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:40:22.1361590+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:40:22.9447940+01:00  [INF] Executed DbCommand ("57"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:40:23.4630620+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:40:23.4857290+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:40:24.1889730+01:00  [INF] Executed DbCommand ("139"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:24.6016670+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:40:24.6572430+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:24.6953960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:40:24.7460380+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:24.7495960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:40:24.8251810+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:40:24.8954000+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:25.1306040+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:25.6563120+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:40:25.6565630+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:40:25.6569120+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:40:25.6570180+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:40:25.6571000+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:40:27.8175790+01:00 0HMENDF78NG0R:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:40:27.9236440+01:00 0HMENDF78NG0R:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:40:27.9504310+01:00 0HMENDF78NG0R:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:40:27.9539790+01:00 0HMENDF78NG0R:00000002 [INF] Index viewed (84b92a55)
2022-01-14T15:40:27.9570460+01:00 0HMENDF78NG0R:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:40:27.9774520+01:00 0HMENDF78NG0R:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:40:27.9987810+01:00 0HMENDF78NG0R:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:40:28.0618750+01:00 0HMENDF78NG0R:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:40:28.1596590+01:00 0HMENDF78NG0R:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:40:28.3915940+01:00 0HMENDF78NG0R:00000002 [INF] Executed ViewResult - view "Index" executed in 326.2655ms. (f66409e9)
2022-01-14T15:40:28.3925680+01:00 0HMENDF78NG0R:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 441.059ms (afa2e885)
2022-01-14T15:40:28.3942470+01:00 0HMENDF78NG0R:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:40:28.4064850+01:00 0HMENDF78NG0R:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 592.9628ms (791a596a)
2022-01-14T15:40:32.1109610+01:00 0HMENDF78NG0R:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:40:32.1345090+01:00 0HMENDF78NG0R:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:40:32.1358330+01:00 0HMENDF78NG0R:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:40:32.1557940+01:00 0HMENDF78NG0R:00000003 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:40:32.1825950+01:00 0HMENDF78NG0R:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:40:32.2250960+01:00 0HMENDF78NG0R:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:40:32.2425060+01:00 0HMENDF78NG0R:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:32.5571320+01:00 0HMENDF78NG0R:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:40:32.5853810+01:00 0HMENDF78NG0R:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 429.4027ms (afa2e885)
2022-01-14T15:40:32.5854780+01:00 0HMENDF78NG0R:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:40:32.5862520+01:00 0HMENDF78NG0R:00000003 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"83f82942-bef6-17c1-c230-c13374e00a91" (1d7cf8c0)
2022-01-14T15:40:32.5872600+01:00 0HMENDF78NG0R:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 476.4954ms (791a596a)
2022-01-14T15:40:32.7087630+01:00 0HMENDF78NG0R:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:40:32.7364920+01:00 0HMENDF78NG0R:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:40:32.7366690+01:00 0HMENDF78NG0R:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:40:32.7368560+01:00 0HMENDF78NG0R:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:40:32.7389820+01:00 0HMENDF78NG0R:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:40:32.7417730+01:00 0HMENDF78NG0R:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:32.8190360+01:00 0HMENDF78NG0R:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:40:32.8194290+01:00 0HMENDF78NG0R:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 82.4741ms (afa2e885)
2022-01-14T15:40:32.8194910+01:00 0HMENDF78NG0R:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:40:32.8199640+01:00 0HMENDF78NG0R:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 111.1803ms (791a596a)
2022-01-14T15:40:34.3651320+01:00 0HMENDF78NG0R:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:40:34.3673410+01:00 0HMENDF78NG0R:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:40:34.3679390+01:00 0HMENDF78NG0R:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:40:34.3773550+01:00 0HMENDF78NG0R:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:40:34.3887300+01:00 0HMENDF78NG0R:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:40:34.4282470+01:00 0HMENDF78NG0R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:40:34.8375270+01:00 0HMENDF78NG0R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:40:34.8957910+01:00 0HMENDF78NG0R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:40:34.8992810+01:00 0HMENDF78NG0R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:40:35.7470050+01:00 0HMENDF78NG0R:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1369.5678ms (afa2e885)
2022-01-14T15:40:35.7500860+01:00 0HMENDF78NG0R:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:40:35.8008560+01:00 0HMENDF78NG0R:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
IronPdf.Exceptions.IronPdfProductException: Error while locating deployment configuration file at '/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/bin/Debug/net5.0/runtimes/osx-x64/native/IronPdf.Native.Chrome.deployment.json'
   at IronPdf.Engines.Chrome.ChromeClient.Create()
   at IronPdf.Engines.Chrome.ChromeClient.<>c.<.cctor>b__9_0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at IronPdf.Engines.Chrome.ChromeClient.get_Instance()
   at .RenderPdfDocumentFromStringSnippet(ChromePdfRenderOptions Options, ChromeHttpLoginCredentials Login, String Content)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 31
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 36
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:40:35.8763510+01:00 0HMENDF78NG0R:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1511.2407ms (791a596a)
2022-01-14T15:41:03.2413900+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:41:12.2751230+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:41:12.6705430+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:41:12.9365320+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:41:12.9452110+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:41:13.1611750+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:13.2568410+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:13.2756500+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:13.2761350+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:13.2787210+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:13.2789160+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:13.3014970+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:41:13.3216960+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:13.4085620+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:13.6366020+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:41:13.6367000+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:41:13.6368730+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:41:13.6369230+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:41:13.6370600+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:41:15.7261590+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:41:19.2450790+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:41:19.6721050+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:41:19.9442330+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:41:19.9529560+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:41:20.1700630+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:20.2704770+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:20.2934250+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:20.3009630+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:20.3070740+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:20.3074490+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:41:20.3370890+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:41:20.3610050+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:20.4458340+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:20.6746330+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:41:20.6746950+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:41:20.6748820+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:41:20.6750150+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:41:20.6750500+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:41:24.9125560+01:00 0HMENDFOA47MQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:41:25.0021250+01:00 0HMENDFOA47MQ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:41:25.0032500+01:00 0HMENDFOA47MQ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:41:25.0258520+01:00 0HMENDFOA47MQ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:41:25.0315850+01:00 0HMENDFOA47MQ:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:41:25.0639030+01:00 0HMENDFOA47MQ:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:41:25.0731450+01:00 0HMENDFOA47MQ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 38.3472ms (afa2e885)
2022-01-14T15:41:25.0741120+01:00 0HMENDFOA47MQ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:41:25.0835790+01:00 0HMENDFOA47MQ:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 173.7598ms (791a596a)
2022-01-14T15:41:25.0880000+01:00 0HMENDFOA47MQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:41:25.0912350+01:00 0HMENDFOA47MQ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:41:25.0931620+01:00 0HMENDFOA47MQ:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:41:25.0948760+01:00 0HMENDFOA47MQ:00000003 [INF] Index viewed (84b92a55)
2022-01-14T15:41:25.0973360+01:00 0HMENDFOA47MQ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:41:25.1127100+01:00 0HMENDFOA47MQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:41:25.1322540+01:00 0HMENDFOA47MQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:41:25.1869970+01:00 0HMENDFOA47MQ:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:41:25.2436410+01:00 0HMENDFOA47MQ:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:41:25.4361690+01:00 0HMENDFOA47MQ:00000003 [INF] Executed ViewResult - view "Index" executed in 258.8699ms. (f66409e9)
2022-01-14T15:41:25.4363260+01:00 0HMENDFOA47MQ:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 343.1046ms (afa2e885)
2022-01-14T15:41:25.4364040+01:00 0HMENDFOA47MQ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:41:25.4446900+01:00 0HMENDFOA47MQ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 356.5320ms (791a596a)
2022-01-14T15:41:29.3856170+01:00 0HMENDFOA47MQ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:41:29.4132370+01:00 0HMENDFOA47MQ:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:41:29.4133780+01:00 0HMENDFOA47MQ:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:41:29.4329520+01:00 0HMENDFOA47MQ:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:41:29.4611710+01:00 0HMENDFOA47MQ:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:41:29.4959900+01:00 0HMENDFOA47MQ:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:41:29.5069850+01:00 0HMENDFOA47MQ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:29.6711260+01:00 0HMENDFOA47MQ:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:41:29.6920860+01:00 0HMENDFOA47MQ:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 259.0111ms (afa2e885)
2022-01-14T15:41:29.6922690+01:00 0HMENDFOA47MQ:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:41:29.6931030+01:00 0HMENDFOA47MQ:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"cbece50c-cce6-3457-0914-0239d8d02405" (1d7cf8c0)
2022-01-14T15:41:29.6941740+01:00 0HMENDFOA47MQ:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 308.6588ms (791a596a)
2022-01-14T15:41:31.1999290+01:00 0HMENDFOA47MQ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:41:31.2028790+01:00 0HMENDFOA47MQ:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:41:31.2035270+01:00 0HMENDFOA47MQ:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:41:31.2038810+01:00 0HMENDFOA47MQ:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:41:31.2878700+01:00 0HMENDFOA47MQ:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:41:31.3170230+01:00 0HMENDFOA47MQ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:41:31.6702880+01:00 0HMENDFOA47MQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:41:31.7189280+01:00 0HMENDFOA47MQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:41:32.3647100+01:00 0HMENDFOA47MQ:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1160.6275ms (afa2e885)
2022-01-14T15:41:32.3665230+01:00 0HMENDFOA47MQ:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:41:32.4034590+01:00 0HMENDFOA47MQ:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
IronPdf.Exceptions.IronPdfProductException: Error while locating deployment configuration file at '/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/bin/Debug/net5.0/runtimes/osx-x64/native/IronPdf.Native.Chrome.deployment.json'
   at IronPdf.Engines.Chrome.ChromeClient.Create()
   at IronPdf.Engines.Chrome.ChromeClient.<>c.<.cctor>b__9_0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at IronPdf.Engines.Chrome.ChromeClient.get_Instance()
   at .RenderPdfDocumentFromStringSnippet(ChromePdfRenderOptions Options, ChromeHttpLoginCredentials Login, String Content)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 31
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 36
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:41:32.4467100+01:00 0HMENDFOA47MQ:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1247.0058ms (791a596a)
2022-01-14T15:42:25.1689240+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:42:33.7155790+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:42:34.1058570+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:42:34.3210110+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:42:34.3279350+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:42:34.4939450+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:42:34.5729970+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:42:34.5936050+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:42:34.5991500+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:42:34.6035870+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:42:34.6039600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:42:34.6256510+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:42:34.6466270+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:42:34.7269390+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:42:34.9129170+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:42:34.9130600+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:42:34.9132210+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:42:34.9132520+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:42:34.9132650+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:43:22.1331340+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T15:43:31.2308780+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:43:31.6536310+01:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T15:43:31.9225620+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:43:31.9307980+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:43:32.1624330+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:32.2591090+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:43:32.2844820+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:32.2924120+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:43:32.2992770+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:32.2995530+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T15:43:32.3276210+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T15:43:32.3514080+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:32.4294930+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:32.6885460+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T15:43:32.6887790+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T15:43:32.6892370+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T15:43:32.6893530+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T15:43:32.6895050+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T15:43:48.8165460+01:00 0HMENDH36G81G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:43:48.9018730+01:00 0HMENDH36G81G:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:43:48.9032770+01:00 0HMENDH36G81G:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:43:48.9251960+01:00 0HMENDH36G81G:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:43:48.9310500+01:00 0HMENDH36G81G:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:43:48.9592790+01:00 0HMENDH36G81G:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T15:43:48.9672590+01:00 0HMENDH36G81G:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 34.3854ms (afa2e885)
2022-01-14T15:43:48.9679340+01:00 0HMENDH36G81G:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:43:48.9762510+01:00 0HMENDH36G81G:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 162.3253ms (791a596a)
2022-01-14T15:43:48.9809170+01:00 0HMENDH36G81G:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T15:43:48.9835540+01:00 0HMENDH36G81G:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:43:48.9856140+01:00 0HMENDH36G81G:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:43:48.9876680+01:00 0HMENDH36G81G:00000003 [INF] Index viewed (84b92a55)
2022-01-14T15:43:48.9902020+01:00 0HMENDH36G81G:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:43:49.0023550+01:00 0HMENDH36G81G:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T15:43:49.0195520+01:00 0HMENDH36G81G:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T15:43:49.0664760+01:00 0HMENDH36G81G:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T15:43:49.1168930+01:00 0HMENDH36G81G:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:43:49.3110090+01:00 0HMENDH36G81G:00000003 [INF] Executed ViewResult - view "Index" executed in 252.1635ms. (f66409e9)
2022-01-14T15:43:49.3112940+01:00 0HMENDH36G81G:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 325.5969ms (afa2e885)
2022-01-14T15:43:49.3113700+01:00 0HMENDH36G81G:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:43:49.3189760+01:00 0HMENDH36G81G:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 338.0114ms (791a596a)
2022-01-14T15:43:51.8621320+01:00 0HMENDH36G81G:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:43:51.8886030+01:00 0HMENDH36G81G:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:43:51.8888520+01:00 0HMENDH36G81G:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:43:51.9087490+01:00 0HMENDH36G81G:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:43:51.9344430+01:00 0HMENDH36G81G:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:43:51.9721090+01:00 0HMENDH36G81G:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:43:51.9824260+01:00 0HMENDH36G81G:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:52.0183710+01:00 0HMENDH36G81F:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T15:43:52.0195820+01:00 0HMENDH36G81F:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:43:52.0198020+01:00 0HMENDH36G81F:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:43:52.0199480+01:00 0HMENDH36G81F:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:43:52.0216360+01:00 0HMENDH36G81F:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T15:43:52.0220490+01:00 0HMENDH36G81F:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:43:52.0239940+01:00 0HMENDH36G81F:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:52.1735950+01:00 0HMENDH36G81F:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:43:52.1735950+01:00 0HMENDH36G81G:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T15:43:52.1935740+01:00 0HMENDH36G81G:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 284.7239ms (afa2e885)
2022-01-14T15:43:52.1935740+01:00 0HMENDH36G81F:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 173.5096ms (afa2e885)
2022-01-14T15:43:52.1936940+01:00 0HMENDH36G81G:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:43:52.1937090+01:00 0HMENDH36G81F:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:43:52.1945870+01:00 0HMENDH36G81G:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"550ca748-6c79-0862-9dbf-1c998acd400c" (1d7cf8c0)
2022-01-14T15:43:52.1946800+01:00 0HMENDH36G81F:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"2c8f3f11-6f98-7d35-0800-38cab2efae94" (1d7cf8c0)
2022-01-14T15:43:52.1958820+01:00 0HMENDH36G81G:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 333.8569ms (791a596a)
2022-01-14T15:43:52.1958830+01:00 0HMENDH36G81F:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 177.4733ms (791a596a)
2022-01-14T15:43:53.8623920+01:00 0HMENDH36G81F:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T15:43:53.8635780+01:00 0HMENDH36G81F:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T15:43:53.8636700+01:00 0HMENDH36G81F:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T15:43:53.8637960+01:00 0HMENDH36G81F:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T15:43:53.9500680+01:00 0HMENDH36G81F:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T15:43:53.9809040+01:00 0HMENDH36G81F:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T15:43:54.3106280+01:00 0HMENDH36G81F:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:43:54.3556500+01:00 0HMENDH36G81F:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T15:43:55.0733610+01:00 0HMENDH36G81F:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1209.4999ms (afa2e885)
2022-01-14T15:43:55.0747480+01:00 0HMENDH36G81F:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T15:43:55.1100690+01:00 0HMENDH36G81F:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
IronPdf.Exceptions.IronPdfProductException: Error while locating deployment configuration file at '/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/bin/Debug/net5.0/runtimes/osx-x64/native/IronPdf.Native.Chrome.deployment.json'
   at IronPdf.Engines.Chrome.ChromeClient.Create()
   at IronPdf.Engines.Chrome.ChromeClient.<>c.<.cctor>b__9_0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at IronPdf.Engines.Chrome.ChromeClient.get_Instance()
   at .RenderPdfDocumentFromStringSnippet(ChromePdfRenderOptions Options, ChromeHttpLoginCredentials Login, String Content)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 31
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 36
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T15:43:55.1595790+01:00 0HMENDH36G81F:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1297.2169ms (791a596a)
2022-01-14T16:10:34.5606970+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:16:56.6717290+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:16:57.2836320+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:16:57.6349140+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:16:57.6450900+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:16:57.9152080+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:16:58.0383680+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:16:58.0849340+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:16:58.1002610+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:16:58.1111370+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:16:58.1119510+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:16:58.1646290+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:16:58.2087030+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:16:58.3629810+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:16:58.7343580+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:16:58.7344560+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:16:58.7346610+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:16:58.7347270+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:16:58.7347540+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:17:00.7560530+01:00 0HMENE3KFLPI4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:17:00.8919940+01:00 0HMENE3KFLPI4:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:00.9239190+01:00 0HMENE3KFLPI4:00000002 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:00.9283950+01:00 0HMENE3KFLPI4:00000002 [INF] Index viewed (84b92a55)
2022-01-14T16:17:00.9317460+01:00 0HMENE3KFLPI4:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:17:00.9524390+01:00 0HMENE3KFLPI4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:17:00.9736160+01:00 0HMENE3KFLPI4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:17:01.0361390+01:00 0HMENE3KFLPI4:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:17:01.1339650+01:00 0HMENE3KFLPI4:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:17:01.3365220+01:00 0HMENE3KFLPI4:00000002 [INF] Executed ViewResult - view "Index" executed in 300.2545ms. (f66409e9)
2022-01-14T16:17:01.3375900+01:00 0HMENE3KFLPI4:00000002 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 412.5148ms (afa2e885)
2022-01-14T16:17:01.3387650+01:00 0HMENE3KFLPI4:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:01.3473370+01:00 0HMENE3KFLPI4:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 596.2368ms (791a596a)
2022-01-14T16:17:03.7294730+01:00 0HMENE3KFLPI4:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:17:03.7424000+01:00 0HMENE3KFLPI4:00000003 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)" (d3883ae7)
2022-01-14T16:17:03.7532720+01:00 0HMENE3KFLPI4:00000003 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2022-01-14T16:17:03.7538500+01:00 0HMENE3KFLPI4:00000003 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 401 0 - 24.4040ms (791a596a)
2022-01-14T16:17:04.9232020+01:00 0HMENE3KFLPI4:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/Privacy - - (ca22a1cb)
2022-01-14T16:17:04.9290510+01:00 0HMENE3KFLPI4:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:04.9322980+01:00 0HMENE3KFLPI4:00000004 [INF] Route matched with "{action = \"Privacy\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Privacy()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:04.9391490+01:00 0HMENE3KFLPI4:00000004 [INF] Executing ViewResult, running view "Privacy". (c83d0e25)
2022-01-14T16:17:04.9490540+01:00 0HMENE3KFLPI4:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:17:04.9515240+01:00 0HMENE3KFLPI4:00000004 [INF] Executed ViewResult - view "Privacy" executed in 14.74ms. (f66409e9)
2022-01-14T16:17:04.9517690+01:00 0HMENE3KFLPI4:00000004 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)" in 19.3724ms (afa2e885)
2022-01-14T16:17:04.9518450+01:00 0HMENE3KFLPI4:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Privacy (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:04.9521480+01:00 0HMENE3KFLPI4:00000004 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Home/Privacy - - - 200 - text/html;+charset=utf-8 28.9139ms (791a596a)
2022-01-14T16:17:05.9655270+01:00 0HMENE3KFLPI4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - (ca22a1cb)
2022-01-14T16:17:05.9663080+01:00 0HMENE3KFLPI4:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:05.9692320+01:00 0HMENE3KFLPI4:00000005 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:05.9756330+01:00 0HMENE3KFLPI4:00000005 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2022-01-14T16:17:06.0328420+01:00 0HMENE3KFLPI4:00000005 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:17:06.0356560+01:00 0HMENE3KFLPI4:00000005 [INF] Executed ViewResult - view "Login" executed in 61.8951ms. (f66409e9)
2022-01-14T16:17:06.0357290+01:00 0HMENE3KFLPI4:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 66.3681ms (afa2e885)
2022-01-14T16:17:06.0357660+01:00 0HMENE3KFLPI4:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:06.0359500+01:00 0HMENE3KFLPI4:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Security/Account/Login - - - 200 - text/html;+charset=utf-8 70.7002ms (791a596a)
2022-01-14T16:17:07.1760760+01:00 0HMENE3KFLPI4:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 (ca22a1cb)
2022-01-14T16:17:07.1786260+01:00 0HMENE3KFLPI4:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:07.2076450+01:00 0HMENE3KFLPI4:00000006 [INF] Route matched with "{area = \"Security\", action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Salek.EShop.Web.Models.ViewModels.LoginViewModel)" on controller "Salek.EShop.Web.Areas.Security.Controllers.AccountController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:07.2920700+01:00 0HMENE3KFLPI4:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:17:07.2953130+01:00 0HMENE3KFLPI4:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:17:07.4977720+01:00 0HMENE3KFLPI4:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`ClaimType`, `u`.`ClaimValue`, `u`.`UserId`
FROM `UserClaims` AS `u`
WHERE `u`.`UserId` = @__user_Id_0" (0723d8ff)
2022-01-14T16:17:07.5644510+01:00 0HMENE3KFLPI4:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Name`
FROM `UserRoles` AS `u`
INNER JOIN `Roles` AS `r` ON `u`.`RoleId` = `r`.`Id`
WHERE `u`.`UserId` = @__userId_0" (0723d8ff)
2022-01-14T16:17:07.5711410+01:00 0HMENE3KFLPI4:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:17:07.5836900+01:00 0HMENE3KFLPI4:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`ClaimType`, `r`.`ClaimValue`
FROM `RoleClaims` AS `r`
WHERE `r`.`RoleId` = @__role_Id_0" (0723d8ff)
2022-01-14T16:17:07.6013000+01:00 0HMENE3KFLPI4:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2022-01-14T16:17:07.6129010+01:00 0HMENE3KFLPI4:00000006 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:17:07.6153170+01:00 0HMENE3KFLPI4:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)" in 407.5644ms (afa2e885)
2022-01-14T16:17:07.6164420+01:00 0HMENE3KFLPI4:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Security.Controllers.AccountController.Login (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:07.6212520+01:00 0HMENE3KFLPI4:00000006 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Security/Account/Login application/x-www-form-urlencoded 215 - 302 0 - 445.3094ms (791a596a)
2022-01-14T16:17:07.6243330+01:00 0HMENE3KFLPI4:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:17:07.6294540+01:00 0HMENE3KFLPI4:00000007 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:07.6296090+01:00 0HMENE3KFLPI4:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:07.6297080+01:00 0HMENE3KFLPI4:00000007 [INF] Index viewed (84b92a55)
2022-01-14T16:17:07.6299630+01:00 0HMENE3KFLPI4:00000007 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:17:07.6310460+01:00 0HMENE3KFLPI4:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:17:07.6323180+01:00 0HMENE3KFLPI4:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:17:07.6328170+01:00 0HMENE3KFLPI4:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:17:07.6332660+01:00 0HMENE3KFLPI4:00000007 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:17:07.6399940+01:00 0HMENE3KFLPI4:00000007 [INF] Executed ViewResult - view "Index" executed in 7.1924ms. (f66409e9)
2022-01-14T16:17:07.6401080+01:00 0HMENE3KFLPI4:00000007 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 10.4427ms (afa2e885)
2022-01-14T16:17:07.6401580+01:00 0HMENE3KFLPI4:00000007 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:07.6403980+01:00 0HMENE3KFLPI4:00000007 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 16.0022ms (791a596a)
2022-01-14T16:17:10.5146260+01:00 0HMENE3KFLPI4:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:17:10.5275680+01:00 0HMENE3KFLPI4:00000008 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:17:10.5278070+01:00 0HMENE3KFLPI4:00000008 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:10.5301500+01:00 0HMENE3KFLPI4:00000008 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:10.5372800+01:00 0HMENE3KFLPI4:00000008 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:17:10.5391190+01:00 0HMENE3KFLPI4:00000008 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:17:10.5475230+01:00 0HMENE3KFLPI4:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:17:10.7603830+01:00 0HMENE3KFLPI4:00000008 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:17:10.7797610+01:00 0HMENE3KFLPI4:00000008 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 249.4995ms (afa2e885)
2022-01-14T16:17:10.7798400+01:00 0HMENE3KFLPI4:00000008 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:10.7805610+01:00 0HMENE3KFLPI4:00000008 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"c3ce7b13-6215-ca2a-941d-1c58fed614ba" (1d7cf8c0)
2022-01-14T16:17:10.7816240+01:00 0HMENE3KFLPI4:00000008 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 266.9798ms (791a596a)
2022-01-14T16:17:12.3858610+01:00 0HMENE3KFLPI4:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:17:12.4050660+01:00 0HMENE3KFLPI4:00000009 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:17:12.4055150+01:00 0HMENE3KFLPI4:00000009 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:17:12.4120300+01:00 0HMENE3KFLPI4:00000009 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:17:12.4849690+01:00 0HMENE3KFLPI4:00000009 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:17:12.5023640+01:00 0HMENE3KFLPI4:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:17:12.8315000+01:00 0HMENE3KFLPI4:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:17:12.8831510+01:00 0HMENE3KFLPI4:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:17:13.6956730+01:00 0HMENE3KFLPI4:00000009 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1283.5228ms (afa2e885)
2022-01-14T16:17:13.6958530+01:00 0HMENE3KFLPI4:00000009 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:17:13.7430590+01:00 0HMENE3KFLPI4:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/%3Chtml%3E%3Chead%3E%3C/head%3E%3Cbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class=%22table%20table-clear%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class=%22left%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3ETotal%20Price%3C/strong%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%3C/body%3E%3C/html%3E' could not be found.
 ---> Aspose.Html.Dom.DOMException: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/%3Chtml%3E%3Chead%3E%3C/head%3E%3Cbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class=%22table%20table-clear%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class=%22left%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3ETotal%20Price%3C/strong%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%3C/body%3E%3C/html%3E' could not be found.
   at    . [T](UInt16 , String , String , Object[] )
   at    .(UInt16 , String , String , Object[] )
   at    .(String , Object[] )
   at Aspose.Html.Dom.Document. ..()
   at    .()
   --- End of inner exception stack trace ---
   at    .       (Boolean )
   at Aspose.Html.Dom.Document.( )
   at Aspose.Html.Dom.Document..ctor(IDocumentInit documentInit)
   at Aspose.Html.HTMLDocument..ctor(RequestMessage , Configuration , Byte )
   at Aspose.Html.HTMLDocument..ctor(Url url, Configuration configuration)
   at Aspose.Html.HTMLDocument..ctor(Url url)
   at Aspose.Html.HTMLDocument..ctor(String address)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 51
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 58
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:17:13.8264990+01:00 0HMENE3KFLPI4:00000009 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1440.6870ms (791a596a)
2022-01-14T16:17:59.8747400+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:18:07.2885830+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:18:07.7486740+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:18:08.0239300+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:18:08.0319730+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:18:08.2587340+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:08.3619770+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:18:08.3962640+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:08.4082020+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:18:08.4147700+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:08.4151170+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:18:08.4446460+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:18:08.4656100+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:08.5620850+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:08.8054500+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:18:08.8055540+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:18:08.8056950+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:18:08.8057280+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:18:08.8057630+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:18:14.0368870+01:00 0HMENE4AM0AOE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:18:14.1358380+01:00 0HMENE4AM0AOE:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:18:14.1375250+01:00 0HMENE4AM0AOE:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:18:14.1680490+01:00 0HMENE4AM0AOE:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:18:14.1746600+01:00 0HMENE4AM0AOE:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:18:14.2065400+01:00 0HMENE4AM0AOE:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:18:14.2153340+01:00 0HMENE4AM0AOE:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 38.7711ms (afa2e885)
2022-01-14T16:18:14.2160780+01:00 0HMENE4AM0AOE:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:18:14.2230130+01:00 0HMENE4AM0AOE:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 189.9454ms (791a596a)
2022-01-14T16:18:14.2268090+01:00 0HMENE4AM0AOE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:18:14.2301490+01:00 0HMENE4AM0AOE:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:18:14.2316390+01:00 0HMENE4AM0AOE:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:18:14.2332480+01:00 0HMENE4AM0AOE:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:18:14.2352430+01:00 0HMENE4AM0AOE:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:18:14.2486050+01:00 0HMENE4AM0AOE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:18:14.2630840+01:00 0HMENE4AM0AOE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:18:14.3089040+01:00 0HMENE4AM0AOE:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:18:14.3584590+01:00 0HMENE4AM0AOE:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:18:14.5237030+01:00 0HMENE4AM0AOE:00000003 [INF] Executed ViewResult - view "Index" executed in 222.4028ms. (f66409e9)
2022-01-14T16:18:14.5238320+01:00 0HMENE4AM0AOE:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 292.1335ms (afa2e885)
2022-01-14T16:18:14.5238940+01:00 0HMENE4AM0AOE:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:18:14.5301310+01:00 0HMENE4AM0AOE:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 303.2408ms (791a596a)
2022-01-14T16:18:17.7907070+01:00 0HMENE4AM0AOE:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:18:17.8195580+01:00 0HMENE4AM0AOE:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:18:17.8197130+01:00 0HMENE4AM0AOE:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:18:17.8405900+01:00 0HMENE4AM0AOE:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:18:17.8695060+01:00 0HMENE4AM0AOE:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:18:17.9127810+01:00 0HMENE4AM0AOE:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:18:17.9276820+01:00 0HMENE4AM0AOE:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:18.1538840+01:00 0HMENE4AM0AOE:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:18:18.1748220+01:00 0HMENE4AM0AOE:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 334.1288ms (afa2e885)
2022-01-14T16:18:18.1749270+01:00 0HMENE4AM0AOE:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:18:18.1758960+01:00 0HMENE4AM0AOE:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"fb86ed5e-c8df-d0f2-dd65-a22496563e63" (1d7cf8c0)
2022-01-14T16:18:18.1769230+01:00 0HMENE4AM0AOE:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 386.2459ms (791a596a)
2022-01-14T16:18:18.5596750+01:00 0HMENE4AM0AOE:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:18:18.5620870+01:00 0HMENE4AM0AOE:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:18:18.5626150+01:00 0HMENE4AM0AOE:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:18:18.5630110+01:00 0HMENE4AM0AOE:00000005 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:18:18.5660980+01:00 0HMENE4AM0AOE:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:18:18.5692180+01:00 0HMENE4AM0AOE:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:18.6641440+01:00 0HMENE4AM0AOE:00000005 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:18:18.6646250+01:00 0HMENE4AM0AOE:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 101.3387ms (afa2e885)
2022-01-14T16:18:18.6646990+01:00 0HMENE4AM0AOE:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:18:18.6652820+01:00 0HMENE4AM0AOE:00000005 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 105.7533ms (791a596a)
2022-01-14T16:18:20.3478870+01:00 0HMENE4AM0AOE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:18:20.3491780+01:00 0HMENE4AM0AOE:00000006 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:18:20.3492600+01:00 0HMENE4AM0AOE:00000006 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:18:20.3493870+01:00 0HMENE4AM0AOE:00000006 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:18:20.3543870+01:00 0HMENE4AM0AOE:00000006 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:18:20.4005970+01:00 0HMENE4AM0AOE:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:18:20.6982990+01:00 0HMENE4AM0AOE:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:18:20.7456940+01:00 0HMENE4AM0AOE:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:18:20.7488670+01:00 0HMENE4AM0AOE:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:18:21.3638840+01:00 0HMENE4AM0AOE:00000006 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1014.4207ms (afa2e885)
2022-01-14T16:18:21.3657110+01:00 0HMENE4AM0AOE:00000006 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:18:21.4072800+01:00 0HMENE4AM0AOE:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Invoice.cshtml' could not be found.
 ---> Aspose.Html.Dom.DOMException: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Invoice.cshtml' could not be found.
   at    . [T](UInt16 , String , String , Object[] )
   at    .(UInt16 , String , String , Object[] )
   at    .(String , Object[] )
   at Aspose.Html.Dom.Document. ..()
   at    .()
   --- End of inner exception stack trace ---
   at    .       (Boolean )
   at Aspose.Html.Dom.Document.( )
   at Aspose.Html.Dom.Document..ctor(IDocumentInit documentInit)
   at Aspose.Html.HTMLDocument..ctor(RequestMessage , Configuration , Byte )
   at Aspose.Html.HTMLDocument..ctor(Url url, Configuration configuration)
   at Aspose.Html.HTMLDocument..ctor(Url url)
   at Aspose.Html.HTMLDocument..ctor(String address)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 51
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 58
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:18:21.4670550+01:00 0HMENE4AM0AOE:00000006 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1119.2040ms (791a596a)
2022-01-14T16:20:00.2983080+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:20:08.7396480+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:09.4341830+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:20:09.8150870+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:20:09.8280250+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:20:10.1024330+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:10.2345530+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:10.2750460+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:10.2909990+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:10.3161650+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:10.3192950+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:10.3558080+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:20:10.3900130+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:10.4881570+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:10.8441470+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:20:10.8442440+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:20:10.8445600+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:20:10.8446250+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:20:10.8446700+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:20:12.9168980+01:00 0HMENE5E3M9LJ:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:20:13.0181680+01:00 0HMENE5E3M9LJ:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:20:13.0196440+01:00 0HMENE5E3M9LJ:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:20:13.0668790+01:00 0HMENE5E3M9LJ:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:20:13.1210680+01:00 0HMENE5E3M9LJ:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:20:13.1270370+01:00 0HMENE5E3M9LJ:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:13.1672300+01:00 0HMENE5E3M9LJ:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:13.5060140+01:00 0HMENE5E3M9LJ:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:20:13.5509390+01:00 0HMENE5E3M9LJ:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 471.4139ms (afa2e885)
2022-01-14T16:20:13.5524700+01:00 0HMENE5E3M9LJ:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:20:13.5544470+01:00 0HMENE5E3M9LJ:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"6a9e5279-bd45-689c-13eb-278a88cb3129" (1d7cf8c0)
2022-01-14T16:20:13.5621820+01:00 0HMENE5E3M9LJ:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 648.5921ms (791a596a)
2022-01-14T16:20:14.7740400+01:00 0HMENE5E3M9LJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:20:14.7862400+01:00 0HMENE5E3M9LJ:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:20:14.7864490+01:00 0HMENE5E3M9LJ:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:20:14.7941300+01:00 0HMENE5E3M9LJ:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:20:14.9188400+01:00 0HMENE5E3M9LJ:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:14.9566100+01:00 0HMENE5E3M9LJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:15.3457520+01:00 0HMENE5E3M9LJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:20:15.3919090+01:00 0HMENE5E3M9LJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:20:16.0819880+01:00 0HMENE5E3M9LJ:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1287.6968ms (afa2e885)
2022-01-14T16:20:16.0836210+01:00 0HMENE5E3M9LJ:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:20:16.1463420+01:00 0HMENE5E3M9LJ:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/~/content/Template.html' could not be found.
 ---> Aspose.Html.Dom.DOMException: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/~/content/Template.html' could not be found.
   at    . [T](UInt16 , String , String , Object[] )
   at    .(UInt16 , String , String , Object[] )
   at    .(String , Object[] )
   at Aspose.Html.Dom.Document. ..()
   at    .()
   --- End of inner exception stack trace ---
   at    .       (Boolean )
   at Aspose.Html.Dom.Document.( )
   at Aspose.Html.Dom.Document..ctor(IDocumentInit documentInit)
   at Aspose.Html.HTMLDocument..ctor(RequestMessage , Configuration , Byte )
   at Aspose.Html.HTMLDocument..ctor(Url url, Configuration configuration)
   at Aspose.Html.HTMLDocument..ctor(Url url)
   at Aspose.Html.HTMLDocument..ctor(String address)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 51
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 58
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:20:16.2259670+01:00 0HMENE5E3M9LJ:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1451.9871ms (791a596a)
2022-01-14T16:20:37.8583090+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:20:45.0978060+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:45.5943870+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:20:45.8833160+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:20:45.8935130+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:20:46.1214080+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:46.2701810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:46.3008760+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:46.3016560+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:46.3059520+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:46.3062570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:20:46.3368160+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:20:46.3597270+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:46.4589030+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:46.6960800+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:20:46.6961960+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:20:46.6963980+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:20:46.6964350+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:20:46.6964840+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:20:51.8487410+01:00 0HMENE5OQ01JO:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:20:51.9372260+01:00 0HMENE5OQ01JO:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:20:51.9392090+01:00 0HMENE5OQ01JO:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:20:51.9835850+01:00 0HMENE5OQ01JO:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:20:52.0231230+01:00 0HMENE5OQ01JO:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:20:52.0301280+01:00 0HMENE5OQ01JO:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:52.1072730+01:00 0HMENE5OQ01JO:00000002 [INF] Executed DbCommand ("14"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:52.4111710+01:00 0HMENE5OQ01JN:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:20:52.4188360+01:00 0HMENE5OQ01JN:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:20:52.4189970+01:00 0HMENE5OQ01JN:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:20:52.4193020+01:00 0HMENE5OQ01JN:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:20:52.4214280+01:00 0HMENE5OQ01JN:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:20:52.4402060+01:00 0HMENE5OQ01JO:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:20:52.4850080+01:00 0HMENE5OQ01JN:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:52.4920010+01:00 0HMENE5OQ01JN:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:52.4931520+01:00 0HMENE5OQ01JN:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:20:52.4964860+01:00 0HMENE5OQ01JO:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 495.8785ms (afa2e885)
2022-01-14T16:20:52.4965590+01:00 0HMENE5OQ01JN:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 74.6557ms (afa2e885)
2022-01-14T16:20:52.4976410+01:00 0HMENE5OQ01JO:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:20:52.4977130+01:00 0HMENE5OQ01JN:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:20:52.4992620+01:00 0HMENE5OQ01JN:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"42f53674-ede0-9741-f686-3fb685272a47" (1d7cf8c0)
2022-01-14T16:20:52.4993670+01:00 0HMENE5OQ01JO:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"df2b24b8-f6d3-ea7a-aafc-48fe07c969b1" (1d7cf8c0)
2022-01-14T16:20:52.5088690+01:00 0HMENE5OQ01JN:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 96.9730ms (791a596a)
2022-01-14T16:20:52.5090250+01:00 0HMENE5OQ01JO:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 663.4940ms (791a596a)
2022-01-14T16:20:54.5269930+01:00 0HMENE5OQ01JO:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:20:54.5494720+01:00 0HMENE5OQ01JO:00000003 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:20:54.5498310+01:00 0HMENE5OQ01JO:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:20:54.5574040+01:00 0HMENE5OQ01JO:00000003 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:20:54.6279710+01:00 0HMENE5OQ01JO:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:20:54.6599580+01:00 0HMENE5OQ01JO:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:20:55.0185490+01:00 0HMENE5OQ01JO:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:20:55.0636550+01:00 0HMENE5OQ01JO:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:20:55.7200540+01:00 0HMENE5OQ01JO:00000003 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1162.5058ms (afa2e885)
2022-01-14T16:20:55.7217040+01:00 0HMENE5OQ01JO:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:20:55.7759210+01:00 0HMENE5OQ01JO:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: 'file:///wwwroot/content/Template.html' could not be found.
 ---> Aspose.Html.Dom.DOMException: 'file:///wwwroot/content/Template.html' could not be found.
   at    . [T](UInt16 , String , String , Object[] )
   at    .(UInt16 , String , String , Object[] )
   at    .(String , Object[] )
   at Aspose.Html.Dom.Document. ..()
   at    .()
   --- End of inner exception stack trace ---
   at    .       (Boolean )
   at Aspose.Html.Dom.Document.( )
   at Aspose.Html.Dom.Document..ctor(IDocumentInit documentInit)
   at Aspose.Html.HTMLDocument..ctor(RequestMessage , Configuration , Byte )
   at Aspose.Html.HTMLDocument..ctor(Url url, Configuration configuration)
   at Aspose.Html.HTMLDocument..ctor(Url url)
   at Aspose.Html.HTMLDocument..ctor(String address)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 51
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 58
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:20:55.8656840+01:00 0HMENE5OQ01JO:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1338.7551ms (791a596a)
2022-01-14T16:21:08.2265730+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:21:16.0025430+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:21:16.4297750+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:21:16.6929450+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:21:16.7026000+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:21:16.9444490+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:17.1066780+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:21:17.1504760+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:17.1513960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:21:17.1570190+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:17.1573850+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:21:17.2029330+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:21:17.2486120+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:17.4520060+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:17.8702020+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:21:17.8703140+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:21:17.8706050+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:21:17.8706650+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:21:17.8707000+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:21:21.4100560+01:00 0HMENE62GTH71:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:21:21.5034070+01:00 0HMENE62GTH71:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:21:21.5047180+01:00 0HMENE62GTH71:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:21:21.5310300+01:00 0HMENE62GTH71:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:21:21.5381210+01:00 0HMENE62GTH71:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:21:21.5727070+01:00 0HMENE62GTH71:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:21:21.5833270+01:00 0HMENE62GTH71:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 41.948ms (afa2e885)
2022-01-14T16:21:21.5842060+01:00 0HMENE62GTH71:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:21:21.5924280+01:00 0HMENE62GTH71:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 185.1046ms (791a596a)
2022-01-14T16:21:21.5972860+01:00 0HMENE62GTH71:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:21:21.6008450+01:00 0HMENE62GTH71:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:21:21.6029080+01:00 0HMENE62GTH71:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:21:21.6048730+01:00 0HMENE62GTH71:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:21:21.6072710+01:00 0HMENE62GTH71:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:21:21.6244160+01:00 0HMENE62GTH71:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:21:21.6435200+01:00 0HMENE62GTH71:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:21:21.7012010+01:00 0HMENE62GTH71:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:21:21.7638560+01:00 0HMENE62GTH71:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:21:21.9436030+01:00 0HMENE62GTH71:00000003 [INF] Executed ViewResult - view "Index" executed in 251.8452ms. (f66409e9)
2022-01-14T16:21:21.9437320+01:00 0HMENE62GTH71:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 340.7566ms (afa2e885)
2022-01-14T16:21:21.9437890+01:00 0HMENE62GTH71:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:21:21.9498340+01:00 0HMENE62GTH71:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 352.5012ms (791a596a)
2022-01-14T16:21:24.8347230+01:00 0HMENE62GTH71:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:21:24.8633560+01:00 0HMENE62GTH71:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:21:24.8635260+01:00 0HMENE62GTH71:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:21:24.8836850+01:00 0HMENE62GTH71:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:21:24.9097880+01:00 0HMENE62GTH71:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:21:24.9443370+01:00 0HMENE62GTH71:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:21:24.9554390+01:00 0HMENE62GTH71:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:25.1441810+01:00 0HMENE62GTH71:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:21:25.1727270+01:00 0HMENE62GTH71:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 288.666ms (afa2e885)
2022-01-14T16:21:25.1729190+01:00 0HMENE62GTH71:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:21:25.1741080+01:00 0HMENE62GTH71:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"1fea791b-b7f3-2e39-497e-393f6a4f0a87" (1d7cf8c0)
2022-01-14T16:21:25.1758220+01:00 0HMENE62GTH71:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 341.1942ms (791a596a)
2022-01-14T16:21:27.2337720+01:00 0HMENE62GTH71:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:21:27.2364700+01:00 0HMENE62GTH71:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:21:27.2368470+01:00 0HMENE62GTH71:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:21:27.2370770+01:00 0HMENE62GTH71:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:21:27.3221080+01:00 0HMENE62GTH71:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:21:27.3561530+01:00 0HMENE62GTH71:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:21:27.7502060+01:00 0HMENE62GTH71:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:21:27.7939410+01:00 0HMENE62GTH71:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:21:30.0295880+01:00 0HMENE62GTH71:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 2792.4194ms (afa2e885)
2022-01-14T16:21:30.0322130+01:00 0HMENE62GTH71:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:21:30.0950260+01:00 0HMENE62GTH71:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at    .       (   , Char )
   at    .       (   )
   at    .(    ,    ,     )
   at    ..ctor(    , IBrowsingContext ,    )
   at    ..ctor(Node ,    ,     )
   at    .(Document ,     , String )
   at    ..(Renderer , Document ,     )
   at    . .()
   at   .      (Boolean )
   at   .Dispose()
   at    .       (IDevice ,     )
   at    .()
   at    .()
   at    .       (Renderer ,    [] , IDevice , TimeSpan )
   at Aspose.Html.Rendering.HtmlRenderer.(IDevice , TimeSpan , Element[] , Document[] )
   at Aspose.Html.Rendering.HtmlRenderer.Render(IDevice device, TimeSpan timeout, Document[] documents)
   at Aspose.Html.Rendering.Renderer`1.Render(IDevice device, TDocument document, TimeSpan timeout)
   at Aspose.Html.Rendering.Renderer`1.Render(IDevice device, TDocument document)
   at   .(   , IDevice )
   at   .      (   , PdfSaveOptions , ICreateStreamProvider )
   at   .      (HTMLDocument , PdfSaveOptions , String )
   at Aspose.Html.Converters.Converter.ConvertHTML(HTMLDocument document, PdfSaveOptions options, String outputPath)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 53
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 58
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:21:30.1922130+01:00 0HMENE62GTH71:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 2958.5281ms (791a596a)
2022-01-14T16:22:21.4976070+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:22:29.8916230+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:22:30.2938620+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:22:30.5350240+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:22:30.5420800+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:22:30.7689870+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:30.8596970+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:22:30.8835480+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:30.8919700+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:22:30.8981710+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:30.8984870+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:22:30.9266750+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:22:30.9508060+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:31.0445450+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:31.3589460+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:22:31.3590420+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:22:31.3592000+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:22:31.3592470+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:22:31.3592810+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:22:31.9293040+01:00 0HMENE6NH8VC6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:22:32.0342280+01:00 0HMENE6NH8VC6:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:22:32.0360950+01:00 0HMENE6NH8VC6:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:22:32.0647760+01:00 0HMENE6NH8VC6:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:22:32.0740370+01:00 0HMENE6NH8VC6:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:22:32.1371750+01:00 0HMENE6NH8VC6:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:22:32.1508480+01:00 0HMENE6NH8VC6:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 73.1485ms (afa2e885)
2022-01-14T16:22:32.1519760+01:00 0HMENE6NH8VC6:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:22:32.1624110+01:00 0HMENE6NH8VC6:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 237.9968ms (791a596a)
2022-01-14T16:22:32.1685970+01:00 0HMENE6NH8VC6:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:22:32.1725250+01:00 0HMENE6NH8VC6:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:22:32.1755560+01:00 0HMENE6NH8VC6:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:22:32.1778310+01:00 0HMENE6NH8VC6:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:22:32.1804970+01:00 0HMENE6NH8VC6:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:22:32.1981390+01:00 0HMENE6NH8VC6:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:22:32.2178080+01:00 0HMENE6NH8VC6:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:22:32.2764330+01:00 0HMENE6NH8VC6:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:22:32.3344260+01:00 0HMENE6NH8VC6:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:22:32.4938200+01:00 0HMENE6NH8VC6:00000003 [INF] Executed ViewResult - view "Index" executed in 226.8833ms. (f66409e9)
2022-01-14T16:22:32.4939350+01:00 0HMENE6NH8VC6:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 318.2999ms (afa2e885)
2022-01-14T16:22:32.4940660+01:00 0HMENE6NH8VC6:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:22:32.4998460+01:00 0HMENE6NH8VC6:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 331.2543ms (791a596a)
2022-01-14T16:22:35.8367630+01:00 0HMENE6NH8VC6:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:22:35.8653090+01:00 0HMENE6NH8VC6:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:22:35.8654630+01:00 0HMENE6NH8VC6:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:22:35.8864960+01:00 0HMENE6NH8VC6:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:22:35.9128150+01:00 0HMENE6NH8VC6:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:22:35.9467340+01:00 0HMENE6NH8VC6:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:22:35.9571680+01:00 0HMENE6NH8VC6:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:36.1257680+01:00 0HMENE6NH8VC6:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:22:36.1448600+01:00 0HMENE6NH8VC6:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 258.2523ms (afa2e885)
2022-01-14T16:22:36.1449420+01:00 0HMENE6NH8VC6:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:22:36.1455420+01:00 0HMENE6NH8VC6:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"2e6456a2-e426-112b-6047-96acf6e1a721" (1d7cf8c0)
2022-01-14T16:22:36.1462080+01:00 0HMENE6NH8VC6:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 309.5276ms (791a596a)
2022-01-14T16:22:37.6246430+01:00 0HMENE6NH8VC6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:22:37.6267480+01:00 0HMENE6NH8VC6:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:22:37.6272400+01:00 0HMENE6NH8VC6:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:22:37.6275880+01:00 0HMENE6NH8VC6:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:22:37.7108300+01:00 0HMENE6NH8VC6:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:22:37.7417700+01:00 0HMENE6NH8VC6:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:22:38.0975040+01:00 0HMENE6NH8VC6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:22:38.1567170+01:00 0HMENE6NH8VC6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:22:38.8853740+01:00 0HMENE6NH8VC6:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1257.693ms (afa2e885)
2022-01-14T16:22:38.8869590+01:00 0HMENE6NH8VC6:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:22:38.9364640+01:00 0HMENE6NH8VC6:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/%3Chtml%3E%3Chead%3E%3C/head%3E%3Cbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class=%22table%20table-clear%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class=%22left%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3ETotal%20Price%3C/strong%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%3C/body%3E%3C/html%3E' could not be found.
 ---> Aspose.Html.Dom.DOMException: 'file:///Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/%3Chtml%3E%3Chead%3E%3C/head%3E%3Cbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class=%22table%20table-clear%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class=%22left%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3ETotal%20Price%3C/strong%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tbody%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%3C/body%3E%3C/html%3E' could not be found.
   at    . [T](UInt16 , String , String , Object[] )
   at    .(UInt16 , String , String , Object[] )
   at    .(String , Object[] )
   at Aspose.Html.Dom.Document. ..()
   at    .()
   --- End of inner exception stack trace ---
   at    .       (Boolean )
   at Aspose.Html.Dom.Document.( )
   at Aspose.Html.Dom.Document..ctor(IDocumentInit documentInit)
   at Aspose.Html.HTMLDocument..ctor(RequestMessage , Configuration , Byte )
   at Aspose.Html.HTMLDocument..ctor(Url url, Configuration configuration)
   at   ..ctor(Url , Configuration )
   at   ..ctor(String , Configuration )
   at   ..ctor(String )
   at Aspose.Html.Converters.Converter.ConvertHTML(String sourcePath, PdfSaveOptions options, String outputPath)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 49
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 54
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:22:38.9933400+01:00 0HMENE6NH8VC6:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 1368.7734ms (791a596a)
2022-01-14T16:26:06.8024900+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:26:18.5755870+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:26:19.2909690+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:26:19.7298760+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:26:19.7440170+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:26:20.1400010+01:00  [INF] Executed DbCommand ("48"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:20.3062810+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:26:20.3685900+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:20.3939600+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:26:20.4073620+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:20.4079010+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:26:20.4747290+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:26:20.5117240+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:20.6738570+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:21.0428350+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:26:21.0430520+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:26:21.0436590+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:26:21.0437970+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:26:21.0439220+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:26:23.2362330+01:00 0HMENE8SEM90F:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:26:23.3587870+01:00 0HMENE8SEM90F:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:26:23.3602190+01:00 0HMENE8SEM90F:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:26:23.3894730+01:00 0HMENE8SEM90F:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:26:23.3957650+01:00 0HMENE8SEM90F:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:26:23.4333700+01:00 0HMENE8SEM90F:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:26:23.4429350+01:00 0HMENE8SEM90F:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 44.2087ms (afa2e885)
2022-01-14T16:26:23.4438790+01:00 0HMENE8SEM90F:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:26:23.4530090+01:00 0HMENE8SEM90F:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 222.6852ms (791a596a)
2022-01-14T16:26:23.4582190+01:00 0HMENE8SEM90F:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:26:23.4628890+01:00 0HMENE8SEM90F:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:26:23.4651490+01:00 0HMENE8SEM90F:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:26:23.4676450+01:00 0HMENE8SEM90F:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:26:23.4707600+01:00 0HMENE8SEM90F:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:26:23.4883080+01:00 0HMENE8SEM90F:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:26:23.5131070+01:00 0HMENE8SEM90F:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:26:23.5780870+01:00 0HMENE8SEM90F:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:26:23.6520650+01:00 0HMENE8SEM90F:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:26:23.8553550+01:00 0HMENE8SEM90F:00000003 [INF] Executed ViewResult - view "Index" executed in 285.6186ms. (f66409e9)
2022-01-14T16:26:23.8554900+01:00 0HMENE8SEM90F:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 390.2561ms (afa2e885)
2022-01-14T16:26:23.8555770+01:00 0HMENE8SEM90F:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:26:23.8620300+01:00 0HMENE8SEM90F:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 403.7403ms (791a596a)
2022-01-14T16:26:34.4635500+01:00 0HMENE8SEM90F:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:26:34.4894370+01:00 0HMENE8SEM90F:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:26:34.4895850+01:00 0HMENE8SEM90F:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:26:34.5095900+01:00 0HMENE8SEM90F:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:26:34.5351720+01:00 0HMENE8SEM90F:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:26:34.5686020+01:00 0HMENE8SEM90F:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:26:34.5792470+01:00 0HMENE8SEM90F:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:34.7414260+01:00 0HMENE8SEM90F:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:26:34.7564390+01:00 0HMENE8SEM90F:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 246.7122ms (afa2e885)
2022-01-14T16:26:34.7565480+01:00 0HMENE8SEM90F:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:26:34.7572140+01:00 0HMENE8SEM90F:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"fde03612-390a-7965-4745-bc2e3435d88a" (1d7cf8c0)
2022-01-14T16:26:34.7598220+01:00 0HMENE8SEM90F:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 296.1831ms (791a596a)
2022-01-14T16:26:36.3762410+01:00 0HMENE8SEM90F:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:26:36.3784430+01:00 0HMENE8SEM90F:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:26:36.3787860+01:00 0HMENE8SEM90F:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:26:36.3790020+01:00 0HMENE8SEM90F:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:26:36.4594770+01:00 0HMENE8SEM90F:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:26:36.4892050+01:00 0HMENE8SEM90F:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:26:36.9000120+01:00 0HMENE8SEM90F:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:26:36.9520030+01:00 0HMENE8SEM90F:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:26:37.0176410+01:00 0HMENE8SEM90F:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 638.5504ms (afa2e885)
2022-01-14T16:26:37.0200120+01:00 0HMENE8SEM90F:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:26:37.0804900+01:00 0HMENE8SEM90F:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile(Order order)
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 60
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:26:37.1263980+01:00 0HMENE8SEM90F:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 749.7983ms (791a596a)
2022-01-14T16:27:22.2383550+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:27:29.1896660+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:27:29.5944000+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:27:29.8492620+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:27:29.8600680+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:27:30.0657950+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:30.1494400+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:27:30.1949360+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:30.2067180+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:27:30.2171390+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:30.2175570+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:27:30.2731110+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:27:30.3060020+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:30.4208440+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:30.7344290+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:27:30.7345680+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:27:30.7348020+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:27:30.7348670+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:27:30.7349000+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:27:32.9349570+01:00 0HMENE9H822IL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:27:33.0253020+01:00 0HMENE9H822IL:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:27:33.0269630+01:00 0HMENE9H822IL:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:27:33.0522750+01:00 0HMENE9H822IL:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:27:33.0585620+01:00 0HMENE9H822IL:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:27:33.0945330+01:00 0HMENE9H822IL:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:27:33.1033940+01:00 0HMENE9H822IL:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 42.5596ms (afa2e885)
2022-01-14T16:27:33.1041670+01:00 0HMENE9H822IL:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:27:33.1115990+01:00 0HMENE9H822IL:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 179.7866ms (791a596a)
2022-01-14T16:27:33.1156460+01:00 0HMENE9H822IL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:27:33.1184080+01:00 0HMENE9H822IL:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:27:33.1204430+01:00 0HMENE9H822IL:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:27:33.1220720+01:00 0HMENE9H822IL:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:27:33.1240250+01:00 0HMENE9H822IL:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:27:33.1361830+01:00 0HMENE9H822IL:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:27:33.1510370+01:00 0HMENE9H822IL:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:27:33.1989640+01:00 0HMENE9H822IL:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:27:33.2478970+01:00 0HMENE9H822IL:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:27:33.4276510+01:00 0HMENE9H822IL:00000003 [INF] Executed ViewResult - view "Index" executed in 237.1652ms. (f66409e9)
2022-01-14T16:27:33.4277740+01:00 0HMENE9H822IL:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 307.2652ms (afa2e885)
2022-01-14T16:27:33.4278290+01:00 0HMENE9H822IL:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:27:33.4330340+01:00 0HMENE9H822IL:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 317.2554ms (791a596a)
2022-01-14T16:27:36.1493500+01:00 0HMENE9H822IL:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:27:36.1757180+01:00 0HMENE9H822IL:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:27:36.1758590+01:00 0HMENE9H822IL:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:27:36.1957590+01:00 0HMENE9H822IL:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:27:36.2251690+01:00 0HMENE9H822IL:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:27:36.2590760+01:00 0HMENE9H822IL:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:27:36.2704340+01:00 0HMENE9H822IL:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:36.4669250+01:00 0HMENE9H822IL:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:27:36.4906210+01:00 0HMENE9H822IL:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 294.7122ms (afa2e885)
2022-01-14T16:27:36.4907450+01:00 0HMENE9H822IL:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:27:36.4918900+01:00 0HMENE9H822IL:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"2dc2b669-6fbd-9725-dd06-eb16e75b822a" (1d7cf8c0)
2022-01-14T16:27:36.4927620+01:00 0HMENE9H822IL:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 343.5109ms (791a596a)
2022-01-14T16:27:38.3765390+01:00 0HMENE9H822IL:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:27:38.3785340+01:00 0HMENE9H822IL:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:27:38.3788510+01:00 0HMENE9H822IL:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:27:38.3790500+01:00 0HMENE9H822IL:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:27:38.4641530+01:00 0HMENE9H822IL:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:27:38.4950690+01:00 0HMENE9H822IL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:27:38.8129420+01:00 0HMENE9H822IL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:27:38.8597300+01:00 0HMENE9H822IL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:27:38.9098520+01:00 0HMENE9H822IL:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 530.7047ms (afa2e885)
2022-01-14T16:27:38.9116500+01:00 0HMENE9H822IL:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:27:38.9585910+01:00 0HMENE9H822IL:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 60
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:27:39.0022570+01:00 0HMENE9H822IL:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 625.7737ms (791a596a)
2022-01-14T16:31:00.3614430+01:00  [INF] Application is shutting down... (90f52c38)
2022-01-14T16:31:10.2504000+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:10.6849570+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:31:11.0063010+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:31:11.0139400+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:31:11.3033480+01:00  [INF] Executed DbCommand ("67"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:11.4312980+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:31:11.4608790+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:11.4695960+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:31:11.4772930+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:11.4779010+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:31:11.5118170+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:31:11.5372170+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:11.6494710+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:11.8744300+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:31:11.8745340+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:31:11.8747600+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:31:11.8748320+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:31:11.8748640+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:31:12.4908620+01:00 0HMENEBILLR8L:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:31:12.5972140+01:00 0HMENEBILLR8L:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:31:12.5987190+01:00 0HMENEBILLR8L:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:12.6251520+01:00 0HMENEBILLR8L:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:12.6308790+01:00 0HMENEBILLR8L:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:12.6620230+01:00 0HMENEBILLR8L:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:31:12.6703340+01:00 0HMENEBILLR8L:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 37.1248ms (afa2e885)
2022-01-14T16:31:12.6712480+01:00 0HMENEBILLR8L:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:12.6789750+01:00 0HMENEBILLR8L:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 193.1022ms (791a596a)
2022-01-14T16:31:12.6837780+01:00 0HMENEBILLR8L:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:31:12.6870030+01:00 0HMENEBILLR8L:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:12.6900970+01:00 0HMENEBILLR8L:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:12.6921690+01:00 0HMENEBILLR8L:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:31:12.6958220+01:00 0HMENEBILLR8L:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:12.7149340+01:00 0HMENEBILLR8L:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:31:12.7386710+01:00 0HMENEBILLR8L:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:31:12.8001460+01:00 0HMENEBILLR8L:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:31:12.8578200+01:00 0HMENEBILLR8L:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:12.9068560+01:00 0HMENEBILLR8M:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:31:12.9372440+01:00 0HMENEBILLR8M:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:31:12.9375610+01:00 0HMENEBILLR8M:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:12.9379250+01:00 0HMENEBILLR8M:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:12.9383390+01:00 0HMENEBILLR8M:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:12.9389560+01:00 0HMENEBILLR8M:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:31:12.9392520+01:00 0HMENEBILLR8M:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 1.1537ms (afa2e885)
2022-01-14T16:31:12.9393410+01:00 0HMENEBILLR8M:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:12.9399960+01:00 0HMENEBILLR8M:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 33.0885ms (791a596a)
2022-01-14T16:31:12.9443470+01:00 0HMENEBILLR8M:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:31:12.9455910+01:00 0HMENEBILLR8M:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:12.9457990+01:00 0HMENEBILLR8M:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:12.9460150+01:00 0HMENEBILLR8M:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:31:13.0336170+01:00 0HMENEBILLR8M:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:13.0383490+01:00 0HMENEBILLR8M:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:31:13.0404010+01:00 0HMENEBILLR8M:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:31:13.0412730+01:00 0HMENEBILLR8M:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:31:13.0432640+01:00 0HMENEBILLR8M:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:13.0909450+01:00 0HMENEBILLR8L:00000003 [INF] Executed ViewResult - view "Index" executed in 299.2155ms. (f66409e9)
2022-01-14T16:31:13.0910580+01:00 0HMENEBILLR8L:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 400.8771ms (afa2e885)
2022-01-14T16:31:13.0911200+01:00 0HMENEBILLR8L:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:13.0933420+01:00 0HMENEBILLR8M:00000003 [INF] Executed ViewResult - view "Index" executed in 52.2366ms. (f66409e9)
2022-01-14T16:31:13.0934550+01:00 0HMENEBILLR8M:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 147.5845ms (afa2e885)
2022-01-14T16:31:13.0935110+01:00 0HMENEBILLR8M:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:13.0969470+01:00 0HMENEBILLR8L:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 413.0528ms (791a596a)
2022-01-14T16:31:13.0969470+01:00 0HMENEBILLR8M:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 152.5352ms (791a596a)
2022-01-14T16:31:16.1819690+01:00 0HMENEBILLR8M:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:31:16.1856170+01:00 0HMENEBILLR8M:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:31:16.1861940+01:00 0HMENEBILLR8M:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:16.2053620+01:00 0HMENEBILLR8M:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:16.2426410+01:00 0HMENEBILLR8M:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:16.2437350+01:00 0HMENEBILLR8M:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:16.2550870+01:00 0HMENEBILLR8M:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:16.3298340+01:00 0HMENEBILLR8N:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:31:16.3306410+01:00 0HMENEBILLR8N:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:31:16.3307020+01:00 0HMENEBILLR8N:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:16.3308340+01:00 0HMENEBILLR8N:00000002 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:16.3318550+01:00 0HMENEBILLR8N:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:31:16.3322240+01:00 0HMENEBILLR8N:00000002 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:16.3336130+01:00 0HMENEBILLR8N:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:16.4438370+01:00 0HMENEBILLR8N:00000002 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:31:16.4438360+01:00 0HMENEBILLR8M:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:31:16.4640260+01:00 0HMENEBILLR8M:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 258.5549ms (afa2e885)
2022-01-14T16:31:16.4640260+01:00 0HMENEBILLR8N:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 133.012ms (afa2e885)
2022-01-14T16:31:16.4641100+01:00 0HMENEBILLR8M:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:16.4641920+01:00 0HMENEBILLR8N:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:16.4648550+01:00 0HMENEBILLR8M:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"94a15637-1879-f110-9e83-243fa2cb9c80" (1d7cf8c0)
2022-01-14T16:31:16.4649010+01:00 0HMENEBILLR8N:00000002 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"b4f763c9-a1a4-72c2-eed1-ef30108b1c82" (1d7cf8c0)
2022-01-14T16:31:16.4660540+01:00 0HMENEBILLR8M:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 284.2565ms (791a596a)
2022-01-14T16:31:16.4660410+01:00 0HMENEBILLR8N:00000002 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 136.1751ms (791a596a)
2022-01-14T16:31:18.3329710+01:00 0HMENEBILLR8M:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:31:18.3343250+01:00 0HMENEBILLR8M:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:31:18.3344170+01:00 0HMENEBILLR8M:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:31:18.3345980+01:00 0HMENEBILLR8M:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:31:18.4143170+01:00 0HMENEBILLR8M:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:31:18.4416810+01:00 0HMENEBILLR8M:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:31:18.7592170+01:00 0HMENEBILLR8M:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:31:18.8055600+01:00 0HMENEBILLR8M:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:31:18.8578260+01:00 0HMENEBILLR8M:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 523.1261ms (afa2e885)
2022-01-14T16:31:18.8593880+01:00 0HMENEBILLR8M:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:31:18.9038450+01:00 0HMENEBILLR8M:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 56
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:31:18.9590480+01:00 0HMENEBILLR8M:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 626.0890ms (791a596a)
2022-01-14T16:33:36.4708670+01:00  [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:33:37.3427270+01:00  [INF] Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Salek.EShop'" (0723d8ff)
2022-01-14T16:33:38.0663940+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:33:38.0888470+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:33:38.5104280+01:00  [INF] Executed DbCommand ("51"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:33:38.6515100+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:33:38.6881350+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:33:38.6889060+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:33:38.6938320+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `r`.`Id`, `r`.`ConcurrencyStamp`, `r`.`Name`, `r`.`NormalizedName`
FROM `Roles` AS `r`
WHERE `r`.`NormalizedName` = @__normalizedName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:33:38.6943690+01:00  [WRN] Role "(null)" validation failed: "DuplicateRoleName". (60d773c7)
2022-01-14T16:33:38.7525430+01:00  [INF] User profile is available. Using '"/Users/osalek/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2022-01-14T16:33:38.7999780+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:33:38.9849950+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1" (0723d8ff)
2022-01-14T16:33:39.4202720+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2022-01-14T16:33:39.4204140+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2022-01-14T16:33:39.4207480+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-01-14T16:33:39.4208200+01:00  [INF] Hosting environment: "Development" (c3307c92)
2022-01-14T16:33:39.4208610+01:00  [INF] Content root path: "/Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web" (b5d60022)
2022-01-14T16:34:00.7149020+01:00 0HMENED4Q7JDF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:34:00.8099200+01:00 0HMENED4Q7JDF:00000002 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:34:00.8110580+01:00 0HMENED4Q7JDF:00000002 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:34:00.8307590+01:00 0HMENED4Q7JDF:00000002 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:34:00.8367020+01:00 0HMENED4Q7JDF:00000002 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:34:00.8638430+01:00 0HMENED4Q7JDF:00000002 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2022-01-14T16:34:00.8703250+01:00 0HMENED4Q7JDF:00000002 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 33.2735ms (afa2e885)
2022-01-14T16:34:00.8709200+01:00 0HMENED4Q7JDF:00000002 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:34:00.8883530+01:00 0HMENED4Q7JDF:00000002 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 302 0 - 176.5354ms (791a596a)
2022-01-14T16:34:00.8922190+01:00 0HMENED4Q7JDF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/ - - (ca22a1cb)
2022-01-14T16:34:00.8946240+01:00 0HMENED4Q7JDF:00000003 [INF] Executing endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:34:00.8964910+01:00 0HMENED4Q7JDF:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Salek.EShop.Web.Controllers.HomeController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:34:00.8981770+01:00 0HMENED4Q7JDF:00000003 [INF] Index viewed (84b92a55)
2022-01-14T16:34:00.9003750+01:00 0HMENED4Q7JDF:00000003 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:34:00.9095100+01:00 0HMENED4Q7JDF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`Id`, `c`.`ImageAlt`, `c`.`ImageSource`
FROM `CarouselItem` AS `c`" (0723d8ff)
2022-01-14T16:34:00.9250940+01:00 0HMENED4Q7JDF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`" (0723d8ff)
2022-01-14T16:34:00.9735680+01:00 0HMENED4Q7JDF:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2022-01-14T16:34:01.0283900+01:00 0HMENED4Q7JDF:00000003 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:34:01.1984060+01:00 0HMENED4Q7JDF:00000003 [INF] Executed ViewResult - view "Index" executed in 232.2334ms. (f66409e9)
2022-01-14T16:34:01.1985070+01:00 0HMENED4Q7JDF:00000003 [INF] Executed action "Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)" in 301.9569ms (afa2e885)
2022-01-14T16:34:01.1985560+01:00 0HMENED4Q7JDF:00000003 [INF] Executed endpoint '"Salek.EShop.Web.Controllers.HomeController.Index (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:34:01.2043560+01:00 0HMENED4Q7JDF:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 312.0431ms (791a596a)
2022-01-14T16:34:04.1257440+01:00 0HMENED4Q7JDF:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 (ca22a1cb)
2022-01-14T16:34:04.1499460+01:00 0HMENED4Q7JDF:00000004 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:34:04.1501030+01:00 0HMENED4Q7JDF:00000004 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:34:04.1680740+01:00 0HMENED4Q7JDF:00000004 [INF] Route matched with "{area = \"Customer\", action = \"AddOrderItemsToSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "Double AddOrderItemsToSession(System.Nullable`1[System.Int32])" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:34:04.2012920+01:00 0HMENED4Q7JDF:00000004 [INF] Accessing expired session, Key:"af000063-a102-26dc-3100-5369c3c683d6" (08c5a9e7)
2022-01-14T16:34:04.2341350+01:00 0HMENED4Q7JDF:00000004 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:34:04.2447110+01:00 0HMENED4Q7JDF:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Id`, `p`.`Description`, `p`.`ImageAlt`, `p`.`ImageSource`, `p`.`Name`, `p`.`Price`
FROM `ProductItem` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1" (0723d8ff)
2022-01-14T16:34:04.3961830+01:00 0HMENED4Q7JDF:00000004 [INF] Executing "ObjectResult", writing value of type '"System.Double"'. (605b4265)
2022-01-14T16:34:04.4125490+01:00 0HMENED4Q7JDF:00000004 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)" in 244.3472ms (afa2e885)
2022-01-14T16:34:04.4126360+01:00 0HMENED4Q7JDF:00000004 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.AddOrderItemsToSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:34:04.4133270+01:00 0HMENED4Q7JDF:00000004 [INF] Session started; Key:"af000063-a102-26dc-3100-5369c3c683d6", Id:"be9a1bc1-35cd-b337-a456-c45e96379cdc" (1d7cf8c0)
2022-01-14T16:34:04.4140920+01:00 0HMENED4Q7JDF:00000004 [INF] Request finished HTTP/1.1 POST https://localhost:5001/Customer/CustomerOrderNotCart/AddOrderItemsToSession application/x-www-form-urlencoded;+charset=UTF-8 11 - 200 - application/json;+charset=utf-8 288.3852ms (791a596a)
2022-01-14T16:34:06.7367850+01:00 0HMENED4Q7JDF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - (ca22a1cb)
2022-01-14T16:34:06.7397480+01:00 0HMENED4Q7JDF:00000005 [INF] Authorization was successful. (0d575a54)
2022-01-14T16:34:06.7402440+01:00 0HMENED4Q7JDF:00000005 [INF] Executing endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (500cc934)
2022-01-14T16:34:06.7406530+01:00 0HMENED4Q7JDF:00000005 [INF] Route matched with "{area = \"Customer\", action = \"ApproveOrderInSession\", controller = \"CustomerOrderNotCart\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveOrderInSession()" on controller "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController" ("Salek.EShop.Web"). (122b2fdf)
2022-01-14T16:34:06.8204820+01:00 0HMENED4Q7JDF:00000005 [INF] Entity Framework Core "5.0.12" initialized '"EShopDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "ServerVersion 8.0.26-mysql " (9958f5bb)
2022-01-14T16:34:06.8515140+01:00 0HMENED4Q7JDF:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1" (0723d8ff)
2022-01-14T16:34:07.1560500+01:00 0HMENED4Q7JDF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 25), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Order` (`OrderNumber`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `ID`, `DateTimeCreated`
FROM `Order`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:34:07.1989420+01:00 0HMENED4Q7JDF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `OrderItem` (`Amount`, `OrderID`, `Price`, `ProductID`)
VALUES (@p3, @p4, @p5, @p6);
SELECT `ID`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();" (0723d8ff)
2022-01-14T16:34:07.2511600+01:00 0HMENED4Q7JDF:00000005 [INF] Executed action "Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)" in 510.3993ms (afa2e885)
2022-01-14T16:34:07.2528630+01:00 0HMENED4Q7JDF:00000005 [INF] Executed endpoint '"Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession (Salek.EShop.Web)"' (99874f2b)
2022-01-14T16:34:07.2970330+01:00 0HMENED4Q7JDF:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.IO.FileNotFoundException: Could not load file or assembly 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.

File name: 'HtmlRenderer, Version=1.5.0.6, Culture=neutral, PublicKeyToken=null'
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.RenderInvoiceFile()
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerInvoiceController.MailSender(Order order) in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerInvoiceController.cs:line 56
   at Salek.EShop.Web.Areas.Customer.Controllers.CustomerOrderNotCartController.ApproveOrderInSession() in /Users/osalek/Projects/Salek.EShop.Web/Salek.EShop.Web/Areas/Customer/Controllers/CustomerOrderNotCartController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-14T16:34:07.3435230+01:00 0HMENED4Q7JDF:00000005 [INF] Request finished HTTP/1.1 GET https://localhost:5001/Customer/CustomerOrderNotCart/ApproveOrderInSession - - - 500 - text/html;+charset=utf-8 606.7529ms (791a596a)
2022-01-14T18:39:54.0721260+01:00  [INF] Application is shutting down... (90f52c38)
